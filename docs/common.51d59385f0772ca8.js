"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{2122:(w,D,r)=>{r.r(D),r.d(D,{AddoptionDialogPage:()=>M,AddoptionDialogPageModule:()=>L});var d=r(6362),u=r(587),t=r(8139),l=r(3926),p=r(1951),n=r(5568),o=r(2340),i=r(8211),e=r(260),f=r(6301);const x=["focus_element"],s=function(_){return{language:_}};function v(_,y){if(1&_&&(e.TgZ(0,"small"),e._UZ(1,"p",5),e.ALo(2,"translate"),e.qZA()),2&_){const c=e.oxw(2);e.xp6(1),e.Q6J("innerHtml",e.xi3(2,1,"addoption.different-language",e.VKq(4,s,c.G.S.language_names[c.p.language])),e.oJD)}}function m(_,y){if(1&_&&(e._UZ(0,"div",21),e.ALo(1,"translate")),2&_){const c=e.oxw().$implicit;e.Q6J("innerHtml",e.lcZ(1,1,c.message),e.oJD)}}function b(_,y){if(1&_&&(e.ynx(0),e.YNc(1,m,2,3,"div",20),e.BQk()),2&_){const c=y.$implicit,A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",A.formGroup.get("option_name").hasError(c.type)&&(A.formGroup.get("option_name").dirty||A.formGroup.get("option_name").touched))}}function T(_,y){if(1&_&&(e._UZ(0,"div",21),e.ALo(1,"translate")),2&_){const c=e.oxw().$implicit;e.Q6J("innerHtml",e.lcZ(1,1,c.message),e.oJD)}}function E(_,y){if(1&_&&(e.ynx(0),e.YNc(1,T,2,3,"div",20),e.BQk()),2&_){const c=y.$implicit,A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",A.formGroup.get("option_desc").hasError(c.type)&&(A.formGroup.get("option_desc").dirty||A.formGroup.get("option_desc").touched))}}function g(_,y){if(1&_){const c=e.EpF();e.TgZ(0,"ion-button",22),e.NdJ("click",function(){e.CHM(c);const J=e.oxw(2);return J.G.open_url_in_new_tab(J.formGroup.get("option_url").value)}),e._UZ(1,"span",5),e.ALo(2,"translate"),e._uU(3,"\xa0 "),e._UZ(4,"ion-icon",23),e.qZA()}2&_&&(e.xp6(1),e.Q6J("innerHtml",e.lcZ(2,1,"test"),e.oJD))}function Z(_,y){if(1&_&&(e._UZ(0,"div",21),e.ALo(1,"translate")),2&_){const c=e.oxw().$implicit;e.Q6J("innerHtml",e.lcZ(1,1,c.message),e.oJD)}}function a(_,y){if(1&_&&(e.ynx(0),e.YNc(1,Z,2,3,"div",20),e.BQk()),2&_){const c=y.$implicit,A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",A.formGroup.get("option_url").hasError(c.type)&&(A.formGroup.get("option_url").dirty||A.formGroup.get("option_url").touched))}}const h=function(_){return{name:_}},C=function(){return[null,""]};function Q(_,y){if(1&_){const c=e.EpF();e.TgZ(0,"ion-content")(1,"form",1)(2,"ion-list",2)(3,"ion-item",3)(4,"ion-col",4),e._UZ(5,"h1",5),e.ALo(6,"translate"),e._UZ(7,"p",5),e.ALo(8,"translate"),e.YNc(9,v,3,6,"small",0),e.qZA()(),e.TgZ(10,"ion-item")(11,"ion-label",6),e._UZ(12,"span",5),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"ion-input",7,8),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",9),e.YNc(18,b,2,1,"ng-container",10),e.qZA(),e.TgZ(19,"ion-item")(20,"ion-label",6),e._UZ(21,"span",5),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"ion-textarea",11),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",9),e.YNc(26,E,2,1,"ng-container",10),e.qZA(),e.TgZ(27,"ion-item")(28,"ion-label",6),e._UZ(29,"span",5),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"ion-input",12),e.ALo(32,"translate"),e.YNc(33,g,5,3,"ion-button",13),e.qZA(),e.TgZ(34,"div",9),e.YNc(35,a,2,1,"ng-container",10),e.qZA(),e.TgZ(36,"ion-item",14)(37,"ion-buttons",15)(38,"ion-button",16),e.NdJ("click",function(){return e.CHM(c),e.oxw().ClosePopover()}),e._UZ(39,"ion-icon",17),e._uU(40,"\xa0 "),e._UZ(41,"span",5),e.ALo(42,"translate"),e.qZA(),e._uU(43,"\xa0\xa0 "),e.TgZ(44,"ion-button",18),e.NdJ("click",function(){return e.CHM(c),e.oxw().OK_button_clicked()}),e._UZ(45,"ion-icon",19),e._uU(46,"\xa0 "),e._UZ(47,"span",5),e.ALo(48,"translate"),e.qZA()()(),e.TgZ(49,"ion-item",3),e._UZ(50,"small",5),e.ALo(51,"translate"),e.qZA()()()()}if(2&_){const c=e.oxw();e.xp6(1),e.Q6J("formGroup",c.formGroup),e.xp6(4),e.Q6J("innerHtml",e.lcZ(6,20,"addoption.header"),e.oJD),e.xp6(2),e.Q6J("innerHtml",e.lcZ(8,22,"addoption.intro"),e.oJD),e.xp6(2),e.Q6J("ngIf",!!c.p.language&&c.p.language!=c.G.S.language),e.xp6(3),e.Q6J("innerHtml",e.lcZ(13,24,"winner"==c.p.type?"draftpoll.option-name-label":"draftpoll.target-name-label"),e.oJD),e.xp6(2),e.Q6J("placeholder",e.lcZ(16,26,"winner"==c.p.type?"draftpoll.option-name-placeholder":"draftpoll.target-name-placeholder"))("maxlength",c.E.max_len.name),e.xp6(4),e.Q6J("ngForOf",c.validation_messages.option_name),e.xp6(3),e.Q6J("innerHtml",e.lcZ(22,28,"draftpoll.option-desc-label"),e.oJD),e.xp6(2),e.Q6J("maxlength",c.E.max_len.desc)("placeholder",e.xi3(24,30,"draftpoll.option-desc-placeholder",e.VKq(44,h,c.formGroup.get("option_name").value))),e.xp6(3),e.Q6J("ngForOf",c.validation_messages.option_desc),e.xp6(3),e.Q6J("innerHtml",e.lcZ(30,33,"draftpoll.option-url-label"),e.oJD),e.xp6(2),e.Q6J("placeholder",e.xi3(32,35,"draftpoll.option-url-placeholder",e.VKq(46,h,c.formGroup.get("option_name").value)))("maxlength",c.E.max_len.url),e.xp6(2),e.Q6J("ngIf",c.formGroup.get("option_url").valid&&!e.DdM(48,C).includes(c.formGroup.get("option_url").value)),e.xp6(2),e.Q6J("ngForOf",c.validation_messages.option_url),e.xp6(6),e.Q6J("innerHtml",e.lcZ(42,38,"cancel"),e.oJD),e.xp6(6),e.Q6J("innerHtml",e.lcZ(48,40,"add"),e.oJD),e.xp6(3),e.Q6J("innerHtml",e.lcZ(51,42,"addoption.info"),e.oJD)}}let M=(()=>{class _{constructor(c,A,J,S,P){this.formBuilder=c,this.popover=A,this.G=J,this.translate=S,this.ref=P,this.E=o.N,this.ready=!1,this.validation_messages={option_name:[{type:"required",message:"validation.option-name-required"}],option_desc:[],option_url:[{type:"pattern",message:"validation.option-url-valid"}]}}ngOnInit(){}ionViewWillEnter(){this.p=this.parent.p,this.formGroup=this.formBuilder.group({}),this.formGroup.addControl("option_name",new u.NI("",u.kI.required)),this.formGroup.addControl("option_desc",new u.NI("")),this.formGroup.addControl("option_url",new u.NI("",u.kI.pattern(this.G.urlRegex))),this.ready=!0}ionViewDidEnter(){setTimeout(()=>this.focus_element.setFocus(),100)}OK_button_clicked(){const c=this.formGroup.get("option_name").value,A=this.formGroup.get("option_desc").value,J=this.formGroup.get("option_url").value,S=new i.Wx(this.G,this.p,null,c,A,J);n.s.schedule({notifications:[{title:this.translate.instant("addoption.notification-added-title"),body:c,id:0}]}).then(P=>{}).catch(P=>{}),"agreed"==this.parent.delegation_status&&this.G.Del.update_my_delegation(this.p.pid,S.oid,!0),this.p.set_my_own_rating(S.oid,this.G.S.default_wap),this.parent.oidsorted.push(S.oid),this.parent.sortingcounter++,this.ref.detectChanges(),setTimeout(()=>{this.p.tally_all(),this.popover.dismiss()},200)}ClosePopover(){this.popover.dismiss()}}return _.\u0275fac=function(c){return new(c||_)(e.Y36(u.qu),e.Y36(l.Dh),e.Y36(f.U),e.Y36(t.sK),e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-addoption-dialog"]],viewQuery:function(c,A){if(1&c&&e.Gf(x,5),2&c){let J;e.iGM(J=e.CRH())&&(A.focus_element=J.first)}},inputs:{parent:"parent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["lines","full"],["lines","none"],[1,"ion-no-padding","ion-no-margin"],[3,"innerHtml"],["position","floating","color","primary"],["formControlName","option_name","autofocus","true","type","text","required","",2,"font-weight","bold","font-style","italic",3,"placeholder","maxlength"],["focus_element",""],[1,"validation-errors"],[4,"ngFor","ngForOf"],["formControlName","option_desc","rows","1","auto-grow","","type","text",2,"font-style","italic",3,"maxlength","placeholder"],["formControlName","option_url","type","text","inputmode","url",2,"font-size","smaller",3,"placeholder","maxlength"],["fill","clear","slot","end","class","skip-button","tabindex","-1",3,"click",4,"ngIf"],["lines","none",1,"ion-text-right"],["slot","end"],["shape","round",3,"click"],["name","arrow-back-outline"],["color","primary","shape","round","fill","solid",3,"click"],["name","checkmark"],["class","error-message",3,"innerHtml",4,"ngIf"],[1,"error-message",3,"innerHtml"],["fill","clear","slot","end","tabindex","-1",1,"skip-button",3,"click"],["name","open-outline"]],template:function(c,A){1&c&&e.YNc(0,Q,52,49,"ion-content",0),2&c&&e.Q6J("ngIf",A.ready)},directives:[d.O5,l.W2,u._Y,u.JL,u.sg,l.q_,l.Ie,l.wI,l.Q$,l.pK,l.j9,u.JJ,u.u,u.Q7,u.nD,d.sg,l.g2,l.YG,l.gu,l.Sm],pipes:[t.X$],styles:['@charset "UTF-8";']}),_})();const U=[{path:"",component:M}];let I=(()=>{class _{}return _.\u0275fac=function(c){return new(c||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[[p.Bz.forChild(U)],p.Bz]}),_})(),L=(()=>{class _{}return _.\u0275fac=function(c){return new(c||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[[d.ez,u.u5,l.Pc,u.UX,I,t.aw.forChild()]]}),_})()},3357:(w,D,r)=>{r.r(D),r.d(D,{DraftpollKebapPage:()=>i,DraftpollKebapPageModule:()=>x});var d=r(6362),u=r(587),t=r(8139),l=r(3926),p=r(1951),n=r(260);function o(s,v){if(1&s&&n._UZ(0,"ion-select-option",10),2&s){const m=v.$implicit,b=n.oxw();n.Q6J("value",m)("innerHtml",b.JSON.parse(m).title,n.oJD)}}let i=(()=>{class s{constructor(m,b){this.popover=m,this.ref=b,this.JSON=JSON,this.examples=[]}ngOnInit(){}ionViewWillEnter(){}ClosePopover(){this.popover.dismiss()}send4review(){this.parent.send4review(),this.popover.dismiss()}import(){this.parent.import_csv_dialog(),this.popover.dismiss()}use_example_clicked(){this.parent.G.D.get_example_docs().then(m=>{this.examples=[];for(let b of m.rows){let T=b.doc;T._id.includes("\xa7\xa7")||this.examples.push(JSON.stringify(T))}this.ref.detectChanges(),this.select_example.open(new MouseEvent("click"))}).catch(m=>{this.parent.G.L.error("DraftpollPage.use_example_clicked failed",m)})}use_example(){var m=this.select_example.value;"-"!=(m||"-")&&(this.parent.restart_with_data(m),this.popover.dismiss())}}return s.\u0275fac=function(m){return new(m||s)(n.Y36(l.Dh),n.Y36(n.sBO))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-draftpoll-kebap"]],viewQuery:function(m,b){if(1&m&&n.Gf(l.t9,5),2&m){let T;n.iGM(T=n.CRH())&&(b.select_example=T.first)}},inputs:{parent:"parent"},decls:27,vars:19,consts:[[3,"click"],["fill","clear","color","dark"],["name","share-social"],[3,"innerHtml"],["name","folder-open-outline"],["name","cloud-download-outline"],["interface","popover","display","none",2,"font-size","smaller",3,"cancelText","okText","ionChange"],["ionSelects","","select_example",""],["value","-",3,"innerHtml"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(m,b){1&m&&(n.TgZ(0,"ion-content")(1,"ion-item",0),n.NdJ("click",function(){return b.send4review()}),n.TgZ(2,"ion-button",1),n._UZ(3,"ion-icon",2),n._uU(4,"\xa0\xa0"),n._UZ(5,"span",3),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"ion-item",0),n.NdJ("click",function(){return b.import()}),n.TgZ(8,"ion-button",1),n._UZ(9,"ion-icon",4),n._uU(10,"\xa0\xa0"),n._UZ(11,"span",3),n.ALo(12,"translate"),n.qZA()(),n.TgZ(13,"ion-item",0),n.NdJ("click",function(){return b.use_example_clicked()}),n.TgZ(14,"ion-button",1),n._UZ(15,"ion-icon",5),n._uU(16,"\xa0\xa0 "),n._UZ(17,"span",3),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"ion-select",6,7),n.NdJ("ionChange",function(){return b.use_example()}),n.ALo(22,"translate"),n.ALo(23,"translate"),n._UZ(24,"ion-select-option",8),n.ALo(25,"translate"),n.YNc(26,o,1,2,"ion-select-option",9),n.qZA()()()),2&m&&(n.xp6(5),n.Q6J("innerHtml",n.lcZ(6,7,"draftpoll.send-for-review"),n.oJD),n.xp6(6),n.Q6J("innerHtml",n.lcZ(12,9,"draftpoll.import-options-from-file"),n.oJD),n.xp6(6),n.Q6J("innerHtml",n.lcZ(18,11,"draftpoll.use-example-from-db"),n.oJD),n.xp6(2),n.Q6J("cancelText",n.lcZ(22,13,"cancel"))("okText",n.lcZ(23,15,"OK")),n.xp6(5),n.Q6J("innerHtml",n.lcZ(25,17,"draftpoll.use-example-from-db-none"),n.oJD),n.xp6(2),n.Q6J("ngForOf",b.examples))},directives:[l.W2,l.Ie,l.YG,l.gu,l.t9,l.QI,l.n0,d.sg],pipes:[t.X$],styles:['@charset "UTF-8";']}),s})();const e=[{path:"",component:i}];let f=(()=>{class s{}return s.\u0275fac=function(m){return new(m||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[[p.Bz.forChild(e)],p.Bz]}),s})(),x=(()=>{class s{}return s.\u0275fac=function(m){return new(m||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[[d.ez,u.u5,l.Pc,f,t.aw.forChild()]]}),s})()},2767:(w,D,r)=>{r.d(D,{K:()=>E});var d=r(587),u=r(2340),t=r(260),l=r(6301),p=r(3926),n=r(6362),o=r(8139);function i(g,Z){1&g&&(t._UZ(0,"ion-select-option",8),t.ALo(1,"translate")),2&g&&t.Q6J("innerHtml",t.lcZ(1,1,"select-server.same-as-personal"),t.oJD)}function e(g,Z){if(1&g&&t._UZ(0,"ion-select-option",12),2&g){const a=t.oxw().$implicit,h=t.oxw(2);t.Q6J("value",a)("innerHtml",h.G.P.polls[a].title,t.oJD)}}function f(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,e,1,2,"ion-select-option",11),t.BQk()),2&g){const a=Z.$implicit,h=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a!=h.page_object.p.pid)}}function x(g,Z){if(1&g){const a=t.EpF();t.ynx(0),t.TgZ(1,"ion-item"),t._UZ(2,"ion-label",1),t.ALo(3,"translate"),t.TgZ(4,"ion-select",9),t.NdJ("ionChange",function(){return t.CHM(a),t.oxw().set_db_from_pid()}),t.ALo(5,"translate"),t.ALo(6,"translate"),t.YNc(7,f,2,1,"ng-container",10),t.qZA()(),t.BQk()}if(2&g){const a=t.oxw();t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,4,"settings"==a.page?"select-server.which-poll":"select-server.which-other-poll"),t.oJD),t.xp6(2),t.Q6J("cancelText",t.lcZ(5,6,"cancel"))("okText",t.lcZ(6,8,"OK")),t.xp6(3),t.Q6J("ngForOf",a.Object.keys(a.G.P.polls))}}function s(g,Z){if(1&g&&(t._UZ(0,"div",20),t.ALo(1,"translate")),2&g){const a=t.oxw().$implicit;t.Q6J("innerHtml",t.lcZ(1,1,a.message),t.oJD)}}function v(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,s,2,3,"div",19),t.BQk()),2&g){const a=Z.$implicit,h=t.oxw(2);t.xp6(1),t.Q6J("ngIf",h.selectServerFormGroup.get("db_custom_server_url").hasError(a.type)&&(h.selectServerFormGroup.get("db_custom_server_url").dirty||h.selectServerFormGroup.get("db_custom_server_url").touched))}}function m(g,Z){if(1&g&&(t._UZ(0,"div",20),t.ALo(1,"translate")),2&g){const a=t.oxw().$implicit;t.Q6J("innerHtml",t.lcZ(1,1,a.message),t.oJD)}}function b(g,Z){if(1&g&&(t.ynx(0),t.YNc(1,m,2,3,"div",19),t.BQk()),2&g){const a=Z.$implicit,h=t.oxw(2);t.xp6(1),t.Q6J("ngIf",h.selectServerFormGroup.get("db_custom_password").hasError(a.type)&&(h.selectServerFormGroup.get("db_custom_password").dirty||h.selectServerFormGroup.get("db_custom_password").touched))}}function T(g,Z){if(1&g){const a=t.EpF();t.ynx(0),t.TgZ(1,"ion-item"),t._UZ(2,"small",13),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-item"),t._UZ(5,"ion-label",1),t.ALo(6,"translate"),t.TgZ(7,"ion-input",14),t.NdJ("ionChange",function(){return t.CHM(a),t.oxw().set_db_custom_server_url()}),t.qZA()(),t.TgZ(8,"div",15),t.YNc(9,v,2,1,"ng-container",10),t.qZA(),t.TgZ(10,"ion-item"),t._UZ(11,"ion-label",1),t.ALo(12,"translate"),t.TgZ(13,"ion-input",16),t.NdJ("keydown.enter",function(){t.CHM(a);const C=t.oxw();return C.showing_db_custom_password=!C.selectServerFormGroup.get("db_custom_password").valid&&C.showing_db_custom_password,C.blur()})("keydown.tab",function(){t.CHM(a);const C=t.oxw();return C.showing_db_custom_password=!C.selectServerFormGroup.get("db_custom_password").valid&&C.showing_db_custom_password,C.blur()})("ionChange",function(){return t.CHM(a),t.oxw().set_db_custom_password()}),t.qZA(),t.TgZ(14,"ion-button",17),t.NdJ("click",function(){t.CHM(a);const C=t.oxw();return C.showing_db_custom_password=!C.showing_db_custom_password}),t._UZ(15,"ion-icon",18),t._uU(16,"\xa0"),t._UZ(17,"span",13),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",15),t.YNc(20,b,2,1,"ng-container",10),t.qZA(),t.BQk()}if(2&g){const a=t.oxw();t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,10,"select-server.please-enter-couchdb"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(6,12,"db-server-url"),t.oJD),t.xp6(2),t.Q6J("maxlength",a.E.max_len.url),t.xp6(2),t.Q6J("ngForOf",a.validation_messages.db_custom_server_url),t.xp6(2),t.Q6J("innerHtml",t.lcZ(12,14,"db-pw"),t.oJD),t.xp6(2),t.Q6J("type",a.showing_db_custom_password?"text":"password")("maxlength",a.E.max_len.name),t.xp6(2),t.Q6J("name",a.showing_db_custom_password?"eye-off-outline":"eye-outline"),t.xp6(2),t.Q6J("innerHtml",t.lcZ(18,16,a.showing_db_custom_password?"hide":"show"),t.oJD),t.xp6(3),t.Q6J("ngForOf",a.validation_messages.db_custom_password)}}let E=(()=>{class g{constructor(a,h){this.formBuilder=a,this.G=h,this.E=u.N,this.Object=Object,this.validation_messages={db_custom_server_url:[{type:"required",message:"validation.db-server-url-required"},{type:"pattern",message:"validation.db-server-url-pattern"}],db_custom_password:[{type:"required",message:"validation.db-pw-required"}]}}ngOnInit(){this.G.L.entry("SelectServerComponent.ngOnInit"),this.selectServerFormGroup=this.formBuilder.group({db:new d.NI("settings"==this.page?"central":"default",d.kI.required),db_from_pid:new d.NI("TODO",d.kI.required),db_custom_server_url:new d.NI("",d.kI.pattern(this.G.urlRegex)),db_custom_password:new d.NI("",d.kI.required)}),this.showing_db_custom_password=!1,this.page_object&&this.page_object.onSelectServerReady(this)}blur(){}set_db(){let a=this.selectServerFormGroup.get("db");a.valid&&""!=a.value&&a.value&&this.page_object.set_db(a.value)}set_db_from_pid(){let a=this.selectServerFormGroup.get("db_from_pid");a.valid&&this.page_object.set_db_from_pid(a.value)}set_db_custom_server_url(){let a=this.selectServerFormGroup.get("db_custom_server_url");a.valid&&this.page_object.set_db_custom_server_url(a.value)}set_db_custom_password(){let a=this.selectServerFormGroup.get("db_custom_password");a.valid&&this.page_object.set_db_custom_password(a.value)}}return g.\u0275fac=function(a){return new(a||g)(t.Y36(d.qu),t.Y36(l.U))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-select-server"]],inputs:{page:"page",page_object:"page_object"},decls:16,vars:24,consts:[[3,"formGroup"],["position","floating","color","primary",3,"innerHtml"],["formControlName","db",3,"cancelText","okText","ionChange"],["value","default",3,"innerHtml",4,"ngIf"],["value","central",3,"innerHtml"],["value","poll",3,"innerHtml"],["value","other",3,"innerHtml"],[4,"ngIf"],["value","default",3,"innerHtml"],["formControlName","db_from_pid",2,"font-size","smaller",3,"cancelText","okText","ionChange"],[4,"ngFor","ngForOf"],[3,"value","innerHtml",4,"ngIf"],[3,"value","innerHtml"],[3,"innerHtml"],["type","text","formControlName","db_custom_server_url","required","","debounce","100",2,"font-size","smaller",3,"maxlength","ionChange"],[1,"validation-errors"],["formControlName","db_custom_password","required","","clearOnEdit","false","clearInput","true","debounce","100",2,"font-size","smaller",3,"type","maxlength","keydown.enter","keydown.tab","ionChange"],["slot","end","fill","clear","color","primary",2,"padding-top","10px",3,"click"],["tabindex","-1",3,"name"],["class","error-message",3,"innerHtml",4,"ngIf"],[1,"error-message",3,"innerHtml"]],template:function(a,h){1&a&&(t.TgZ(0,"form",0)(1,"ion-item"),t._UZ(2,"ion-label",1),t.ALo(3,"translate"),t.TgZ(4,"ion-select",2),t.NdJ("ionChange",function(){return h.set_db()}),t.ALo(5,"translate"),t.ALo(6,"translate"),t.YNc(7,i,2,3,"ion-select-option",3),t._UZ(8,"ion-select-option",4),t.ALo(9,"translate"),t._UZ(10,"ion-select-option",5),t.ALo(11,"translate"),t._UZ(12,"ion-select-option",6),t.ALo(13,"translate"),t.qZA()(),t.YNc(14,x,8,10,"ng-container",7),t.YNc(15,T,21,18,"ng-container",7),t.qZA()),2&a&&(t.Q6J("formGroup",h.selectServerFormGroup),t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,12,"settings"==h.page?"settings.db-label":"draftpoll.db-label"),t.oJD),t.xp6(2),t.Akn("settings"!=h.page?"font-size: smaller;":""),t.Q6J("cancelText",t.lcZ(5,14,"cancel"))("okText",t.lcZ(6,16,"OK")),t.xp6(3),t.Q6J("ngIf","settings"!=h.page),t.xp6(1),t.Q6J("innerHtml",t.lcZ(9,18,"select-server.central"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(11,20,"settings"==h.page?"select-server.same-as-some-poll":"select-server.same-as-other-poll"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(13,22,"select-server.other"),t.oJD),t.xp6(2),t.Q6J("ngIf","poll"==h.selectServerFormGroup.get("db").value),t.xp6(1),t.Q6J("ngIf","other"==h.selectServerFormGroup.get("db").value))},directives:[d._Y,d.JL,d.sg,p.Ie,p.Q$,p.t9,p.QI,d.JJ,d.u,n.O5,p.n0,n.sg,p.pK,p.j9,d.Q7,d.nD,p.YG,p.gu],pipes:[o.X$],styles:['@charset "UTF-8";']}),g})()},4496:(w,D,r)=>{r.d(D,{m:()=>n});var d=r(6362),u=r(3926),t=r(587),l=r(8139),p=r(260);let n=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=p.oAB({type:o}),o.\u0275inj=p.cJS({imports:[[d.ez,u.Pc,t.u5,t.UX,l.aw.forChild()]]}),o})()},6692:(w,D,r)=>{r.d(D,{c:()=>l});var d=r(2752),u=r(9137),t=r(3443);const l=(p,n)=>{let o,i;const e=(s,v,m)=>{if("undefined"==typeof document)return;const b=document.elementFromPoint(s,v);b&&n(b)?b!==o&&(x(),f(b,m)):x()},f=(s,v)=>{o=s,i||(i=o);const m=o;(0,d.c)(()=>m.classList.add("ion-activated")),v()},x=(s=!1)=>{if(!o)return;const v=o;(0,d.c)(()=>v.classList.remove("ion-activated")),s&&i!==o&&o.click(),o=void 0};return(0,t.createGesture)({el:p,gestureName:"buttonActiveDrag",threshold:0,onStart:s=>e(s.currentX,s.currentY,u.a),onMove:s=>e(s.currentX,s.currentY,u.b),onEnd:()=>{x(!0),(0,u.h)(),i=void 0}})}},8714:(w,D,r)=>{r.d(D,{a:()=>t,d:()=>l});var d=r(1670),u=r(1715);const t=function(){var p=(0,d.Z)(function*(n,o,i,e,f){if(n)return n.attachViewToDom(o,i,f,e);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const x="string"==typeof i?o.ownerDocument&&o.ownerDocument.createElement(i):i;return e&&e.forEach(s=>x.classList.add(s)),f&&Object.assign(x,f),o.appendChild(x),yield new Promise(s=>(0,u.c)(x,s)),x});return function(o,i,e,f,x){return p.apply(this,arguments)}}(),l=(p,n)=>{if(n){if(p)return p.removeViewFromDom(n.parentElement,n);n.remove()}return Promise.resolve()}},9137:(w,D,r)=>{r.d(D,{a:()=>t,b:()=>l,c:()=>u,d:()=>n,h:()=>p});const d={getEngine(){const o=window;return o.TapticEngine||o.Capacitor&&o.Capacitor.isPluginAvailable("Haptics")&&o.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(o){const i=this.getEngine();if(!i)return;const e=this.isCapacitor()?o.style.toUpperCase():o.style;i.impact({style:e})},notification(o){const i=this.getEngine();if(!i)return;const e=this.isCapacitor()?o.style.toUpperCase():o.style;i.notification({style:e})},selection(){this.impact({style:"light"})},selectionStart(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionStart():o.gestureSelectionStart())},selectionChanged(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionChanged():o.gestureSelectionChanged())},selectionEnd(){const o=this.getEngine();!o||(this.isCapacitor()?o.selectionEnd():o.gestureSelectionEnd())}},u=()=>{d.selection()},t=()=>{d.selectionStart()},l=()=>{d.selectionChanged()},p=()=>{d.selectionEnd()},n=o=>{d.impact(o)}},1508:(w,D,r)=>{r.d(D,{s:()=>d});const d=i=>{try{if(i instanceof class o{constructor(e){this.value=e}})return i.value;if(!l()||"string"!=typeof i||""===i)return i;const e=document.createDocumentFragment(),f=document.createElement("div");e.appendChild(f),f.innerHTML=i,n.forEach(m=>{const b=e.querySelectorAll(m);for(let T=b.length-1;T>=0;T--){const E=b[T];E.parentNode?E.parentNode.removeChild(E):e.removeChild(E);const g=t(E);for(let Z=0;Z<g.length;Z++)u(g[Z])}});const x=t(e);for(let m=0;m<x.length;m++)u(x[m]);const s=document.createElement("div");s.appendChild(e);const v=s.querySelector("div");return null!==v?v.innerHTML:s.innerHTML}catch(e){return console.error(e),""}},u=i=>{if(i.nodeType&&1!==i.nodeType)return;for(let f=i.attributes.length-1;f>=0;f--){const x=i.attributes.item(f),s=x.name;if(!p.includes(s.toLowerCase())){i.removeAttribute(s);continue}const v=x.value;null!=v&&v.toLowerCase().includes("javascript:")&&i.removeAttribute(s)}const e=t(i);for(let f=0;f<e.length;f++)u(e[f])},t=i=>null!=i.children?i.children:i.childNodes,l=()=>{const i=window,e=i&&i.Ionic&&i.Ionic.config;return!e||(e.get?e.get("sanitizerEnabled",!0):!0===e.sanitizerEnabled||void 0===e.sanitizerEnabled)},p=["class","id","href","src","name","slot"],n=["script","style","iframe","meta","link","object","embed"]},1350:(w,D,r)=>{r.d(D,{S:()=>u});const u={bubbles:{dur:1e3,circles:9,fn:(t,l,p)=>{const n=t*l/p-t+"ms",o=2*Math.PI*l/p;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(t,l,p)=>{const n=l/p,o=t*n-t+"ms",i=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,l)=>({r:6,style:{left:9-9*l+"px","animation-delay":-110*l+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,l,p)=>({y1:17,y2:29,style:{transform:`rotate(${30*l+(l<6?180:-180)}deg)`,"animation-delay":t*l/p-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,l,p)=>({y1:12,y2:20,style:{transform:`rotate(${30*l+(l<6?180:-180)}deg)`,"animation-delay":t*l/p-t+"ms"}})}}},4254:(w,D,r)=>{r.d(D,{c:()=>t,g:()=>p,h:()=>u,o:()=>o});var d=r(1670);const u=(i,e)=>null!==e.closest(i),t=(i,e)=>"string"==typeof i&&i.length>0?Object.assign({"ion-color":!0,[`ion-color-${i}`]:!0},e):e,p=i=>{const e={};return(i=>void 0!==i?(Array.isArray(i)?i:i.split(" ")).filter(f=>null!=f).map(f=>f.trim()).filter(f=>""!==f):[])(i).forEach(f=>e[f]=!0),e},n=/^[a-z][a-z0-9+\-.]*:/,o=function(){var i=(0,d.Z)(function*(e,f,x,s){if(null!=e&&"#"!==e[0]&&!n.test(e)){const v=document.querySelector("ion-router");if(v)return null!=f&&f.preventDefault(),v.push(e,x,s)}return!1});return function(f,x,s,v){return i.apply(this,arguments)}}()}}]);
//# sourceMappingURL=common.51d59385f0772ca8.js.map