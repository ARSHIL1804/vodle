(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8932],{8932:(vn,qt,J)=>{"use strict";J.r(qt),J.d(qt,{PollPage:()=>Fo,PollPageModule:()=>Qp});var Y=J(6362),et=J(587),pt=J(8139),U=J(3926),Ht=J(1951),Et=J(4929),wt=J(2340),I=J(2459),rt=J(8581),st=J(9089);function V(){}function K(t){return null==t?V:function(){return this.querySelector(t)}}function F(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function R(){return[]}function X(t){return null==t?R:function(){return this.querySelectorAll(t)}}function dt(t){return function(){return this.matches(t)}}function Mt(t){return function(e){return e.matches(t)}}var lt=Array.prototype.find;function j(){return this.firstElementChild}var ht=Array.prototype.filter;function Xt(){return Array.from(this.children)}function Qn(t){return new Array(t.length)}function fn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Xn(t){return function(){return t}}function P(t,e,n,r,o,s){for(var l,a=0,u=e.length,c=s.length;a<c;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new fn(t,s[a]);for(;a<u;++a)(l=e[a])&&(o[a]=l)}function B(t,e,n,r,o,s,a){var l,u,b,c=new Map,f=e.length,T=s.length,Z=new Array(f);for(l=0;l<f;++l)(u=e[l])&&(Z[l]=b=a.call(u,u.__data__,l,e)+"",c.has(b)?o[l]=u:c.set(b,u));for(l=0;l<T;++l)b=a.call(t,s[l],l,s)+"",(u=c.get(b))?(r[l]=u,u.__data__=s[l],c.delete(b)):n[l]=new fn(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&c.get(Z[l])===u&&(o[l]=u)}function It(t){return t.__data__}function Un(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ge(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}fn.prototype={constructor:fn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _="http://www.w3.org/1999/xhtml";const x={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function w(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),x.hasOwnProperty(e)?{space:x[e],local:t}:t}function C(t){return function(){this.removeAttribute(t)}}function E(t){return function(){this.removeAttributeNS(t.space,t.local)}}function S(t,e){return function(){this.setAttribute(t,e)}}function D(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function O(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function $(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function gt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nt(t){return function(){this.style.removeProperty(t)}}function it(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Pt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ft(t,e){return t.style.getPropertyValue(e)||gt(t).getComputedStyle(t,null).getPropertyValue(e)}function jt(t){return function(){delete this[t]}}function Qt(t,e){return function(){this[t]=e}}function Dt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function dn(t){return t.trim().split(/^|\s+/)}function gn(t){return t.classList||new Nn(t)}function Nn(t){this._node=t,this._names=dn(t.getAttribute("class")||"")}function En(t,e){for(var n=gn(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Jn(t,e){for(var n=gn(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function _n(t){return function(){En(this,t)}}function an(t){return function(){Jn(this,t)}}function mn(t,e){return function(){(e.apply(this,arguments)?En:Jn)(this,t)}}function Dn(){this.textContent=""}function g(t){return function(){this.textContent=t}}function N(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Zt(){this.innerHTML=""}function k(t){return function(){this.innerHTML=t}}function _t(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function vt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ot(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_&&e.documentElement.namespaceURI===_?e.createElement(t):e.createElementNS(n,t)}}function Hn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yn(t){var e=w(t);return(e.local?Hn:qn)(e)}function y(){return null}function M(){var t=this.parentNode;t&&t.removeChild(this)}function tt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function W(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $t(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Tn(t){return function(){var e=this.__on;if(e){for(var s,n=0,r=-1,o=e.length;n<o;++n)s=e[n],t.type&&s.type!==t.type||s.name!==t.name?e[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?e.length=r:delete this.__on}}}function xn(t,e,n){return function(){var o,r=this.__on,s=function Vt(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),void(o.value=e);this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(o):this.__on=[o]}}function Xe(t,e,n){var r=gt(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Te(t,e){return function(){return Xe(this,t,e)}}function Ni(t,e){return function(){return Xe(this,t,e.apply(this,arguments))}}Nn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Yo=[null];function Kn(t,e){this._groups=t,this._parents=e}function sr(){return new Kn([[document.documentElement]],Yo)}Kn.prototype=sr.prototype={constructor:Kn,select:function bt(t){"function"!=typeof t&&(t=K(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,c,s=e[o],a=s.length,l=r[o]=new Array(a),f=0;f<a;++f)(u=s[f])&&(c=t.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new Kn(r,this._parents)},selectAll:function At(t){t="function"==typeof t?function G(t){return function(){return F(t.apply(this,arguments))}}(t):X(t);for(var e=this._groups,n=e.length,r=[],o=[],s=0;s<n;++s)for(var u,a=e[s],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),o.push(u));return new Kn(r,o)},selectChild:function Tt(t){return this.select(null==t?j:function H(t){return function(){return lt.call(this.children,t)}}("function"==typeof t?t:Mt(t)))},selectChildren:function Cn(t){return this.selectAll(null==t?Xt:function hn(t){return function(){return ht.call(this.children,t)}}("function"==typeof t?t:Mt(t)))},filter:function bn(t){"function"!=typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new Kn(r,this._parents)},data:function tn(t,e){if(!arguments.length)return Array.from(this,It);var n=e?B:P,r=this._parents,o=this._groups;"function"!=typeof t&&(t=Xn(t));for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],T=o[c],Z=T.length,b=Un(t.call(f,f&&f.__data__,c,r)),St=b.length,Kt=l[c]=new Array(St),Q=a[c]=new Array(St),z=u[c]=new Array(Z);n(f,T,Kt,Q,z,b,e);for(var Rt,xt,yt=0,ot=0;yt<St;++yt)if(Rt=Kt[yt]){for(yt>=ot&&(ot=yt+1);!(xt=Q[ot])&&++ot<St;);Rt._next=xt||null}}return(a=new Kn(a,r))._enter=l,a._exit=u,a},enter:function Vn(){return new Kn(this._enter||this._groups.map(Qn),this._parents)},exit:function Mn(){return new Kn(this._exit||this._groups.map(Qn),this._parents)},join:function kn(t,e,n){var r=this.enter(),o=this,s=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?s.remove():n(s),r&&o?r.merge(o).order():o},merge:function Pn(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,a=Math.min(o,r.length),l=new Array(o),u=0;u<a;++u)for(var b,c=n[u],f=r[u],T=c.length,Z=l[u]=new Array(T),St=0;St<T;++St)(b=c[St]||f[St])&&(Z[St]=b);for(;u<o;++u)l[u]=n[u];return new Kn(l,this._parents)},selection:function Vo(){return this},order:function On(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var a,r=t[e],o=r.length-1,s=r[o];--o>=0;)(a=r[o])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function ae(t){function e(T,Z){return T&&Z?t(T.__data__,Z.__data__):!T-!Z}t||(t=ge);for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var c,a=n[s],l=a.length,u=o[s]=new Array(l),f=0;f<l;++f)(c=a[f])&&(u[f]=c);u.sort(e)}return new Kn(o,this._parents).order()},call:function me(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function ye(){return Array.from(this)},node:function le(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null},size:function h(){let t=0;for(const e of this)++t;return t},empty:function p(){return!this.node()},each:function m(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var l,o=e[n],s=0,a=o.length;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o);return this},attr:function ft(t,e){var n=w(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?E:C:"function"==typeof e?n.local?$:O:n.local?D:S)(n,e))},style:function ut(t,e,n){return arguments.length>1?this.each((null==e?nt:"function"==typeof e?Pt:it)(t,e,null==n?"":n)):Ft(this.node(),t)},property:function rn(t,e){return arguments.length>1?this.each((null==e?jt:"function"==typeof e?Dt:Qt)(t,e)):this.node()[t]},classed:function $n(t,e){var n=dn(t+"");if(arguments.length<2){for(var r=gn(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?mn:e?_n:an)(n,e))},text:function ct(t){return arguments.length?this.each(null==t?Dn:("function"==typeof t?N:g)(t)):this.node().textContent},html:function Ut(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?_t:k)(t)):this.node().innerHTML},raise:function Bt(){return this.each(vt)},lower:function ln(){return this.each(Ot)},append:function d(t){var e="function"==typeof t?t:yn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function v(t,e){var n="function"==typeof t?t:yn(t),r=null==e?y:"function"==typeof e?e:K(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function q(){return this.each(M)},clone:function Ct(t){return this.select(t?W:tt)},datum:function kt(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function sn(t,e,n){var o,a,r=$t(t+""),s=r.length;if(!(arguments.length<2)){for(l=e?xn:Tn,o=0;o<s;++o)this.each(l(r[o],e,n));return this}var l=this.node().__on;if(l)for(var f,u=0,c=l.length;u<c;++u)for(o=0,f=l[u];o<s;++o)if((a=r[o]).type===f.type&&a.name===f.name)return f.value},dispatch:function Bo(t,e){return this.each(("function"==typeof e?Ni:Te)(t,e))},[Symbol.iterator]:function*Go(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var a,r=t[e],o=0,s=r.length;o<s;++o)(a=r[o])&&(yield a)}};const Ue=sr;var ar=J(2516),$e=J(5422),Ke=J(3169),Xo=(0,ar.Z)("start","end","cancel","interrupt"),$o=[];function ti(t,e,n,r,o,s){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function Ko(t,e,n){var o,r=t.__transition;function a(c){var f,T,Z,b;if(1!==n.state)return u();for(f in r)if((b=r[f]).name===n.name){if(3===b.state)return(0,Ke.Z)(a);4===b.state?(b.state=6,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[f]):+f<e&&(b.state=6,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[f])}if((0,Ke.Z)(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(Z=n.tween.length),f=0,T=-1;f<Z;++f)(b=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++T]=b);o.length=T+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=5,1),T=-1,Z=o.length;++T<Z;)o[T].call(t,f);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var c in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=(0,$e.HT)(function s(c){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:o,on:Xo,tween:$o,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function ki(t,e){var n=Wn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ie(t,e){var n=Wn(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Wn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var ni=J(1786);function ts(t,e){var n,r;return function(){var o=ie(this,t),s=o.tween;if(s!==n)for(var a=0,l=(r=n=s).length;a<l;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function ns(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var s=ie(this,t),a=s.tween;if(a!==r){o=(r=a).slice();for(var l={name:e,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=l;break}u===c&&o.push(l)}s.tween=o}}function Ji(t,e,n){var r=t._id;return t.each(function(){var o=ie(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Wn(o,r).value[e]}}var ei=J(309),fr=J(3577),ii=J(900),hr=J(6008);function _r(t,e){var n;return("number"==typeof e?fr.Z:e instanceof ei.ZP?ii.ZP:(n=(0,ei.ZP)(e))?(e=n,ii.ZP):hr.Z)(t,e)}function is(t){return function(){this.removeAttribute(t)}}function rs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function os(t,e,n){var r,s,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?s:s=e(r=a,n)}}function ss(t,e,n){var r,s,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?s:s=e(r=a,n)}}function as(t,e,n){var r,o,s;return function(){var a,u,l=n(this);return null==l?void this.removeAttribute(t):(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function ls(t,e,n){var r,o,s;return function(){var a,u,l=n(this);return null==l?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function cs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function fs(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function hs(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&fs(t,s)),n}return o._value=e,o}function _s(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&cs(t,s)),n}return o._value=e,o}function ds(t,e){return function(){ki(this,t).delay=+e.apply(this,arguments)}}function gs(t,e){return e=+e,function(){ki(this,t).delay=e}}function ys(t,e){return function(){ie(this,t).duration=+e.apply(this,arguments)}}function vs(t,e){return e=+e,function(){ie(this,t).duration=e}}function ws(t,e){if("function"!=typeof e)throw new Error;return function(){ie(this,t).ease=e}}function Ns(t,e,n){var r,o,s=function Cs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?ki:ie;return function(){var a=s(this,t),l=a.on;l!==r&&(o=(r=l).copy()).on(e,n),a.on=o}}var Us=Ue.prototype.constructor;function pr(t){return function(){this.style.removeProperty(t)}}function Fs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Qs(t,e,n){var r,o;function s(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&Fs(t,a,n)),r}return s._value=e,s}function Ys(t){return function(e){this.textContent=t.call(this,e)}}function Vs(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Ys(o)),e}return r._value=t,r}var Ws=0;function ue(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function dr(){return++Ws}var ce=Ue.prototype;ue.prototype=function js(t){return Ue().transition(t)}.prototype={constructor:ue,select:function Js(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=K(t));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var f,T,l=r[a],u=l.length,c=s[a]=new Array(u),Z=0;Z<u;++Z)(f=l[Z])&&(T=t.call(f,f.__data__,Z,l))&&("__data__"in f&&(T.__data__=f.__data__),c[Z]=T,ti(c[Z],e,n,Z,c,Wn(f,n)));return new ue(s,this._parents,e,n)},selectAll:function Ds(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=X(t));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var f,u=r[l],c=u.length,T=0;T<c;++T)if(f=u[T]){for(var b,Z=t.call(f,f.__data__,T,u),St=Wn(f,n),Kt=0,Q=Z.length;Kt<Q;++Kt)(b=Z[Kt])&&ti(b,e,n,Kt,Z,St);s.push(Z),a.push(f)}return new ue(s,a,e,n)},selectChild:ce.selectChild,selectChildren:ce.selectChildren,filter:function Ts(t){"function"!=typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new ue(r,this._parents,this._name,this._id)},merge:function Zs(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=Math.min(r,n.length),a=new Array(r),l=0;l<s;++l)for(var Z,u=e[l],c=n[l],f=u.length,T=a[l]=new Array(f),b=0;b<f;++b)(Z=u[b]||c[b])&&(T[b]=Z);for(;l<r;++l)a[l]=e[l];return new ue(a,this._parents,this._name,this._id)},selection:function Ss(){return new Us(this._groups,this._parents)},transition:function $s(){for(var t=this._name,e=this._id,n=dr(),r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)if(u=a[c]){var f=Wn(u,e);ti(u,t,n,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ue(r,this._parents,t,n)},call:ce.call,nodes:ce.nodes,node:ce.node,size:ce.size,empty:ce.empty,each:ce.each,on:function Es(t,e){var n=this._id;return arguments.length<2?Wn(this.node(),n).on.on(t):this.each(Ns(n,t,e))},attr:function us(t,e){var n=w(t),r="transform"===n?ni.w:_r;return this.attrTween(t,"function"==typeof e?(n.local?ls:as)(n,r,Ji(this,"attr."+t,e)):null==e?(n.local?rs:is)(n):(n.local?ss:os)(n,r,e))},attrTween:function ps(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=w(t);return this.tween(n,(r.local?hs:_s)(r,e))},style:function zs(t,e,n){var r="transform"==(t+="")?ni.Y:_r;return null==e?this.styleTween(t,function Ls(t,e){var n,r,o;return function(){var s=Ft(this,t),a=(this.style.removeProperty(t),Ft(this,t));return s===a?null:s===n&&a===r?o:o=e(n=s,r=a)}}(t,r)).on("end.style."+t,pr(t)):"function"==typeof e?this.styleTween(t,function Rs(t,e,n){var r,o,s;return function(){var a=Ft(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=Ft(this,t)),a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}(t,r,Ji(this,"style."+t,e))).each(function Hs(t,e){var n,r,o,l,s="style."+e,a="end."+s;return function(){var u=ie(this,t),c=u.on,f=null==u.value[s]?l||(l=pr(e)):void 0;(c!==n||o!==f)&&(r=(n=c).copy()).on(a,o=f),u.on=r}}(this._id,t)):this.styleTween(t,function Is(t,e,n){var r,s,o=n+"";return function(){var a=Ft(this,t);return a===o?null:a===r?s:s=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function Os(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Qs(t,e,null==n?"":n))},text:function Gs(t){return this.tween("text","function"==typeof t?function Bs(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ji(this,"text",t)):function qs(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Xs(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Vs(t))},remove:function ks(){return this.on("end.remove",function Ms(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function es(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a,r=Wn(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((null==e?ts:ns)(n,t,e))},delay:function ms(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ds:gs)(e,t)):Wn(this.node(),e).delay},duration:function xs(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ys:vs)(e,t)):Wn(this.node(),e).duration},ease:function As(t){var e=this._id;return arguments.length?this.each(ws(e,t)):Wn(this.node(),e).ease},easeVarying:function Ps(t){if("function"!=typeof t)throw new Error;return this.each(function bs(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ie(this,t).ease=n}}(this._id,t))},end:function Ks(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(s,a){var l={value:a},u={value:function(){0==--o&&s()}};n.each(function(){var c=ie(this,r),f=c.on;f!==t&&((e=(t=f).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),0===o&&s()})},[Symbol.iterator]:ce[Symbol.iterator]};var gr=J(5521),ta={time:null,delay:0,duration:250,ease:gr.tw};function na(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ue.prototype.interrupt=function jo(t){return this.each(function(){!function Wo(t,e){var r,o,a,n=t.__transition,s=!0;if(n){for(a in e=null==e?null:e+"",n)(r=n[a]).name===e?(o=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]):s=!1;s&&delete t.__transition}}(this,t)})},Ue.prototype.transition=function ea(t){var e,n;t instanceof ue?(e=t._id,t=t._name):(e=dr(),(n=ta).time=(0,$e.zO)(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)(u=a[c])&&ti(u,t,e,c,a,n||na(u,e));return new ue(r,this._parents,t,e)};Math;function Se(t){return{type:t}}function ca(){}function Ii(t){return null==t?ca:function(){return this.querySelector(t)}}function Ar(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function ha(){return[]}function br(t){return null==t?ha:function(){return this.querySelectorAll(t)}}function Pr(t){return function(){return this.matches(t)}}function Tr(t){return function(e){return e.matches(t)}}["w","e"].map(Se),["n","s"].map(Se),["n","w","e","s","nw","ne","sw","se"].map(Se);var da=Array.prototype.find;function ma(){return this.firstElementChild}var va=Array.prototype.filter;function xa(){return Array.from(this.children)}function Zr(t){return new Array(t.length)}function si(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ta(t){return function(){return t}}function Za(t,e,n,r,o,s){for(var l,a=0,u=e.length,c=s.length;a<c;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new si(t,s[a]);for(;a<u;++a)(l=e[a])&&(o[a]=l)}function Ca(t,e,n,r,o,s,a){var l,u,b,c=new Map,f=e.length,T=s.length,Z=new Array(f);for(l=0;l<f;++l)(u=e[l])&&(Z[l]=b=a.call(u,u.__data__,l,e)+"",c.has(b)?o[l]=u:c.set(b,u));for(l=0;l<T;++l)b=a.call(t,s[l],l,s)+"",(u=c.get(b))?(r[l]=u,u.__data__=s[l],c.delete(b)):n[l]=new si(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&c.get(Z[l])===u&&(o[l]=u)}function Na(t){return t.__data__}function Ma(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function La(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}si.prototype={constructor:si,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ri="http://www.w3.org/1999/xhtml";const Cr={svg:"http://www.w3.org/2000/svg",xhtml:Ri,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ai(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Cr.hasOwnProperty(e)?{space:Cr[e],local:t}:t}function Oa(t){return function(){this.removeAttribute(t)}}function qa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ba(t,e){return function(){this.setAttribute(t,e)}}function Ga(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ya(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Va(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Nr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $a(t){return function(){this.style.removeProperty(t)}}function Ka(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Wa(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ne(t,e){return t.style.getPropertyValue(e)||Nr(t).getComputedStyle(t,null).getPropertyValue(e)}function tl(t){return function(){delete this[t]}}function nl(t,e){return function(){this[t]=e}}function el(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Er(t){return t.trim().split(/^|\s+/)}function Hi(t){return t.classList||new Mr(t)}function Mr(t){this._node=t,this._names=Er(t.getAttribute("class")||"")}function kr(t,e){for(var n=Hi(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Jr(t,e){for(var n=Hi(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function rl(t){return function(){kr(this,t)}}function ol(t){return function(){Jr(this,t)}}function sl(t,e){return function(){(e.apply(this,arguments)?kr:Jr)(this,t)}}function ll(){this.textContent=""}function ul(t){return function(){this.textContent=t}}function cl(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function hl(){this.innerHTML=""}function _l(t){return function(){this.innerHTML=t}}function pl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function gl(){this.nextSibling&&this.parentNode.appendChild(this)}function yl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ri&&e.documentElement.namespaceURI===Ri?e.createElement(t):e.createElementNS(n,t)}}function wl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Dr(t){var e=ai(t);return(e.local?wl:xl)(e)}function bl(){return null}function Tl(){var t=this.parentNode;t&&t.removeChild(this)}function Cl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Dl(t){return function(){var e=this.__on;if(e){for(var s,n=0,r=-1,o=e.length;n<o;++n)s=e[n],t.type&&s.type!==t.type||s.name!==t.name?e[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?e.length=r:delete this.__on}}}function Ul(t,e,n){return function(){var o,r=this.__on,s=function kl(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),void(o.value=e);this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(o):this.__on=[o]}}function Ur(t,e,n){var r=Nr(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ll(t,e){return function(){return Ur(this,t,e)}}function Il(t,e){return function(){return Ur(this,t,e.apply(this,arguments))}}Mr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var zi=[null];function zn(t,e){this._groups=t,this._parents=e}function Sr(){return new zn([[document.documentElement]],zi)}zn.prototype=Sr.prototype={constructor:zn,select:function fa(t){"function"!=typeof t&&(t=Ii(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,c,s=e[o],a=s.length,l=r[o]=new Array(a),f=0;f<a;++f)(u=s[f])&&(c=t.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new zn(r,this._parents)},selectAll:function pa(t){t="function"==typeof t?function _a(t){return function(){return Ar(t.apply(this,arguments))}}(t):br(t);for(var e=this._groups,n=e.length,r=[],o=[],s=0;s<n;++s)for(var u,a=e[s],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),o.push(u));return new zn(r,o)},selectChild:function ya(t){return this.select(null==t?ma:function ga(t){return function(){return da.call(this.children,t)}}("function"==typeof t?t:Tr(t)))},selectChildren:function Aa(t){return this.selectAll(null==t?xa:function wa(t){return function(){return va.call(this.children,t)}}("function"==typeof t?t:Tr(t)))},filter:function ba(t){"function"!=typeof t&&(t=Pr(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new zn(r,this._parents)},data:function Ea(t,e){if(!arguments.length)return Array.from(this,Na);var n=e?Ca:Za,r=this._parents,o=this._groups;"function"!=typeof t&&(t=Ta(t));for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],T=o[c],Z=T.length,b=Ma(t.call(f,f&&f.__data__,c,r)),St=b.length,Kt=l[c]=new Array(St),Q=a[c]=new Array(St),z=u[c]=new Array(Z);n(f,T,Kt,Q,z,b,e);for(var Rt,xt,yt=0,ot=0;yt<St;++yt)if(Rt=Kt[yt]){for(yt>=ot&&(ot=yt+1);!(xt=Q[ot])&&++ot<St;);Rt._next=xt||null}}return(a=new zn(a,r))._enter=l,a._exit=u,a},enter:function Pa(){return new zn(this._enter||this._groups.map(Zr),this._parents)},exit:function ka(){return new zn(this._exit||this._groups.map(Zr),this._parents)},join:function Ja(t,e,n){var r=this.enter(),o=this,s=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?s.remove():n(s),r&&o?r.merge(o).order():o},merge:function Da(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,a=Math.min(o,r.length),l=new Array(o),u=0;u<a;++u)for(var b,c=n[u],f=r[u],T=c.length,Z=l[u]=new Array(T),St=0;St<T;++St)(b=c[St]||f[St])&&(Z[St]=b);for(;u<o;++u)l[u]=n[u];return new zn(l,this._parents)},selection:function zl(){return this},order:function Ua(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var a,r=t[e],o=r.length-1,s=r[o];--o>=0;)(a=r[o])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function Sa(t){function e(T,Z){return T&&Z?t(T.__data__,Z.__data__):!T-!Z}t||(t=La);for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var c,a=n[s],l=a.length,u=o[s]=new Array(l),f=0;f<l;++f)(c=a[f])&&(u[f]=c);u.sort(e)}return new zn(o,this._parents).order()},call:function Ia(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function Ra(){return Array.from(this)},node:function Ha(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null},size:function za(){let t=0;for(const e of this)++t;return t},empty:function Fa(){return!this.node()},each:function Qa(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var l,o=e[n],s=0,a=o.length;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o);return this},attr:function Xa(t,e){var n=ai(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?qa:Oa:"function"==typeof e?n.local?Va:Ya:n.local?Ga:Ba)(n,e))},style:function ja(t,e,n){return arguments.length>1?this.each((null==e?$a:"function"==typeof e?Wa:Ka)(t,e,null==n?"":n)):Ne(this.node(),t)},property:function il(t,e){return arguments.length>1?this.each((null==e?tl:"function"==typeof e?el:nl)(t,e)):this.node()[t]},classed:function al(t,e){var n=Er(t+"");if(arguments.length<2){for(var r=Hi(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?sl:e?rl:ol)(n,e))},text:function fl(t){return arguments.length?this.each(null==t?ll:("function"==typeof t?cl:ul)(t)):this.node().textContent},html:function dl(t){return arguments.length?this.each(null==t?hl:("function"==typeof t?pl:_l)(t)):this.node().innerHTML},raise:function ml(){return this.each(gl)},lower:function vl(){return this.each(yl)},append:function Al(t){var e="function"==typeof t?t:Dr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Pl(t,e){var n="function"==typeof t?t:Dr(t),r=null==e?bl:"function"==typeof e?e:Ii(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function Zl(){return this.each(Tl)},clone:function El(t){return this.select(t?Nl:Cl)},datum:function Ml(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function Sl(t,e,n){var o,a,r=Jl(t+""),s=r.length;if(!(arguments.length<2)){for(l=e?Ul:Dl,o=0;o<s;++o)this.each(l(r[o],e,n));return this}var l=this.node().__on;if(l)for(var f,u=0,c=l.length;u<c;++u)for(o=0,f=l[u];o<s;++o)if((a=r[o]).type===f.type&&a.name===f.name)return f.value},dispatch:function Rl(t,e){return this.each(("function"==typeof e?Il:Ll)(t,e))},[Symbol.iterator]:function*Hl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var a,r=t[e],o=0,s=r.length;o<s;++o)(a=r[o])&&(yield a)}};const Le=Sr;function Ie(t){return"string"==typeof t?new zn([[document.querySelector(t)]],[document.documentElement]):new zn([[t]],zi)}function Lr(t){return"string"==typeof t?new zn([document.querySelectorAll(t)],[document.documentElement]):new zn([Ar(t)],zi)}var Fl={value:()=>{}};function Ir(){for(var r,t=0,e=arguments.length,n={};t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new li(n)}function li(t){this._=t}function Ql(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function Ol(t,e){for(var o,n=0,r=t.length;n<r;++n)if((o=t[n]).name===e)return o.value}function Rr(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Fl,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}li.prototype=Ir.prototype={constructor:li,on:function(t,e){var o,n=this._,r=Ql(t+"",n),s=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(o=(t=r[s]).type)n[o]=Rr(n[o],t.name,e);else if(null==e)for(o in n)n[o]=Rr(n[o],t.name,null);return this}for(;++s<a;)if((o=(t=r[s]).type)&&(o=Ol(n[o],t.name)))return o},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new li(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var o,s,n=new Array(o),r=0;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,o=(s=this._[t]).length;r<o;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,s=r.length;o<s;++o)r[o].value.apply(e,n)}};const ql=Ir;var ui,ze,Ee=0,Re=0,He=0,ci=0,we=0,fi=0,Fe="object"==typeof performance&&performance.now?performance:Date,zr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fi(){return we||(zr(Bl),we=Fe.now()+fi)}function Bl(){we=0}function hi(){this._call=this._time=this._next=null}function Fr(t,e,n){var r=new hi;return r.restart(t,e,n),r}function Qr(){we=(ci=Fe.now())+fi,Ee=Re=0;try{!function Gl(){Fi(),++Ee;for(var e,t=ui;t;)(e=we-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ee}()}finally{Ee=0,function Vl(){for(var t,n,e=ui,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ui=n);ze=t,Qi(r)}(),we=0}}function Yl(){var t=Fe.now(),e=t-ci;e>1e3&&(fi-=e,ci=t)}function Qi(t){Ee||(Re&&(Re=clearTimeout(Re)),t-we>24?(t<1/0&&(Re=setTimeout(Qr,t-Fe.now()-fi)),He&&(He=clearInterval(He))):(He||(ci=Fe.now(),He=setInterval(Yl,1e3)),Ee=1,zr(Qr)))}function Or(t,e,n){var r=new hi;return r.restart(o=>{r.stop(),t(o+e)},e=null==e?0:+e,n),r}hi.prototype=Fr.prototype={constructor:hi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Fi():+n)+(null==e?0:+e),!this._next&&ze!==this&&(ze?ze._next=this:ui=this,ze=this),this._call=t,this._time=n,Qi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qi())}};var Xl=ql("start","end","cancel","interrupt"),$l=[];function di(t,e,n,r,o,s){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function Kl(t,e,n){var o,r=t.__transition;function a(c){var f,T,Z,b;if(1!==n.state)return u();for(f in r)if((b=r[f]).name===n.name){if(3===b.state)return Or(a);4===b.state?(b.state=6,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[f]):+f<e&&(b.state=6,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[f])}if(Or(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(Z=n.tween.length),f=0,T=-1;f<Z;++f)(b=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++T]=b);o.length=T+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=5,1),T=-1,Z=o.length;++T<Z;)o[T].call(t,f);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var c in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Fr(function s(c){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:o,on:Xl,tween:$l,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function Bi(t,e){var n=jn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function re(t,e){var n=jn(t,e);if(n.state>3)throw new Error("too late; already running");return n}function jn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ve(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var gi,Yr=180/Math.PI,Gi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vr(t,e,n,r,o,s){var a,l,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*Yr,skewX:Math.atan(u)*Yr,scaleX:a,scaleY:l}}function Xr(t,e,n,r){function o(c){return c.length?c.pop()+" ":""}return function(c,f){var T=[],Z=[];return c=t(c),f=t(f),function s(c,f,T,Z,b,St){if(c!==T||f!==Z){var Kt=b.push("translate(",null,e,null,n);St.push({i:Kt-4,x:ve(c,T)},{i:Kt-2,x:ve(f,Z)})}else(T||Z)&&b.push("translate("+T+e+Z+n)}(c.translateX,c.translateY,f.translateX,f.translateY,T,Z),function a(c,f,T,Z){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),Z.push({i:T.push(o(T)+"rotate(",null,r)-2,x:ve(c,f)})):f&&T.push(o(T)+"rotate("+f+r)}(c.rotate,f.rotate,T,Z),function l(c,f,T,Z){c!==f?Z.push({i:T.push(o(T)+"skewX(",null,r)-2,x:ve(c,f)}):f&&T.push(o(T)+"skewX("+f+r)}(c.skewX,f.skewX,T,Z),function u(c,f,T,Z,b,St){if(c!==T||f!==Z){var Kt=b.push(o(b)+"scale(",null,",",null,")");St.push({i:Kt-4,x:ve(c,T)},{i:Kt-2,x:ve(f,Z)})}else(1!==T||1!==Z)&&b.push(o(b)+"scale("+T+","+Z+")")}(c.scaleX,c.scaleY,f.scaleX,f.scaleY,T,Z),c=f=null,function(b){for(var Q,St=-1,Kt=Z.length;++St<Kt;)T[(Q=Z[St]).i]=Q.x(b);return T.join("")}}}var eu=Xr(function tu(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Gi:Vr(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),iu=Xr(function nu(t){return null!=t&&(gi||(gi=document.createElementNS("http://www.w3.org/2000/svg","g")),gi.setAttribute("transform",t),t=gi.transform.baseVal.consolidate())?Vr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Gi},", ",")",")");function ru(t,e){var n,r;return function(){var o=re(this,t),s=o.tween;if(s!==n)for(var a=0,l=(r=n=s).length;a<l;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function ou(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var s=re(this,t),a=s.tween;if(a!==r){o=(r=a).slice();for(var l={name:e,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=l;break}u===c&&o.push(l)}s.tween=o}}function Yi(t,e,n){var r=t._id;return t.each(function(){var o=re(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return jn(o,r).value[e]}}function Vi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qe(){}var mi=1/.7,Me="\\s*([+-]?\\d+)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",au=/^#([0-9a-f]{3,8})$/,lu=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),uu=new RegExp(`^rgb\\(${oe},${oe},${oe}\\)$`),cu=new RegExp(`^rgba\\(${Me},${Me},${Me},${qe}\\)$`),fu=new RegExp(`^rgba\\(${oe},${oe},${oe},${qe}\\)$`),hu=new RegExp(`^hsl\\(${qe},${oe},${oe}\\)$`),_u=new RegExp(`^hsla\\(${qe},${oe},${oe},${qe}\\)$`),Kr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wr(){return this.rgb().formatHex()}function jr(){return this.rgb().formatRgb()}function Be(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=au.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?to(e):3===n?new Bn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?yi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?yi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=lu.exec(t))?new Bn(e[1],e[2],e[3],1):(e=uu.exec(t))?new Bn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=cu.exec(t))?yi(e[1],e[2],e[3],e[4]):(e=fu.exec(t))?yi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=hu.exec(t))?io(e[1],e[2]/100,e[3]/100,1):(e=_u.exec(t))?io(e[1],e[2]/100,e[3]/100,e[4]):Kr.hasOwnProperty(t)?to(Kr[t]):"transparent"===t?new Bn(NaN,NaN,NaN,0):null}function to(t){return new Bn(t>>16&255,t>>8&255,255&t,1)}function yi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bn(t,e,n,r)}function gu(t){return t instanceof Qe||(t=Be(t)),t?new Bn((t=t.rgb()).r,t.g,t.b,t.opacity):new Bn}function vi(t,e,n,r){return 1===arguments.length?gu(t):new Bn(t,e,n,null==r?1:r)}function Bn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function no(){return`#${be(this.r)}${be(this.g)}${be(this.b)}`}function eo(){const t=xi(this.opacity);return`${1===t?"rgb(":"rgba("}${Ae(this.r)}, ${Ae(this.g)}, ${Ae(this.b)}${1===t?")":`, ${t})`}`}function xi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ae(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function be(t){return((t=Ae(t))<16?"0":"")+t.toString(16)}function io(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new te(t,e,n,r)}function ro(t){if(t instanceof te)return new te(t.h,t.s,t.l,t.opacity);if(t instanceof Qe||(t=Be(t)),!t)return new te;if(t instanceof te)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-o,u=(s+o)/2;return l?(a=e===s?(n-r)/l+6*(n<r):n===s?(r-e)/l+2:(e-n)/l+4,l/=u<.5?s+o:2-s-o,a*=60):l=u>0&&u<1?0:a,new te(a,l,u,t.opacity)}function te(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function oo(t){return(t=(t||0)%360)<0?t+360:t}function wi(t){return Math.max(0,Math.min(1,t||0))}function Xi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function so(t,e,n,r,o){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*r+a*o)/6}Vi(Qe,Be,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wr,formatHex:Wr,formatHex8:function pu(){return this.rgb().formatHex8()},formatHsl:function du(){return ro(this).formatHsl()},formatRgb:jr,toString:jr}),Vi(Bn,vi,$r(Qe,{brighter(t){return t=null==t?mi:Math.pow(mi,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bn(Ae(this.r),Ae(this.g),Ae(this.b),xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:no,formatHex:no,formatHex8:function mu(){return`#${be(this.r)}${be(this.g)}${be(this.b)}${be(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:eo,toString:eo})),Vi(te,function yu(t,e,n,r){return 1===arguments.length?ro(t):new te(t,e,n,null==r?1:r)},$r(Qe,{brighter(t){return t=null==t?mi:Math.pow(mi,t),new te(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new te(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Bn(Xi(t>=240?t-240:t+120,o,r),Xi(t,o,r),Xi(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new te(oo(this.h),wi(this.s),wi(this.l),xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xi(this.opacity);return`${1===t?"hsl(":"hsla("}${oo(this.h)}, ${100*wi(this.s)}%, ${100*wi(this.l)}%${1===t?")":`, ${t})`}`}}));const ao=t=>()=>t;function uo(t,e){var n=e-t;return n?function lo(t,e){return function(n){return t+n*e}}(t,n):ao(isNaN(t)?e:t)}const co=function t(e){var n=function Au(t){return 1==(t=+t)?uo:function(e,n){return n-e?function wu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ao(isNaN(e)?n:e)}}(e);function r(o,s){var a=n((o=vi(o)).r,(s=vi(s)).r),l=n(o.g,s.g),u=n(o.b,s.b),c=uo(o.opacity,s.opacity);return function(f){return o.r=a(f),o.g=l(f),o.b=u(f),o.opacity=c(f),o+""}}return r.gamma=t,r}(1);function fo(t){return function(e){var a,l,n=e.length,r=new Array(n),o=new Array(n),s=new Array(n);for(a=0;a<n;++a)l=vi(e[a]),r[a]=l.r||0,o[a]=l.g||0,s[a]=l.b||0;return r=t(r),o=t(o),s=t(s),l.opacity=1,function(u){return l.r=r(u),l.g=o(u),l.b=s(u),l+""}}}fo(function vu(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],s=t[r+1];return so((n-r/e)*e,r>0?t[r-1]:2*o-s,o,s,r<e-1?t[r+2]:2*s-o)}}),fo(function xu(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return so((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var $i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ki=new RegExp($i.source,"g");function Tu(t,e){var r,o,s,n=$i.lastIndex=Ki.lastIndex=0,a=-1,l=[],u=[];for(t+="",e+="";(r=$i.exec(t))&&(o=Ki.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:ve(r,o)})),n=Ki.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?function Pu(t){return function(e){return t(e)+""}}(u[0].x):function bu(t){return function(){return t}}(e):(e=u.length,function(c){for(var T,f=0;f<e;++f)l[(T=u[f]).i]=T.x(c);return l.join("")})}function ho(t,e){var n;return("number"==typeof e?ve:e instanceof Be?co:(n=Be(e))?(e=n,co):Tu)(t,e)}function Zu(t){return function(){this.removeAttribute(t)}}function Cu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nu(t,e,n){var r,s,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?s:s=e(r=a,n)}}function Eu(t,e,n){var r,s,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?s:s=e(r=a,n)}}function Mu(t,e,n){var r,o,s;return function(){var a,u,l=n(this);return null==l?void this.removeAttribute(t):(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function ku(t,e,n){var r,o,s;return function(){var a,u,l=n(this);return null==l?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function Du(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Uu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Su(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Uu(t,s)),n}return o._value=e,o}function Lu(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Du(t,s)),n}return o._value=e,o}function Ru(t,e){return function(){Bi(this,t).delay=+e.apply(this,arguments)}}function Hu(t,e){return e=+e,function(){Bi(this,t).delay=e}}function Fu(t,e){return function(){re(this,t).duration=+e.apply(this,arguments)}}function Qu(t,e){return e=+e,function(){re(this,t).duration=e}}function qu(t,e){if("function"!=typeof e)throw new Error;return function(){re(this,t).ease=e}}function Ku(t,e,n){var r,o,s=function $u(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?Bi:re;return function(){var a=s(this,t),l=a.on;l!==r&&(o=(r=l).copy()).on(e,n),a.on=o}}var ic=Le.prototype.constructor;function _o(t){return function(){this.style.removeProperty(t)}}function cc(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function fc(t,e,n){var r,o;function s(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&cc(t,a,n)),r}return s._value=e,s}function gc(t){return function(e){this.textContent=t.call(this,e)}}function mc(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&gc(o)),e}return r._value=t,r}var wc=0;function he(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function po(){return++wc}var _e=Le.prototype;he.prototype=function Ac(t){return Le().transition(t)}.prototype={constructor:he,select:function nc(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ii(t));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var f,T,l=r[a],u=l.length,c=s[a]=new Array(u),Z=0;Z<u;++Z)(f=l[Z])&&(T=t.call(f,f.__data__,Z,l))&&("__data__"in f&&(T.__data__=f.__data__),c[Z]=T,di(c[Z],e,n,Z,c,jn(f,n)));return new he(s,this._parents,e,n)},selectAll:function ec(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=br(t));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var f,u=r[l],c=u.length,T=0;T<c;++T)if(f=u[T]){for(var b,Z=t.call(f,f.__data__,T,u),St=jn(f,n),Kt=0,Q=Z.length;Kt<Q;++Kt)(b=Z[Kt])&&di(b,e,n,Kt,Z,St);s.push(Z),a.push(f)}return new he(s,a,e,n)},selectChild:_e.selectChild,selectChildren:_e.selectChildren,filter:function Vu(t){"function"!=typeof t&&(t=Pr(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new he(r,this._parents,this._name,this._id)},merge:function Xu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=Math.min(r,n.length),a=new Array(r),l=0;l<s;++l)for(var Z,u=e[l],c=n[l],f=u.length,T=a[l]=new Array(f),b=0;b<f;++b)(Z=u[b]||c[b])&&(T[b]=Z);for(;l<r;++l)a[l]=e[l];return new he(a,this._parents,this._name,this._id)},selection:function rc(){return new ic(this._groups,this._parents)},transition:function vc(){for(var t=this._name,e=this._id,n=po(),r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)if(u=a[c]){var f=jn(u,e);di(u,t,n,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new he(r,this._parents,t,n)},call:_e.call,nodes:_e.nodes,node:_e.node,size:_e.size,empty:_e.empty,each:_e.each,on:function Wu(t,e){var n=this._id;return arguments.length<2?jn(this.node(),n).on.on(t):this.each(Ku(n,t,e))},attr:function Ju(t,e){var n=ai(t),r="transform"===n?iu:ho;return this.attrTween(t,"function"==typeof e?(n.local?ku:Mu)(n,r,Yi(this,"attr."+t,e)):null==e?(n.local?Cu:Zu)(n):(n.local?Eu:Nu)(n,r,e))},attrTween:function Iu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ai(t);return this.tween(n,(r.local?Su:Lu)(r,e))},style:function uc(t,e,n){var r="transform"==(t+="")?eu:ho;return null==e?this.styleTween(t,function oc(t,e){var n,r,o;return function(){var s=Ne(this,t),a=(this.style.removeProperty(t),Ne(this,t));return s===a?null:s===n&&a===r?o:o=e(n=s,r=a)}}(t,r)).on("end.style."+t,_o(t)):"function"==typeof e?this.styleTween(t,function ac(t,e,n){var r,o,s;return function(){var a=Ne(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=Ne(this,t)),a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}(t,r,Yi(this,"style."+t,e))).each(function lc(t,e){var n,r,o,l,s="style."+e,a="end."+s;return function(){var u=re(this,t),c=u.on,f=null==u.value[s]?l||(l=_o(e)):void 0;(c!==n||o!==f)&&(r=(n=c).copy()).on(a,o=f),u.on=r}}(this._id,t)):this.styleTween(t,function sc(t,e,n){var r,s,o=n+"";return function(){var a=Ne(this,t);return a===o?null:a===r?s:s=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function hc(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,fc(t,e,null==n?"":n))},text:function dc(t){return this.tween("text","function"==typeof t?function pc(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Yi(this,"text",t)):function _c(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function yc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,mc(t))},remove:function tc(){return this.on("end.remove",function ju(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function su(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a,r=jn(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((null==e?ru:ou)(n,t,e))},delay:function zu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ru:Hu)(e,t)):jn(this.node(),e).delay},duration:function Ou(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Fu:Qu)(e,t)):jn(this.node(),e).duration},ease:function Bu(t){var e=this._id;return arguments.length?this.each(qu(e,t)):jn(this.node(),e).ease},easeVarying:function Yu(t){if("function"!=typeof t)throw new Error;return this.each(function Gu(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;re(this,t).ease=n}}(this._id,t))},end:function xc(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(s,a){var l={value:a},u={value:function(){0==--o&&s()}};n.each(function(){var c=re(this,r),f=c.on;f!==t&&((e=(t=f).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),0===o&&s()})},[Symbol.iterator]:_e[Symbol.iterator]};var Pc={time:null,delay:0,duration:250,ease:function bc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Tc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Cc(){}function Wi(t){return null==t?Cc:function(){return this.querySelector(t)}}function Ec(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Mc(){return[]}function go(t){return null==t?Mc:function(){return this.querySelectorAll(t)}}function mo(t){return function(){return this.matches(t)}}function yo(t){return function(e){return e.matches(t)}}Le.prototype.interrupt=function jl(t){return this.each(function(){!function Wl(t,e){var r,o,a,n=t.__transition,s=!0;if(n){for(a in e=null==e?null:e+"",n)(r=n[a]).name===e?(o=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]):s=!1;s&&delete t.__transition}}(this,t)})},Le.prototype.transition=function Zc(t){var e,n;t instanceof he?(e=t._id,t=t._name):(e=po(),(n=Pc).time=Fi(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)(u=a[c])&&di(u,t,e,c,a,n||Tc(u,e));return new he(r,this._parents,t,e)};var Dc=Array.prototype.find;function Sc(){return this.firstElementChild}var Ic=Array.prototype.filter;function Rc(){return Array.from(this.children)}function vo(t){return new Array(t.length)}function Ai(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Oc(t){return function(){return t}}function qc(t,e,n,r,o,s){for(var l,a=0,u=e.length,c=s.length;a<c;++a)(l=e[a])?(l.__data__=s[a],r[a]=l):n[a]=new Ai(t,s[a]);for(;a<u;++a)(l=e[a])&&(o[a]=l)}function Bc(t,e,n,r,o,s,a){var l,u,b,c=new Map,f=e.length,T=s.length,Z=new Array(f);for(l=0;l<f;++l)(u=e[l])&&(Z[l]=b=a.call(u,u.__data__,l,e)+"",c.has(b)?o[l]=u:c.set(b,u));for(l=0;l<T;++l)b=a.call(t,s[l],l,s)+"",(u=c.get(b))?(r[l]=u,u.__data__=s[l],c.delete(b)):n[l]=new Ai(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&c.get(Z[l])===u&&(o[l]=u)}function Gc(t){return t.__data__}function Vc(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function tf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Ai.prototype={constructor:Ai,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ji="http://www.w3.org/1999/xhtml";const xo={svg:"http://www.w3.org/2000/svg",xhtml:ji,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bi(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),xo.hasOwnProperty(e)?{space:xo[e],local:t}:t}function lf(t){return function(){this.removeAttribute(t)}}function uf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cf(t,e){return function(){this.setAttribute(t,e)}}function ff(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function hf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function _f(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function df(t){return function(){this.style.removeProperty(t)}}function gf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function mf(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ke(t,e){return t.style.getPropertyValue(e)||wo(t).getComputedStyle(t,null).getPropertyValue(e)}function vf(t){return function(){delete this[t]}}function xf(t,e){return function(){this[t]=e}}function wf(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ao(t){return t.trim().split(/^|\s+/)}function tr(t){return t.classList||new bo(t)}function bo(t){this._node=t,this._names=Ao(t.getAttribute("class")||"")}function Po(t,e){for(var n=tr(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function To(t,e){for(var n=tr(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function bf(t){return function(){Po(this,t)}}function Pf(t){return function(){To(this,t)}}function Tf(t,e){return function(){(e.apply(this,arguments)?Po:To)(this,t)}}function Cf(){this.textContent=""}function Nf(t){return function(){this.textContent=t}}function Ef(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function kf(){this.innerHTML=""}function Jf(t){return function(){this.innerHTML=t}}function Df(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Sf(){this.nextSibling&&this.parentNode.appendChild(this)}function If(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ji&&e.documentElement.namespaceURI===ji?e.createElement(t):e.createElementNS(n,t)}}function zf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zo(t){var e=bi(t);return(e.local?zf:Hf)(e)}function Qf(){return null}function qf(){var t=this.parentNode;t&&t.removeChild(this)}function Gf(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Yf(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kf(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Wf(t){return function(){var e=this.__on;if(e){for(var s,n=0,r=-1,o=e.length;n<o;++n)s=e[n],t.type&&s.type!==t.type||s.name!==t.name?e[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?e.length=r:delete this.__on}}}function jf(t,e,n){return function(){var o,r=this.__on,s=function $f(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),void(o.value=e);this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(o):this.__on=[o]}}function Co(t,e,n){var r=wo(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function nh(t,e){return function(){return Co(this,t,e)}}function eh(t,e){return function(){return Co(this,t,e.apply(this,arguments))}}bo.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var oh=[null];function ne(t,e){this._groups=t,this._parents=e}function No(){return new ne([[document.documentElement]],oh)}ne.prototype=No.prototype={constructor:ne,select:function Nc(t){"function"!=typeof t&&(t=Wi(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,c,s=e[o],a=s.length,l=r[o]=new Array(a),f=0;f<a;++f)(u=s[f])&&(c=t.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new ne(r,this._parents)},selectAll:function Jc(t){t="function"==typeof t?function kc(t){return function(){return Ec(t.apply(this,arguments))}}(t):go(t);for(var e=this._groups,n=e.length,r=[],o=[],s=0;s<n;++s)for(var u,a=e[s],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),o.push(u));return new ne(r,o)},selectChild:function Lc(t){return this.select(null==t?Sc:function Uc(t){return function(){return Dc.call(this.children,t)}}("function"==typeof t?t:yo(t)))},selectChildren:function zc(t){return this.selectAll(null==t?Rc:function Hc(t){return function(){return Ic.call(this.children,t)}}("function"==typeof t?t:yo(t)))},filter:function Fc(t){"function"!=typeof t&&(t=mo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new ne(r,this._parents)},data:function Yc(t,e){if(!arguments.length)return Array.from(this,Gc);var n=e?Bc:qc,r=this._parents,o=this._groups;"function"!=typeof t&&(t=Oc(t));for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],T=o[c],Z=T.length,b=Vc(t.call(f,f&&f.__data__,c,r)),St=b.length,Kt=l[c]=new Array(St),Q=a[c]=new Array(St),z=u[c]=new Array(Z);n(f,T,Kt,Q,z,b,e);for(var Rt,xt,yt=0,ot=0;yt<St;++yt)if(Rt=Kt[yt]){for(yt>=ot&&(ot=yt+1);!(xt=Q[ot])&&++ot<St;);Rt._next=xt||null}}return(a=new ne(a,r))._enter=l,a._exit=u,a},enter:function Qc(){return new ne(this._enter||this._groups.map(vo),this._parents)},exit:function Xc(){return new ne(this._exit||this._groups.map(vo),this._parents)},join:function $c(t,e,n){var r=this.enter(),o=this,s=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?s.remove():n(s),r&&o?r.merge(o).order():o},merge:function Kc(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,a=Math.min(o,r.length),l=new Array(o),u=0;u<a;++u)for(var b,c=n[u],f=r[u],T=c.length,Z=l[u]=new Array(T),St=0;St<T;++St)(b=c[St]||f[St])&&(Z[St]=b);for(;u<o;++u)l[u]=n[u];return new ne(l,this._parents)},selection:function sh(){return this},order:function Wc(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var a,r=t[e],o=r.length-1,s=r[o];--o>=0;)(a=r[o])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function jc(t){function e(T,Z){return T&&Z?t(T.__data__,Z.__data__):!T-!Z}t||(t=tf);for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var c,a=n[s],l=a.length,u=o[s]=new Array(l),f=0;f<l;++f)(c=a[f])&&(u[f]=c);u.sort(e)}return new ne(o,this._parents).order()},call:function nf(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function ef(){return Array.from(this)},node:function rf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null},size:function of(){let t=0;for(const e of this)++t;return t},empty:function sf(){return!this.node()},each:function af(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var l,o=e[n],s=0,a=o.length;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o);return this},attr:function pf(t,e){var n=bi(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?uf:lf:"function"==typeof e?n.local?_f:hf:n.local?ff:cf)(n,e))},style:function yf(t,e,n){return arguments.length>1?this.each((null==e?df:"function"==typeof e?mf:gf)(t,e,null==n?"":n)):ke(this.node(),t)},property:function Af(t,e){return arguments.length>1?this.each((null==e?vf:"function"==typeof e?wf:xf)(t,e)):this.node()[t]},classed:function Zf(t,e){var n=Ao(t+"");if(arguments.length<2){for(var r=tr(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Tf:e?bf:Pf)(n,e))},text:function Mf(t){return arguments.length?this.each(null==t?Cf:("function"==typeof t?Ef:Nf)(t)):this.node().textContent},html:function Uf(t){return arguments.length?this.each(null==t?kf:("function"==typeof t?Df:Jf)(t)):this.node().innerHTML},raise:function Lf(){return this.each(Sf)},lower:function Rf(){return this.each(If)},append:function Ff(t){var e="function"==typeof t?t:Zo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Of(t,e){var n="function"==typeof t?t:Zo(t),r=null==e?Qf:"function"==typeof e?e:Wi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function Bf(){return this.each(qf)},clone:function Vf(t){return this.select(t?Yf:Gf)},datum:function Xf(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function th(t,e,n){var o,a,r=Kf(t+""),s=r.length;if(!(arguments.length<2)){for(l=e?jf:Wf,o=0;o<s;++o)this.each(l(r[o],e,n));return this}var l=this.node().__on;if(l)for(var f,u=0,c=l.length;u<c;++u)for(o=0,f=l[u];o<s;++o)if((a=r[o]).type===f.type&&a.name===f.name)return f.value},dispatch:function ih(t,e){return this.each(("function"==typeof e?eh:nh)(t,e))},[Symbol.iterator]:function*rh(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var a,r=t[e],o=0,s=r.length;o<s;++o)(a=r[o])&&(yield a)}};const Ge=No;var ah=(0,ar.Z)("start","end","cancel","interrupt"),lh=[];function Zi(t,e,n,r,o,s){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function uh(t,e,n){var o,r=t.__transition;function a(c){var f,T,Z,b;if(1!==n.state)return u();for(f in r)if((b=r[f]).name===n.name){if(3===b.state)return(0,Ke.Z)(a);4===b.state?(b.state=6,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[f]):+f<e&&(b.state=6,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[f])}if((0,Ke.Z)(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(Z=n.tween.length),f=0,T=-1;f<Z;++f)(b=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++T]=b);o.length=T+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=5,1),T=-1,Z=o.length;++T<Z;)o[T].call(t,f);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var c in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=(0,$e.HT)(function s(c){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:o,on:ah,tween:lh,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function ir(t,e){var n=ee(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function se(t,e){var n=ee(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ee(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hh(t,e){var n,r;return function(){var o=se(this,t),s=o.tween;if(s!==n)for(var a=0,l=(r=n=s).length;a<l;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function _h(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var s=se(this,t),a=s.tween;if(a!==r){o=(r=a).slice();for(var l={name:e,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=l;break}u===c&&o.push(l)}s.tween=o}}function rr(t,e,n){var r=t._id;return t.each(function(){var o=se(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return ee(o,r).value[e]}}function Jo(t,e){var n;return("number"==typeof e?fr.Z:e instanceof ei.ZP?ii.ZP:(n=(0,ei.ZP)(e))?(e=n,ii.ZP):hr.Z)(t,e)}function dh(t){return function(){this.removeAttribute(t)}}function gh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mh(t,e,n){var r,s,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?s:s=e(r=a,n)}}function yh(t,e,n){var r,s,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?s:s=e(r=a,n)}}function vh(t,e,n){var r,o,s;return function(){var a,u,l=n(this);return null==l?void this.removeAttribute(t):(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function xh(t,e,n){var r,o,s;return function(){var a,u,l=n(this);return null==l?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}function Ah(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function bh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ph(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&bh(t,s)),n}return o._value=e,o}function Th(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ah(t,s)),n}return o._value=e,o}function Ch(t,e){return function(){ir(this,t).delay=+e.apply(this,arguments)}}function Nh(t,e){return e=+e,function(){ir(this,t).delay=e}}function Mh(t,e){return function(){se(this,t).duration=+e.apply(this,arguments)}}function kh(t,e){return e=+e,function(){se(this,t).duration=e}}function Dh(t,e){if("function"!=typeof e)throw new Error;return function(){se(this,t).ease=e}}function zh(t,e,n){var r,o,s=function Hh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?ir:se;return function(){var a=s(this,t),l=a.on;l!==r&&(o=(r=l).copy()).on(e,n),a.on=o}}var Gh=Ge.prototype.constructor;function Do(t){return function(){this.style.removeProperty(t)}}function jh(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function t_(t,e,n){var r,o;function s(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&jh(t,a,n)),r}return s._value=e,s}function o_(t){return function(e){this.textContent=t.call(this,e)}}function s_(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&o_(o)),e}return r._value=t,r}var c_=0;function pe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Uo(){return++c_}var de=Ge.prototype;pe.prototype=function f_(t){return Ge().transition(t)}.prototype={constructor:pe,select:function qh(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Wi(t));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var f,T,l=r[a],u=l.length,c=s[a]=new Array(u),Z=0;Z<u;++Z)(f=l[Z])&&(T=t.call(f,f.__data__,Z,l))&&("__data__"in f&&(T.__data__=f.__data__),c[Z]=T,Zi(c[Z],e,n,Z,c,ee(f,n)));return new pe(s,this._parents,e,n)},selectAll:function Bh(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=go(t));for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var f,u=r[l],c=u.length,T=0;T<c;++T)if(f=u[T]){for(var b,Z=t.call(f,f.__data__,T,u),St=ee(f,n),Kt=0,Q=Z.length;Kt<Q;++Kt)(b=Z[Kt])&&Zi(b,e,n,Kt,Z,St);s.push(Z),a.push(f)}return new pe(s,a,e,n)},selectChild:de.selectChild,selectChildren:de.selectChildren,filter:function Ih(t){"function"!=typeof t&&(t=mo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var u,s=e[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new pe(r,this._parents,this._name,this._id)},merge:function Rh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=Math.min(r,n.length),a=new Array(r),l=0;l<s;++l)for(var Z,u=e[l],c=n[l],f=u.length,T=a[l]=new Array(f),b=0;b<f;++b)(Z=u[b]||c[b])&&(T[b]=Z);for(;l<r;++l)a[l]=e[l];return new pe(a,this._parents,this._name,this._id)},selection:function Yh(){return new Gh(this._groups,this._parents)},transition:function l_(){for(var t=this._name,e=this._id,n=Uo(),r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)if(u=a[c]){var f=ee(u,e);Zi(u,t,n,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new pe(r,this._parents,t,n)},call:de.call,nodes:de.nodes,node:de.node,size:de.size,empty:de.empty,each:de.each,on:function Fh(t,e){var n=this._id;return arguments.length<2?ee(this.node(),n).on.on(t):this.each(zh(n,t,e))},attr:function wh(t,e){var n=bi(t),r="transform"===n?ni.w:Jo;return this.attrTween(t,"function"==typeof e?(n.local?xh:vh)(n,r,rr(this,"attr."+t,e)):null==e?(n.local?gh:dh)(n):(n.local?yh:mh)(n,r,e))},attrTween:function Zh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=bi(t);return this.tween(n,(r.local?Ph:Th)(r,e))},style:function Wh(t,e,n){var r="transform"==(t+="")?ni.Y:Jo;return null==e?this.styleTween(t,function Vh(t,e){var n,r,o;return function(){var s=ke(this,t),a=(this.style.removeProperty(t),ke(this,t));return s===a?null:s===n&&a===r?o:o=e(n=s,r=a)}}(t,r)).on("end.style."+t,Do(t)):"function"==typeof e?this.styleTween(t,function $h(t,e,n){var r,o,s;return function(){var a=ke(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=ke(this,t)),a===u?null:a===r&&u===o?s:(o=u,s=e(r=a,l))}}(t,r,rr(this,"style."+t,e))).each(function Kh(t,e){var n,r,o,l,s="style."+e,a="end."+s;return function(){var u=se(this,t),c=u.on,f=null==u.value[s]?l||(l=Do(e)):void 0;(c!==n||o!==f)&&(r=(n=c).copy()).on(a,o=f),u.on=r}}(this._id,t)):this.styleTween(t,function Xh(t,e,n){var r,s,o=n+"";return function(){var a=ke(this,t);return a===o?null:a===r?s:s=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function n_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,t_(t,e,null==n?"":n))},text:function r_(t){return this.tween("text","function"==typeof t?function i_(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(rr(this,"text",t)):function e_(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function a_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,s_(t))},remove:function Oh(){return this.on("end.remove",function Qh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function ph(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a,r=ee(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((null==e?hh:_h)(n,t,e))},delay:function Eh(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ch:Nh)(e,t)):ee(this.node(),e).delay},duration:function Jh(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Mh:kh)(e,t)):ee(this.node(),e).duration},ease:function Uh(t){var e=this._id;return arguments.length?this.each(Dh(e,t)):ee(this.node(),e).ease},easeVarying:function Lh(t){if("function"!=typeof t)throw new Error;return this.each(function Sh(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;se(this,t).ease=n}}(this._id,t))},end:function u_(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(s,a){var l={value:a},u={value:function(){0==--o&&s()}};n.each(function(){var c=se(this,r),f=c.on;f!==t&&((e=(t=f).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),0===o&&s()})},[Symbol.iterator]:de[Symbol.iterator]};var h_={time:null,delay:0,duration:250,ease:gr.tw};function __(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Je(t,e,n){this.k=t,this.x=e,this.y=n}Ge.prototype.interrupt=function fh(t){return this.each(function(){!function ch(t,e){var r,o,a,n=t.__transition,s=!0;if(n){for(a in e=null==e?null:e+"",n)(r=n[a]).name===e?(o=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]):s=!1;s&&delete t.__transition}}(this,t)})},Ge.prototype.transition=function p_(t){var e,n;t instanceof pe?(e=t._id,t=t._name):(e=Uo(),(n=h_).time=(0,$e.zO)(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var u,a=r[s],l=a.length,c=0;c<l;++c)(u=a[c])&&Zi(u,t,e,c,a,n||__(u,e));return new pe(r,this._parents,t,e)},Je.prototype={constructor:Je,scale:function(t){return 1===t?this:new Je(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Je(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Je(1,0,0);var i=J(260),Lo=J(6301);function A_(t,e){1&t&&(i.TgZ(0,"ion-content"),i._UZ(1,"div",7),i.TgZ(2,"ion-item",8)(3,"ion-grid",9)(4,"ion-row",9)(5,"ion-col",9)(6,"p"),i._uU(7," Each dot represents one participant. "),i.qZA(),i.TgZ(8,"p"),i._uU(9," The large discs show how much approval each option gets. The part of the disc that sticks out from behind the other discs shows the share that this option gets. We only show those options that get a share. "),i.qZA(),i.TgZ(10,"small")(11,"p"),i._uU(12," The colors show which options you yourself approve and where your share goes: "),i.TgZ(13,"span",10)(14,"b"),i._uU(15,"Red:"),i.qZA()(),i._uU(16," you won't approve this option since your wap is zero. "),i.TgZ(17,"span",11)(18,"b"),i._uU(19,"Blue:"),i.qZA()(),i._uU(20," you currently don't approve this option. "),i.TgZ(21,"span",12)(22,"b"),i._uU(23,"Green:"),i.qZA()(),i._uU(24," you approve this option. Your share goes to the "),i.TgZ(25,"span",13)(26,"b"),i._uU(27,"dark green"),i.qZA()(),i._uU(28," option. "),i.qZA()(),i.TgZ(29,"p")(30,"b"),i._uU(31,"Suggestion:"),i.qZA(),i._uU(32," You might want to talk to the supporters of the options you don't approve (red and blue). Maybe you can together find some other option that you can all approve? "),i.TgZ(33,"small"),i._uU(34,"A good compromise option might already be on the menu or you might want to add it."),i.qZA()()()()()()())}const Io={vodlered:"#d33939",vodleblue:"#3465a4",vodlegreen:"#62a73b",vodledarkgreen:"#4c822e"};let Ro=(()=>{class t{constructor(n,r,o){this.translate=n,this.modalController=r,this.G=o,this.Array=Array,this.Math=Math,this.Object=Object,this.window=window,this.document=document,this.environment=wt.N,this.JSON=JSON,this.page="analysis",this.G.L.entry("AnalysisPage.constructor")}ngOnInit(){this.G.L.entry("AnalysisPage.ngOnInit")}ionViewWillEnter(){this.G.L.entry("AnalysisPage.ionViewWillEnter"),this.G.D.page=this}ionViewDidEnter(){this.G.L.entry("AnalysisPage.ionViewDidEnter"),this.show_venn()}onDataReady(){this.G.L.entry("AnalysisPage.onDataReady")}onDataChange(){this.G.L.entry("AnalysisPage.onDataChange")}ionViewWillLeave(){this.G.L.entry("AnalysisPage.ionViewWillLeave")}ionViewDidLeave(){this.G.L.entry("AnalysisPage.ionViewDidLeave")}close(){this.modalController.dismiss()}show_venn(){const n=this.P.p.T,r=n.shares_map,o=[],s=[];for(const[xt,Gt]of n.oids_descending.entries()){if(10==xt)break;r.has(Gt)&&r.get(Gt)>0&&(o.push(Gt),s.push(this.P.slidercolor[Gt]))}this.G.L.info("colors",s,Io[s[0]]);const a={},l=n.approvals_map,u="abcdefghij";for(const xt of this.P.p.T.all_vids_set){let Gt="";for(const[pn,on]of o.entries()){const un=l.get(on);un.has(xt)&&un.get(xt)&&(Gt+=u[pn])}Gt in a?a[Gt]+=1:a[Gt]=1}this.G.L.info("exact_combi_counts",a);const c={};for(const[xt,Gt]of Object.entries(a)){const pn=xt.length,on=1<<pn;for(let un=1;un<on;un++){let nn="";for(let en=0;en<pn;en++)0!=(un&1<<en)&&(nn+=xt[en]);nn in c?c[nn]+=Gt:c[nn]=Gt}}this.G.L.info("subset_counts",c);const f=[],T=n.n_not_abstaining;for(const[xt,Gt]of o.entries())f.push({sets:[u[xt]],size:c[u[xt]],label:this.P.p.options[Gt].name});for(const[xt,Gt]of Object.entries(c))xt.length>1&&f.push({sets:[...xt],size:Gt});f.reverse();const St=Ie("#venn").node().getBoundingClientRect().width;var Kt=st.VennDiagram().width(St).height(.9*St);Ie("#venn").datum(f).call(Kt),Lr("#venn .venn-circle path").style("fill-opacity",0).style("fill",function(xt,Gt){return Io[s[o.length-1-Gt]]}).style("stroke-width",1).style("stroke-opacity",0).style("stroke","white"),Lr("#venn .venn-circle text").style("fill","white").style("fill-opacity",0).style("stroke-width",0).style("font-size","14px").style("font-style","italic").style("font-weight","bold");const Q=[],z=Ie("#venn > svg"),yt=[];for(const[xt,Gt]of o.entries()){const pn=Ie('g[data-venn-sets="'+u[xt]+'"]'),on=pn.select("path"),nn=(pn.select("text"),on.node().getBBox()),en=nn.width/2,Yn=nn.x+en,wn=nn.y+en,A=T<=100?n.n_votes_map.get(Gt):Math.round(100*n.shares_map.get(Gt)),mt=z.append("g"),L=[];Q.push({cx:Yn,cy:wn,R:en}),yt.push(mt);for(let at=0;at<A;at++){for(var ot,Rt;;){const zt=(en-10.5)*Math.sqrt(Math.random()),Jt=2*Math.PI*Math.random();ot=Yn+zt*Math.sin(Jt),Rt=wn+zt*Math.cos(Jt);let Nt=!0;for(let Lt=0;Lt<at;Lt++){const Yt=L[Lt];if(Math.pow(ot-Yt.x,2)+Math.pow(Rt-Yt.y,2)<Math.pow(21,2)){Nt=!1;break}}if(Nt)for(let Lt=0;Lt<xt;Lt++){const Yt=Q[Lt];if(Math.pow(ot-Yt.cx,2)+Math.pow(Rt-Yt.cy,2)<Math.pow(Yt.R+10.5,2)){Nt=!1;break}}if(Nt)break}L.push([ot,Rt]),mt.append("circle").style("stroke","black").style("stroke-opacity",0).style("fill","black").style("fill-opacity",0).attr("r",7).attr("cx",ot).attr("cy",Rt)}}for(const[xt,Gt]of o.entries()){const pn=Ie('g[data-venn-sets="'+u[xt]+'"]'),on=pn.select("path"),un=pn.select("text"),nn=yt[xt];z.append(()=>un.node());const en=un.clone(!0);un.style("stroke-width",2).style("stroke","black").style("stroke-opacity",0),on.transition().duration(2e3).delay(1e3*xt).style("fill-opacity",.95-.05*xt).style("stroke-opacity",1),un.transition().duration(2e3).delay(1e3*xt).style("stroke-opacity",.75),en.transition().duration(2e3).delay(1e3*xt).style("fill-opacity",1),nn.selectAll("circle").transition().duration(2e3).delay(1e3*xt).style("fill-opacity",.3)}}}return t.\u0275fac=function(n){return new(n||t)(i.Y36(pt.sK),i.Y36(U.IN),i.Y36(Lo.U))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-analysis"]],viewQuery:function(n,r){if(1&n&&i.Gf(U.W2,5),2&n){let o;i.iGM(o=i.CRH())&&(r.content=o.first)}},inputs:{P:"P"},decls:9,vars:4,consts:[[1,"ion-no-margin","ion-no-padding",2,"--inner-padding-end","0px!important"],[2,"padding-left","16px"],[2,"font-weight","bold","font-size","larger",3,"innerHtml"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","close-outline"],[4,"ngIf"],["id","venn"],["lines","none",1,"ion-no-margin"],[1,"ion-no-padding","ion-no-margin"],[2,"color","#d33939"],[2,"color","#3465a4"],[2,"color","#62a73b"],[2,"color","#4c822e"]],template:function(n,r){1&n&&(i.TgZ(0,"ion-header")(1,"ion-item",0)(2,"ion-toolbar",1),i._UZ(3,"ion-text",2),i.ALo(4,"translate"),i.TgZ(5,"ion-buttons",3)(6,"ion-button",4),i.NdJ("click",function(){return r.close()}),i._UZ(7,"ion-icon",5),i.qZA()()()()(),i.YNc(8,A_,35,0,"ion-content",6)),2&n&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,2,"analysis.-page-title"),i.oJD),i.xp6(5),i.Q6J("ngIf",r.P.ready))},directives:[U.Gu,U.Ie,U.sr,U.yW,U.Sm,U.YG,U.gu,Y.O5,U.W2,U.jY,U.Nd,U.wI],pipes:[pt.X$],styles:['@charset "UTF-8";']}),t})();var b_=J(2122),P_=J(1353);const T_=["expandWrapper"],Z_=["*"];let C_=(()=>{class t{constructor(n){this.renderer=n}ngAfterViewInit(){this.renderer.setStyle(this.expandWrapper.nativeElement,"height",this.expandHeight+"px")}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(i.Y36(i.Qsj))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-expandable"]],viewQuery:function(n,r){if(1&n&&i.Gf(T_,5,i.SBq),2&n){let o;i.iGM(o=i.CRH())&&(r.expandWrapper=o.first)}},inputs:{expanded:"expanded",expandHeight:"expandHeight"},ngContentSelectors:Z_,decls:3,vars:2,consts:[[1,"expand-wrapper"],["expandWrapper",""]],template:function(n,r){1&n&&(i.F$t(),i.TgZ(0,"div",0,1),i.Hsn(2),i.qZA()),2&n&&i.ekj("collapsed",!r.expanded)},styles:["app-expandable[_ngcontent-%COMP%]   .expand-wrapper[_ngcontent-%COMP%]{transition:height 1s ease}app-expandable[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{display:none;height:0!important}"]}),t})();function N_(t,e){1&t&&(i._UZ(0,"ion-text",12),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.lcZ(1,1,"poll.-page-title"),i.oJD)}function E_(t,e){if(1&t&&(i.TgZ(0,"ion-text")(1,"b"),i._UZ(2,"i",13),i.qZA()()),2&t){const n=i.oxw();i.xp6(2),i.Q6J("innerHtml",n.p.title,i.oJD)}}function M_(t,e){1&t&&(i.ynx(0),i._UZ(1,"ion-icon",14)(2,"ion-icon",15),i.BQk())}function k_(t,e){1&t&&i._UZ(0,"ion-spinner",16)}function J_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-button",17),i.NdJ("click",function(){return i.CHM(n),i.oxw().checkmark_clicked()}),i._UZ(1,"ion-icon",18),i.qZA()}}function D_(t,e){1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.lcZ(1,1,"poll.delegate-button"),i.oJD)}function U_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-button",19),i.NdJ("click",function(o){return i.CHM(n),i.oxw().delegate_dialog(o)}),i.YNc(1,D_,2,3,"span",20),i.TgZ(2,"ion-button",21),i._UZ(3,"ion-icon",22),i.qZA()()}if(2&t){const n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.scroll_position<70),i.xp6(1),i.Q6J("disabled",!n.E.delegation.enabled)}}function S_(t,e){if(1&t&&(i.TgZ(0,"small"),i._UZ(1,"br"),i._uU(2),i.qZA()),2&t){const n=i.oxw().$implicit;i.xp6(2),i.hij(" ",n.body," ")}}function L_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-card")(1,"ion-card-content",49)(2,"ion-item",50),i._uU(3," \xa0\xa0 "),i.TgZ(4,"ion-label",49),i._uU(5),i.YNc(6,S_,3,1,"small",5),i.qZA(),i.TgZ(7,"ion-button",51),i.NdJ("click",function(){const s=i.CHM(n).$implicit,a=i.oxw(2);return a.news.delete(s),a.G.N.dismiss(s.key)}),i._UZ(8,"ion-icon",52),i.qZA()()()()}if(2&t){const n=e.$implicit;i.xp6(5),i.hij(" ",n.title," "),i.xp6(1),i.Q6J("ngIf",n.body)}}const I_=function(t){return{language:t}};function R_(t,e){if(1&t&&(i.TgZ(0,"small"),i._UZ(1,"p",13),i.ALo(2,"translate"),i.qZA()),2&t){const n=i.oxw(2);i.xp6(1),i.Q6J("innerHtml",i.xi3(2,1,"poll.different-language",i.VKq(4,I_,n.G.S.language_names[n.p.language])),i.oJD)}}function H_(t,e){if(1&t&&i._UZ(0,"i",13),2&t){const n=i.oxw(3);i.Q6J("innerHtml",n.p.desc,i.oJD)}}function z_(t,e){1&t&&(i.TgZ(0,"span"),i._uU(1,"\xa0"),i.qZA())}function F_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"small"),i._uU(1," ("),i.TgZ(2,"span",47),i.NdJ("click",function(){i.CHM(n);const o=i.oxw(3);return o.G.open_url_in_new_tab(o.G.D.fix_url(o.p.url)),o.details_expanded=!o.details_expanded}),i._UZ(3,"ion-text",46),i.ALo(4,"translate"),i._uU(5,"\xa0"),i._UZ(6,"ion-icon",55),i.qZA(),i._uU(7,") "),i.qZA()}2&t&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,1,"read-more"),i.oJD))}function Q_(t,e){1&t&&(i.TgZ(0,"small"),i._uU(1," \xa0 ("),i._UZ(2,"ion-text",46),i.ALo(3,"translate"),i._uU(4,") "),i.qZA()),2&t&&(i.xp6(2),i.Q6J("innerHtml",i.lcZ(3,1,"hide"),i.oJD))}function O_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",53),i.NdJ("click",function(){i.CHM(n);const o=i.oxw(2);return o.details_expanded=!o.details_expanded}),i.TgZ(1,"ion-grid",54)(2,"ion-row",27)(3,"ion-col",27)(4,"div"),i.YNc(5,H_,1,1,"i",20),i.YNc(6,z_,2,0,"span",5),i.YNc(7,F_,8,3,"small",5),i.YNc(8,Q_,5,3,"small",5),i.qZA()()()()()}if(2&t){const n=i.oxw(2);i.xp6(4),i.Akn(n.details_expanded?"white-space: normal; overflow: hidden; text-overflow: ellipsis; width: 100%!important;":"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%!important;"),i.xp6(1),i.Q6J("ngIf",""!=(n.p.desc||"")),i.xp6(1),i.Q6J("ngIf",""!=(n.p.desc||"")&&""!=(n.p.url||"")),i.xp6(1),i.Q6J("ngIf",""!=(n.p.url||"")),i.xp6(1),i.Q6J("ngIf",n.details_expanded)}}function q_(t,e){1&t&&(i._UZ(0,"ion-label",60),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.lcZ(1,1,"poll.assist-me-button"),i.oJD)}function B_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-button",56),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).assist_dialog()}),i.YNc(1,q_,2,3,"ion-label",57),i._uU(2,"\xa0"),i.TgZ(3,"ion-button",58),i._UZ(4,"ion-icon",59),i.qZA()()}if(2&t){const n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",n.details_expanded)}}function G_(t,e){1&t&&(i._UZ(0,"ion-badge",61),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.lcZ(1,1,"badges.closing-soon"),i.oJD)}function Y_(t,e){1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.lcZ(1,1,"poll.closes"),i.oJD)}function V_(t,e){1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.lcZ(1,1,"poll.closed"),i.oJD)}function X_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-badge",62),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).analysis_dialog()}),i._UZ(1,"ion-icon",63),i._uU(2,"\xa0"),i._UZ(3,"span",13),i.qZA()}2&t&&(i.xp6(3),i.Q6J("innerHtml","suggestions",i.oJD))}function $_(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"span",60),i.ALo(2,"translate"),i._uU(3,"\xa0"),i.TgZ(4,"ion-button",64),i._UZ(5,"ion-icon",65),i.qZA(),i.BQk()),2&t){const n=i.oxw(2);i.xp6(1),i.Q6J("innerHtml",i.lcZ(2,2,"poll.show-live"),i.oJD),i.xp6(4),i.Q6J("name",n.show_live?"eye-off-outline":"eye-outline")}}function K_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",68)(1,"small")(2,"p"),i._UZ(3,"span",69),i.ALo(4,"translate"),i._uU(5,"\xa0"),i._UZ(6,"wbr")(7,"span",13),i.ALo(8,"translate"),i._UZ(9,"wbr"),i.TgZ(10,"span",70),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).glossary("wap")}),i._UZ(11,"span",46),i.ALo(12,"translate"),i._UZ(13,"ion-icon",71),i.qZA(),i._UZ(14,"span",13),i.ALo(15,"translate"),i._uU(16," \xa0"),i._UZ(17,"wbr"),i.TgZ(18,"span",32),i._uU(19," ("),i.TgZ(20,"a",72),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).assist_dialog()}),i.ALo(21,"translate"),i.qZA(),i._uU(22,") "),i.qZA()()()()}2&t&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,5,"poll.hint-first-time-1"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(8,7,"poll.hint-first-time-2-before-wap"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(12,9,"poll.hint-first-time-2-wap"),i.oJD),i.xp6(3),i.Q6J("innerHtml",i.lcZ(15,11,"poll.hint-first-time-2-after-wap"),i.oJD),i.xp6(6),i.Q6J("innerHtml",i.lcZ(21,13,"poll.assist-me-inline"),i.oJD))}function W_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",73)(1,"small")(2,"p"),i._UZ(3,"span",69),i.ALo(4,"translate"),i._uU(5,"\xa0"),i._UZ(6,"wbr")(7,"span",13),i.ALo(8,"translate"),i._UZ(9,"wbr"),i.TgZ(10,"span",70),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).glossary("wap")}),i._UZ(11,"span",46),i.ALo(12,"translate"),i._UZ(13,"ion-icon",71),i.qZA(),i._UZ(14,"span",13),i.ALo(15,"translate"),i._uU(16," \xa0"),i._UZ(17,"wbr"),i.TgZ(18,"span",32),i._uU(19," ("),i.TgZ(20,"a",72),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).assist_dialog()}),i.ALo(21,"translate"),i.qZA(),i._uU(22,") "),i.qZA()()()()}2&t&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,5,"poll.hint-abstaining-1"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(8,7,"poll.hint-abstaining-2-before-wap"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(12,9,"poll.hint-abstaining-2-wap"),i.oJD),i.xp6(3),i.Q6J("innerHtml",i.lcZ(15,11,"poll.hint-abstaining-2-after-wap"),i.oJD),i.xp6(6),i.Q6J("innerHtml",i.lcZ(21,13,"poll.assist-me-inline"),i.oJD))}function j_(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",68)(1,"small")(2,"p"),i._UZ(3,"span",69),i.ALo(4,"translate"),i._UZ(5,"wbr"),i.TgZ(6,"span",70),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).glossary("wap")}),i._UZ(7,"span",74),i.ALo(8,"translate"),i._UZ(9,"ion-icon",75),i.qZA(),i._UZ(10,"span",69),i.ALo(11,"translate"),i._uU(12,"\xa0"),i._UZ(13,"wbr")(14,"span",13),i.ALo(15,"translate"),i._uU(16," \xa0"),i._UZ(17,"wbr"),i.TgZ(18,"span",32),i._uU(19," ("),i.TgZ(20,"a",72),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).assist_dialog()}),i.ALo(21,"translate"),i.qZA(),i._uU(22,") "),i.qZA()()()()}2&t&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,5,"poll.hint-only1positive-1-before-wap"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(8,7,"poll.hint-only1positive-1-wap"),i.oJD),i.xp6(3),i.Q6J("innerHtml",i.lcZ(11,9,"poll.hint-only1positive-1-after-wap"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(15,11,"poll.hint-only1positive-2"),i.oJD),i.xp6(6),i.Q6J("innerHtml",i.lcZ(21,13,"poll.assist-me-inline"),i.oJD))}function tp(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",76)(1,"small")(2,"p"),i._UZ(3,"span",69),i.ALo(4,"translate"),i._UZ(5,"wbr"),i.TgZ(6,"span",70),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).glossary("approve")}),i._UZ(7,"span",74),i.ALo(8,"translate"),i._UZ(9,"ion-icon",75),i.qZA(),i._UZ(10,"span",69),i.ALo(11,"translate"),i._uU(12,"\xa0"),i._UZ(13,"wbr")(14,"span",13),i.ALo(15,"translate"),i._UZ(16,"wbr"),i.TgZ(17,"span",70),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).glossary("wap")}),i._UZ(18,"span",46),i.ALo(19,"translate"),i._UZ(20,"ion-icon",71),i.qZA(),i._UZ(21,"span",13),i.ALo(22,"translate"),i._uU(23," \xa0"),i._UZ(24,"wbr"),i.TgZ(25,"span",32),i._uU(26," ("),i.TgZ(27,"a",72),i.NdJ("click",function(){return i.CHM(n),i.oxw(3).assist_dialog()}),i.ALo(28,"translate"),i.qZA(),i._uU(29,") "),i.qZA()()()()}2&t&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,7,"poll.hint-only1approved-1-before-approving"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(8,9,"poll.hint-only1approved-1-approving"),i.oJD),i.xp6(3),i.Q6J("innerHtml",i.lcZ(11,11,"poll.hint-only1approved-1-after-approving"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(15,13,"poll.hint-only1approved-2-before-wap"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(19,15,"poll.hint-only1approved-2-wap"),i.oJD),i.xp6(3),i.Q6J("innerHtml",i.lcZ(22,17,"poll.hint-only1approved-2-after-wap"),i.oJD),i.xp6(6),i.Q6J("innerHtml",i.lcZ(28,19,"poll.assist-me-inline"),i.oJD))}function np(t,e){1&t&&(i.TgZ(0,"ion-item",77)(1,"small")(2,"p"),i._UZ(3,"span",13),i.ALo(4,"translate"),i.qZA()()()),2&t&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,1,"poll.hint-mostapproved-1"),i.oJD))}function ep(t,e){if(1&t&&(i.ynx(0),i.YNc(1,K_,23,15,"ion-item",41),i.YNc(2,W_,23,15,"ion-item",66),i.YNc(3,j_,23,15,"ion-item",41),i.YNc(4,tp,30,21,"ion-item",67),i.YNc(5,np,5,3,"ion-item",40),i.BQk()),2&t){const n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!n.p.have_acted&&!n.p.am_abstaining),i.xp6(1),i.Q6J("ngIf",n.p.am_abstaining),i.xp6(1),i.Q6J("ngIf",1==n.p.my_n_rated_positive),i.xp6(1),i.Q6J("ngIf",n.show_live&&1!=n.p.my_n_rated_positive&&1==n.p.my_n_approved),i.xp6(1),i.Q6J("ngIf",n.show_live&&n.p.my_n_approved>1&&!n.p.T.approvals_map.get(n.oidsorted[0]).get(n.p.myvid))}}const or=function(){return{}};function ip(t,e){1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.xi3(1,1,"poll.reason-all-abstained",i.DdM(4,or)),i.oJD)}function rp(t,e){1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.xi3(1,1,"poll.reason-full-consensus-unique",i.DdM(4,or)),i.oJD)}function op(t,e){1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.xi3(1,1,"poll.reason-full-consensus-highest",i.DdM(4,or)),i.oJD)}const sp=function(t,e){return{approval:t,disapproval:e}};function ap(t,e){if(1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t){const n=i.oxw(3);i.Q6J("innerHtml",i.xi3(1,1,"poll.reason-largest-approval",i.WLB(4,sp,(n.p.T.approval_scores_map.get(n.oidsorted[0])/n.p.T.n_not_abstaining*100).toFixed(1),(100-n.p.T.approval_scores_map.get(n.oidsorted[0])/n.p.T.n_not_abstaining*100).toFixed(1))),i.oJD)}}const lp=function(t){return{share:t}};function up(t,e){if(1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t){const n=i.oxw(3);i.Q6J("innerHtml",i.xi3(1,1,"poll.reason-smaller-approval",i.VKq(4,lp,(100*n.p.T.shares_map.get(n.p.winner)).toFixed(1))),i.oJD)}}const cp=function(t){return{winner:t}};function fp(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"ion-item",77),i._UZ(2,"p",13),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"ion-item",73)(5,"h3"),i._UZ(6,"b",13),i.ALo(7,"translate"),i.qZA()(),i.TgZ(8,"ion-item",68)(9,"p"),i._UZ(10,"b",13),i.ALo(11,"translate"),i._uU(12,"\xa0 "),i.YNc(13,ip,2,5,"span",20),i.YNc(14,rp,2,5,"span",20),i.YNc(15,op,2,5,"span",20),i.YNc(16,ap,2,7,"span",20),i.YNc(17,up,2,6,"span",20),i.qZA()(),i.BQk()),2&t){const n=i.oxw(2);i.xp6(2),i.Q6J("innerHtml",i.lcZ(3,8,"poll.results"),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.xi3(7,10,"poll.winner-is",i.VKq(15,cp,n.p.options[n.p.winner].name)),i.oJD),i.xp6(4),i.Q6J("innerHtml",i.lcZ(11,13,"poll.reason"),i.oJD),i.xp6(3),i.Q6J("ngIf",0==n.p.T.n_not_abstaining),i.xp6(1),i.Q6J("ngIf",n.p.T.n_not_abstaining>0&&n.p.T.approval_scores_map.get(n.oidsorted[0])==n.p.T.n_not_abstaining&&n.p.T.approval_scores_map.get(n.oidsorted[1])<n.p.T.n_not_abstaining),i.xp6(1),i.Q6J("ngIf",n.p.T.n_not_abstaining>0&&n.p.T.approval_scores_map.get(n.oidsorted[0])==n.p.T.n_not_abstaining&&n.p.T.approval_scores_map.get(n.oidsorted[1])==n.p.T.n_not_abstaining),i.xp6(1),i.Q6J("ngIf",n.p.T.n_not_abstaining>0&&n.p.T.approval_scores_map.get(n.oidsorted[0])<n.p.T.n_not_abstaining&&n.p.winner==n.oidsorted[0]),i.xp6(1),i.Q6J("ngIf",n.p.T.n_not_abstaining>0&&n.p.T.approval_scores_map.get(n.oidsorted[0])<n.p.T.n_not_abstaining&&n.p.winner!=n.oidsorted[0])}}const hp=function(t,e){return{share:t,option:e}};function _p(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"h3")(2,"b"),i._UZ(3,"span",13),i.ALo(4,"translate"),i.qZA()(),i.BQk()),2&t){const n=i.oxw().index,r=i.oxw(3);i.xp6(3),i.Q6J("innerHtml",i.xi3(4,1,"poll.of-the-budget-go-to",i.WLB(4,hp,(100*r.p.T.shares_map.get(r.oidsorted[n])).toFixed(1),r.p.options[r.oidsorted[n]].name)),i.oJD)}}function pp(t,e){if(1&t&&(i.ynx(0),i.YNc(1,_p,5,7,"ng-container",5),i.BQk()),2&t){const n=e.index,r=i.oxw(3);i.xp6(1),i.Q6J("ngIf",r.p.T.shares_map.get(r.oidsorted[n])>0)}}const Ho=function(){return[]};function dp(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"ion-item",77),i._UZ(2,"p",13),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"ion-item",73)(5,"ion-text"),i.YNc(6,pp,2,1,"ng-container",25),i.qZA()(),i.BQk()),2&t){const n=i.oxw(2);i.xp6(2),i.Q6J("innerHtml",i.lcZ(3,2,"poll.results"),i.oJD),i.xp6(4),i.Q6J("ngForOf",i.DdM(4,Ho).constructor(n.oidsorted.length))}}function gp(t,e){1&t&&(i.ynx(0),i.TgZ(1,"ion-item",68),i._UZ(2,"p",13),i.ALo(3,"translate"),i.qZA(),i.BQk()),2&t&&(i.xp6(2),i.Q6J("innerHtml",i.lcZ(3,1,"poll.wait-for-results"),i.oJD))}function mp(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",78),i.NdJ("click",function(){i.CHM(n);const o=i.oxw(2);return o.final_expanded=!o.final_expanded}),i._UZ(1,"ion-icon",79),i._uU(2,"\xa0\xa0"),i.TgZ(3,"ion-label"),i._UZ(4,"span",13),i.ALo(5,"translate"),i.qZA()()}if(2&t){const n=i.oxw(2);i.xp6(1),i.Q6J("name",n.final_expanded?"caret-down-outline":"caret-forward-outline"),i.xp6(3),i.Q6J("innerHtml",i.lcZ(5,2,"poll.final-ratings"),i.oJD)}}const yp=function(t){return{n_others:t}};function vp(t,e){if(1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t){const n=i.oxw(3);i.Q6J("innerHtml",i.xi3(1,1,1==n.n_indirect_clients?"poll.also-for-other":"poll.also-for-others",i.VKq(4,yp,n.n_indirect_clients))+" ",i.oJD)}}function xp(t,e){if(1&t&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&t){const n=i.oxw(3);i.Q6J("innerHtml",i.lcZ(1,1,0==n.n_indirect_clients?"poll.declined-all":"poll.declined-some"),i.oJD)}}function wp(t,e){if(1&t&&(i.TgZ(0,"ion-chip",85),i._UZ(1,"ion-icon",86),i.TgZ(2,"small"),i._uU(3),i.qZA()()),2&t){const n=e.$implicit;i.Q6J("routerLink",n.url),i.xp6(3),i.Oqu(n.from)}}function Ap(t,e){if(1&t&&(i.TgZ(0,"ion-row")(1,"ion-col",83)(2,"small"),i._UZ(3,"span",13),i.ALo(4,"translate"),i.YNc(5,wp,4,2,"ion-chip",84),i.qZA()()()),2&t){const n=i.oxw(3);i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,2,"poll.have-accepted"),i.oJD),i.xp6(2),i.Q6J("ngForOf",n.accepted_requests)}}function bp(t,e){if(1&t&&(i.TgZ(0,"ion-chip",85),i._UZ(1,"ion-icon",86),i.TgZ(2,"small"),i._uU(3),i.qZA()()),2&t){const n=e.$implicit;i.Q6J("routerLink",n.url),i.xp6(3),i.Oqu(n.from)}}function Pp(t,e){if(1&t&&(i.TgZ(0,"ion-row")(1,"ion-col",83)(2,"small"),i._UZ(3,"span",13),i.ALo(4,"translate"),i.YNc(5,bp,4,2,"ion-chip",84),i.qZA()()()),2&t){const n=i.oxw(3);i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,2,"poll.have-declined"),i.oJD),i.xp6(2),i.Q6J("ngForOf",n.declined_requests)}}function Tp(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",77)(1,"ion-grid",27)(2,"ion-row",80),i.NdJ("click",function(){i.CHM(n);const o=i.oxw(2);return o.incoming_delegation_expanded=!o.incoming_delegation_expanded}),i.TgZ(3,"ion-col",81)(4,"small"),i._UZ(5,"ion-icon",82),i.YNc(6,vp,2,6,"span",20),i.YNc(7,xp,2,3,"span",20),i._uU(8," \xa0 "),i.qZA()()(),i.YNc(9,Ap,6,4,"ion-row",5),i.YNc(10,Pp,6,4,"ion-row",5),i.qZA()()}if(2&t){const n=i.oxw(2);i.xp6(5),i.Q6J("name",n.incoming_delegation_expanded?"chevron-down-outline":"chevron-forward-outline"),i.xp6(1),i.Q6J("ngIf",n.accepted_requests.length>0),i.xp6(1),i.Q6J("ngIf",n.declined_requests.length>0),i.xp6(2),i.Q6J("ngIf",n.incoming_delegation_expanded&&n.accepted_requests.length>0),i.xp6(1),i.Q6J("ngIf",n.incoming_delegation_expanded&&n.declined_requests.length>0)}}function Zp(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",68)(1,"ion-grid",27)(2,"ion-row",87)(3,"ion-col",81)(4,"small")(5,"p")(6,"span",88),i._uU(7),i.qZA(),i._uU(8,"\xa0 "),i._UZ(9,"span",13),i.ALo(10,"translate"),i.qZA()()(),i.TgZ(11,"ion-col",89)(12,"ion-button",90),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).revoke_delegation_dialog()}),i._UZ(13,"ion-icon",91),i.qZA()()()()()}if(2&t){const n=i.oxw(2);i.xp6(7),i.Oqu(n.delegate),i.xp6(2),i.Q6J("innerHtml",i.lcZ(10,3,"poll.delegate-not-responded"),i.oJD),i.xp6(3),i.Q6J("disabled",!n.p.allow_voting)}}function Cp(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",68)(1,"ion-grid",27)(2,"ion-row",87)(3,"ion-col",81)(4,"small")(5,"p")(6,"span",88),i._uU(7),i.qZA(),i._uU(8,"\xa0 "),i._UZ(9,"span",13),i.ALo(10,"translate"),i.qZA()()(),i.TgZ(11,"ion-col",89)(12,"ion-button",92),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).revoke_delegation_dialog()}),i._UZ(13,"ion-icon",91),i.qZA(),i._uU(14,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),i.qZA(),i.TgZ(15,"ion-col",93)(16,"small")(17,"p"),i._UZ(18,"span",13),i.ALo(19,"translate"),i._uU(20,"\xa0 "),i._UZ(21,"ion-icon",94),i.qZA()()()()()()}if(2&t){const n=i.oxw(2);i.xp6(7),i.Oqu(n.delegate),i.xp6(2),i.Q6J("innerHtml",i.lcZ(10,3,"poll.delegate-controls-"+(n.n_delegated==n.oidsorted.length?"all":2*n.n_delegated>n.oidsorted.length?"most":n.n_delegated>0?"some":"none")),i.oJD),i.xp6(9),i.Q6J("innerHtml",i.lcZ(19,5,"poll.choose-whose-ratings"),i.oJD)}}function Np(t,e){1&t&&(i._UZ(0,"span",95),i.ALo(1,"translate")),2&t&&i.Q6J("innerHtml",i.lcZ(1,1,"share"),i.oJD)}function Ep(t,e){1&t&&(i.ynx(0),i._UZ(1,"ion-icon",96),i._uU(2,"\xa0"),i._UZ(3,"span",46),i.ALo(4,"translate"),i.BQk()),2&t&&(i.xp6(3),i.Q6J("innerHtml",i.lcZ(4,1,"approval"),i.oJD))}const Mp=function(t){return{delegate:t}};function kp(t,e){if(1&t){const n=i.EpF();i.O4$(),i.kcU(),i.TgZ(0,"ion-col",132),i._uU(1,"\xa0\xa0\xa0 "),i.TgZ(2,"ion-toggle",133),i.NdJ("ionChange",function(){i.CHM(n);const o=i.oxw().index,s=i.oxw(2);return s.on_rate_yourself_toggle_change(s.oidsorted[o])})("ngModelChange",function(o){i.CHM(n);const s=i.oxw().index,a=i.oxw(2);return a.rate_yourself_toggle[a.oidsorted[s]]=o}),i.qZA(),i.TgZ(3,"div",134),i._UZ(4,"small",13),i.ALo(5,"translate"),i.ALo(6,"translate"),i.qZA()()}if(2&t){const n=i.oxw().index,r=i.oxw(2);i.xp6(2),i.Q6J("id","rate_yourself_toggle_"+r.oidsorted[n])("disabled",!r.p.allow_voting)("ngModel",r.rate_yourself_toggle[r.oidsorted[n]]),i.xp6(2),i.Q6J("innerHtml",r.rate_yourself_toggle[r.oidsorted[n]]?i.lcZ(5,4,"poll.my-own"):i.xi3(6,6,"poll.delegate-s",i.VKq(9,Mp,r.delegate)),i.oJD)}}const Jp=function(t){return{average:t}};function Dp(t,e){if(1&t&&(i.TgZ(0,"span",135),i._uU(1,", "),i._UZ(2,"span",127),i.ALo(3,"translate"),i.qZA()),2&t){const n=i.oxw().index,r=i.oxw(2);i.xp6(2),i.Q6J("innerHtml",i.xi3(3,1,"poll.average-rating",i.VKq(4,Jp,(r.p.T.total_effective_ratings_map.get(r.oidsorted[n])/r.Math.max(1,r.p.T.n_not_abstaining)).toFixed(1))),i.oJD)}}const zo=function(t){return{percentage:t}};function Up(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-item",97)(1,"ion-grid",27)(2,"ion-row",27)(3,"ion-col",98),i._UZ(4,"div",99),i.O4$(),i.TgZ(5,"svg",100),i._UZ(6,"circle",101)(7,"path",102)(8,"line",103),i.qZA()(),i.kcU(),i.TgZ(9,"ion-col")(10,"ion-grid",27)(11,"ion-row",104),i.NdJ("click",function(){const s=i.CHM(n).index,a=i.oxw(2);return a.expand(a.oidsorted[s])}),i.TgZ(12,"ion-col",27),i._UZ(13,"ion-input",105),i.TgZ(14,"ion-label",106),i._UZ(15,"ion-icon",107),i.TgZ(16,"b")(17,"i"),i._uU(18,"\xa0"),i._UZ(19,"span",13),i._uU(20,"\xa0"),i.qZA()()()()(),i.TgZ(21,"ion-row",27)(22,"ion-col",108),i.NdJ("click",function(o){const a=i.CHM(n).index,l=i.oxw(2);return l.onRatingColClick(l.oidsorted[a],o)})("pointerdown",function(o){const a=i.CHM(n).index,l=i.oxw(2);return l.onRatingColPointerdown(l.oidsorted[a],o)})("touchstart",function(o){const a=i.CHM(n).index,l=i.oxw(2);return l.onRatingColTouchstart(l.oidsorted[a],o)})("touchup",function(o){const a=i.CHM(n).index,l=i.oxw(2);return l.onRatingColTouchup(l.oidsorted[a],o)})("pointerup",function(o){const a=i.CHM(n).index,l=i.oxw(2);return l.onRatingColPointerup(l.oidsorted[a],o)}),i.TgZ(23,"ion-range",109),i.NdJ("ionFocus",function(){const s=i.CHM(n).index,a=i.oxw(2);return a.onRatingSliderFocus(a.oidsorted[s])})("ionChange",function(){const s=i.CHM(n).index,a=i.oxw(2);return a.onRatingSliderChange(a.oidsorted[s])})("ionBlur",function(){const s=i.CHM(n).index,a=i.oxw(2);return a.onRatingSliderBlur(a.oidsorted[s])}),i.TgZ(24,"ion-label",110)(25,"div",111),i.O4$(),i.TgZ(26,"svg",112),i._UZ(27,"rect",113)(28,"line",114)(29,"line",115),i.qZA()(),i.kcU(),i.TgZ(30,"div",116),i.O4$(),i.TgZ(31,"svg",117),i._UZ(32,"text",118),i.qZA()(),i.kcU(),i.TgZ(33,"div",119),i.O4$(),i.TgZ(34,"svg",120),i._UZ(35,"line",121)(36,"circle",122),i.qZA()()()()(),i.YNc(37,kp,7,11,"ion-col",123),i.qZA()()()(),i.kcU(),i.TgZ(38,"ion-row",27)(39,"ion-col",27)(40,"ion-grid",27)(41,"app-expandable",124)(42,"ion-row",125)(43,"ion-col",27)(44,"b")(45,"span",126),i._UZ(46,"span",127),i.ALo(47,"translate"),i.TgZ(48,"small"),i._UZ(49,"wbr")(50,"span",128),i.ALo(51,"translate"),i._uU(52,", "),i.qZA()(),i.TgZ(53,"small"),i._UZ(54,"wbr"),i.qZA(),i.TgZ(55,"span",129),i._UZ(56,"span",13),i.ALo(57,"translate"),i.qZA(),i.TgZ(58,"small"),i._UZ(59,"span",130),i.ALo(60,"translate"),i.qZA(),i.TgZ(61,"small"),i.YNc(62,Dp,4,6,"span",131),i._uU(63,"\xa0 "),i.TgZ(64,"span",129),i._uU(65," ("),i.TgZ(66,"a",72),i.NdJ("click",function(){const s=i.CHM(n).index,a=i.oxw(2);return a.explain_approval_dialog(a.oidsorted[s])}),i.ALo(67,"translate"),i.qZA(),i._uU(68,") "),i.qZA()()(),i.TgZ(69,"span"),i._UZ(70,"br"),i.qZA(),i.TgZ(71,"span")(72,"i"),i._UZ(73,"span",13),i._uU(74,"\xa0\xa0"),i.qZA()(),i.TgZ(75,"span")(76,"small"),i._uU(77," ("),i.TgZ(78,"span",47),i.NdJ("click",function(){const s=i.CHM(n).index,a=i.oxw(2);return a.G.open_url_in_new_tab(a.G.D.fix_url(a.p.options[a.oidsorted[s]].url))}),i._UZ(79,"ion-text",46),i.ALo(80,"translate"),i._uU(81,"\xa0"),i._UZ(82,"ion-icon",55),i.qZA(),i._uU(83,") "),i.qZA()()()()()()()()()()}if(2&t){const n=e.index,r=i.oxw(2);i.xp6(5),i.uIk("display",r.show_live||!r.p.allow_voting?"inline":"none"),i.xp6(2),i.Q6J("id","pie_"+r.oidsorted[n]),i.xp6(1),i.uIk("display",r.option_expanded[r.oidsorted[n]]?"inline":"none"),i.xp6(7),i.Q6J("name",r.option_expanded[r.oidsorted[n]]?"chevron-down-outline":"chevron-forward-outline"),i.xp6(4),i.Q6J("innerHtml",r.p.options[r.oidsorted[n]].name,i.oJD),i.xp6(3),i.Q6J("id","_slider_"+r.oidsorted[n]+"_"+r.sortingcounter),i.xp6(1),i.Akn(r.rate_yourself_toggle[r.oidsorted[n]]||"agreed"!=r.delegation_status?"pointer-events:; --bar-height: 7px; --knob-size: 35px":"pointer-events: none; --bar-height: 5px; --knob-size: 17px"),i.Q6J("disabled",!r.p.allow_voting)("id","slider_"+r.oidsorted[n]+"_"+r.sortingcounter)("color",r.show_live?r.slidercolor[r.oidsorted[n]]:"vodleblue")("value",r.p.get_my_proxy_rating(r.oidsorted[n])),i.xp6(4),i.Q6J("id","bar_"+r.oidsorted[n]),i.uIk("display",r.show_live||!r.p.allow_voting?"inline":"none"),i.xp6(1),i.uIk("display",r.show_live||!r.p.allow_voting?"inline":"none"),i.xp6(3),i.uIk("display",!r.show_live&&r.p.allow_voting||!r.option_expanded[r.oidsorted[n]]?"none":"inline"),i.xp6(1),i.Q6J("innerHtml",(r.p.T.approval_scores_map.get(r.oidsorted[n])/r.Math.max(1,r.p.T.n_not_abstaining)*100).toFixed(1)+"%\xa0\xa0",i.oJD),i.xp6(1),i.Udp("display","agreed"==r.delegation_status&&r.rate_yourself_toggle[r.oidsorted[n]]?"inline":"none"),i.xp6(2),i.Q6J("id","del_needle_"+r.oidsorted[n]),i.xp6(1),i.Q6J("id","del_knob_"+r.oidsorted[n]),i.xp6(1),i.Q6J("ngIf","agreed"==r.delegation_status),i.xp6(4),i.Q6J("id","expander_"+r.oidsorted[n]+"_"+r.sortingcounter)("expanded",r.option_expanded[r.oidsorted[n]]),i.xp6(3),i.Udp("display",r.show_live||!r.p.allow_voting?"inline":"none"),i.xp6(2),i.Q6J("innerHtml",i.xi3(47,44,"winner"==r.p.type?r.p.allow_voting?"poll.chance-to-win":"poll.final-chance-to-win":r.p.allow_voting?"poll.of-the-budget":"poll.final-budget",i.VKq(58,zo,(100*r.p.T.shares_map.get(r.oidsorted[n])).toFixed(1))),i.oJD),i.xp6(4),i.Udp("display",r.votedfor==r.oidsorted[n]?"inline":"none"),i.Q6J("innerHtml",i.lcZ(51,47,"poll.including-your-share"),i.oJD),i.xp6(6),i.Q6J("innerHtml",i.xi3(57,49,"poll.approved-by",i.VKq(60,zo,(r.p.T.approval_scores_map.get(r.oidsorted[n])/r.Math.max(1,r.p.T.n_not_abstaining)*100).toFixed(1))),i.oJD),i.xp6(3),i.Udp("display",r.approved[r.oidsorted[n]]?"inline":"none"),i.Q6J("innerHtml",i.lcZ(60,52,"poll.including-you"),i.oJD),i.xp6(3),i.Q6J("ngIf",n>0&&r.p.T.approval_scores_map.get(r.oidsorted[n-1])==r.p.T.approval_scores_map.get(r.oidsorted[n])||n<r.oidsorted.length-1&&r.p.T.approval_scores_map.get(r.oidsorted[n+1])==r.p.T.approval_scores_map.get(r.oidsorted[n])),i.xp6(4),i.Q6J("innerHtml",i.lcZ(67,54,"poll.explain"),i.oJD),i.xp6(3),i.Udp("display",!r.show_live&&r.p.allow_voting||!r.p.options[r.oidsorted[n]].desc&&!r.p.options[r.oidsorted[n]].url?"none":"inline"),i.xp6(2),i.Udp("display",""!=r.p.options[r.oidsorted[n]].desc?"inline":"none"),i.xp6(2),i.Q6J("innerHtml",r.p.options[r.oidsorted[n]].desc,i.oJD),i.xp6(2),i.Udp("display",""!=r.p.options[r.oidsorted[n]].url?"inline":"none"),i.xp6(4),i.Q6J("innerHtml",i.lcZ(80,56,"read-more"),i.oJD)}}function Sp(t,e){if(1&t){const n=i.EpF();i.ynx(0),i.TgZ(1,"ion-item",136)(2,"ion-fab-button",137),i.NdJ("click",function(o){return i.CHM(n),i.oxw(2).add_option(o)}),i._UZ(3,"ion-icon",138),i.qZA(),i.TgZ(4,"ion-button",139),i.NdJ("click",function(o){return i.CHM(n),i.oxw(2).add_option(o)}),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"ion-item",140),i._UZ(7,"small",13),i.ALo(8,"translate"),i.qZA(),i.BQk()}2&t&&(i.xp6(4),i.Q6J("innerHtml",i.lcZ(5,2,"poll.add-option"),i.oJD),i.xp6(3),i.Q6J("innerHtml",i.lcZ(8,4,"poll.add-option-info"),i.oJD))}function Lp(t,e){if(1&t){const n=i.EpF();i.ynx(0),i._UZ(1,"ion-item"),i.TgZ(2,"ion-item",141)(3,"ion-col")(4,"small")(5,"p",142),i._uU(6),i.qZA()()(),i.TgZ(7,"ion-buttons",6)(8,"ion-toggle",143),i.NdJ("ngModelChange",function(o){return i.CHM(n),i.oxw(2).p.allow_voting=o}),i.qZA()()(),i.BQk()}if(2&t){const n=i.oxw(2);i.xp6(6),i.gL8(" Debugging info: state=",n.p.state,", vid=",n.p.myvid,", oids=",n.p.oids,", oidsorted=",n.oidsorted,"/",n.p.T.oids_descending,", scores_map=",n.G.map2str(n.p.T.scores_map),". Simulate state (off:closed, on:running): "),i.xp6(2),i.Q6J("ngModel",n.p.allow_voting)}}function Ip(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-content",23),i.NdJ("pointerup",function(o){return i.CHM(n),i.oxw().onBodyPointerup(o)})("ionScroll",function(o){return i.CHM(n),i.oxw().onScroll(o)}),i.TgZ(1,"ion-list",24),i.YNc(2,L_,9,2,"ion-card",25),i.TgZ(3,"ion-item",26)(4,"ion-grid",27)(5,"ion-row",27)(6,"ion-col",27),i.YNc(7,R_,3,6,"small",5),i.TgZ(8,"h3")(9,"b"),i._UZ(10,"i",13),i.qZA()()()()()(),i.YNc(11,O_,9,6,"ion-item",28),i.TgZ(12,"ion-item",29)(13,"ion-grid",27)(14,"ion-row",27)(15,"ion-col",30),i.YNc(16,B_,5,1,"ion-button",31),i.TgZ(17,"small")(18,"span",32),i.YNc(19,G_,2,3,"ion-badge",33),i.YNc(20,Y_,2,3,"span",20),i.YNc(21,V_,2,3,"span",20),i._uU(22,"\xa0"),i._UZ(23,"b",13),i.qZA(),i._UZ(24,"br"),i.TgZ(25,"span",32),i._UZ(26,"ion-icon",34),i._uU(27,"\xa0"),i._UZ(28,"span",13),i.ALo(29,"translate"),i.qZA()(),i._UZ(30,"br"),i.TgZ(31,"small",32)(32,"span",32),i._UZ(33,"ion-icon",35),i._uU(34,"\xa0"),i.TgZ(35,"b"),i._uU(36),i.qZA(),i._uU(37,"\xa0"),i.TgZ(38,"span",36),i.NdJ("click",function(){return i.CHM(n),i.oxw().glossary("non-abstaining")}),i.ALo(39,"translate"),i.qZA(),i._uU(40,"\xa0\xa0\xa0 "),i._UZ(41,"br"),i.qZA()(),i.TgZ(42,"small",32)(43,"span",32),i._UZ(44,"ion-icon",34),i.TgZ(45,"b"),i._uU(46),i.qZA(),i._uU(47,"%\xa0"),i.TgZ(48,"span",36),i.NdJ("click",function(){return i.CHM(n),i.oxw().glossary("level-of-agreement")}),i.ALo(49,"translate"),i.qZA(),i._uU(50,"\xa0("),i.TgZ(51,"span",36),i.NdJ("click",function(){return i.CHM(n),i.oxw().analysis_dialog()}),i.ALo(52,"translate"),i.qZA(),i._uU(53,") "),i.qZA(),i._uU(54,"\xa0 "),i.YNc(55,X_,4,1,"ion-badge",37),i.TgZ(56,"ion-button",38),i.NdJ("click",function(){return i.CHM(n),i.oxw().toggle_show_live()}),i.YNc(57,$_,6,4,"ng-container",5),i.qZA()()()()()(),i.YNc(58,ep,6,5,"ng-container",5),i.YNc(59,fp,18,17,"ng-container",5),i.YNc(60,dp,7,5,"ng-container",5),i.YNc(61,gp,4,3,"ng-container",5),i.YNc(62,mp,6,4,"ion-item",39),i.TgZ(63,"div"),i.YNc(64,Tp,11,5,"ion-item",40),i.YNc(65,Zp,14,5,"ion-item",41),i.YNc(66,Cp,22,7,"ion-item",41),i.TgZ(67,"ion-item",42)(68,"small",43),i.NdJ("click",function(){i.CHM(n);const o=i.oxw();return o.show_live||!o.p.allow_voting?o.glossary("share"):null}),i.YNc(69,Np,2,3,"span",44),i.qZA(),i.TgZ(70,"small",45),i.NdJ("click",function(){return i.CHM(n),i.oxw().glossary("wap")}),i._UZ(71,"span",46),i.ALo(72,"translate"),i.qZA(),i.TgZ(73,"small",47),i.NdJ("click",function(){i.CHM(n);const o=i.oxw();return o.show_live||!o.p.allow_voting?o.glossary("approve"):null}),i.YNc(74,Ep,5,3,"ng-container",5),i.qZA()(),i.YNc(75,Up,84,62,"ion-item",48),i.YNc(76,Sp,9,6,"ng-container",5),i.qZA(),i.YNc(77,Lp,9,7,"ng-container",5),i.qZA()()}if(2&t){const n=i.oxw();i.Q6J("scrollEvents",!0),i.xp6(2),i.Q6J("ngForOf",n.news),i.xp6(5),i.Q6J("ngIf",!!n.p.language&&n.p.language!=n.G.S.language),i.xp6(3),i.Q6J("innerHtml",n.p.title,i.oJD),i.xp6(1),i.Q6J("ngIf",""!=(n.p.desc||"")||""!=(n.p.url||"")),i.xp6(5),i.Q6J("ngIf",n.p.allow_voting),i.xp6(3),i.Q6J("ngIf",n.p.allow_voting&&n.p.is_closing_soon),i.xp6(1),i.Q6J("ngIf",n.p.allow_voting&&!n.p.is_closing_soon),i.xp6(1),i.Q6J("ngIf",!n.p.allow_voting),i.xp6(2),i.Q6J("innerHtml",n.G.D.format_date(n.p.due),i.oJD),i.xp6(3),i.Q6J("name","share"==n.p.type?"cut-outline":"trophy-outline"),i.xp6(2),i.Q6J("innerHtml",i.lcZ(29,39,"share"==n.p.type?"poll.type-share":"poll.type-winner"),i.oJD),i.xp6(8),i.Oqu(n.p.T.n_not_abstaining),i.xp6(2),i.Q6J("innerHtml",i.lcZ(39,41,"non-abstaining-voters"),i.oJD),i.xp6(6),i.Q6J("name",1==n.p.agreement_level?"checkmark-done-outline":"analytics-outline"),i.xp6(2),i.hij("\xa0",(100*n.p.agreement_level).toFixed(1),""),i.xp6(2),i.Q6J("innerHtml",i.lcZ(49,43,"level-of-agreement"),i.oJD),i.xp6(3),i.Q6J("innerHtml",i.lcZ(52,45,"poll.analysis-details"),i.oJD),i.xp6(4),i.Q6J("ngIf",!1),i.xp6(1),i.Q6J("disabled",!n.p.allow_voting),i.xp6(1),i.Q6J("ngIf",n.p.allow_voting),i.xp6(1),i.Q6J("ngIf",n.p.allow_voting),i.xp6(1),i.Q6J("ngIf",n.p.has_results&&"winner"==n.p.type),i.xp6(1),i.Q6J("ngIf",n.p.has_results&&"share"==n.p.type),i.xp6(1),i.Q6J("ngIf",!n.p.allow_voting&&!n.p.has_results),i.xp6(1),i.Q6J("ngIf",!n.p.allow_voting),i.xp6(1),i.Udp("display",n.p.allow_voting||n.final_expanded?"block":"none"),i.xp6(1),i.Q6J("ngIf",n.accepted_requests.length>0||n.declined_requests.length>0),i.xp6(1),i.Q6J("ngIf","pending"==n.delegation_status),i.xp6(1),i.Q6J("ngIf","agreed"==n.delegation_status),i.xp6(3),i.Q6J("ngIf",n.show_live||!n.p.allow_voting),i.xp6(2),i.Q6J("innerHtml",i.lcZ(72,47,"poll.your-wap"),i.oJD),i.xp6(2),i.Akn("padding-top: 8px!important; padding-right: "+("agreed"==n.delegation_status?62:10)+"px; color: #769596;"),i.xp6(1),i.Q6J("ngIf",n.show_live||!n.p.allow_voting),i.xp6(1),i.Q6J("ngForOf",i.DdM(49,Ho).constructor(n.oidsorted.length)),i.xp6(1),i.Q6J("ngIf",n.p.allow_voting),i.xp6(1),i.Q6J("ngIf",!1)}}function Rp(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"ion-footer",144)(1,"ion-item",77)(2,"ion-text")(3,"ion-button",145),i.NdJ("click",function(){return i.CHM(n),i.oxw().dismiss_glossary()}),i._UZ(4,"ion-icon",146),i.qZA(),i._UZ(5,"small",13),i.ALo(6,"translate"),i.qZA()()()}if(2&t){const n=i.oxw();i.xp6(5),i.Q6J("innerHtml",i.lcZ(6,1,"glossary."+n.glossary_key),i.oJD)}}let Fo=(()=>{class t{constructor(n,r,o,s,a,l,u,c,f,T){this.changeDetector=n,this.router=r,this.route=o,this.routerOutlet=s,this.loadingController=a,this.alertCtrl=l,this.popover=u,this.modalController=c,this.translate=f,this.G=T,this.Array=Array,this.Math=Math,this.Object=Object,this.window=window,this.E=wt.N,this.page="poll",this.delegation_status="none",this.n_indirect_clients=1,this.accepted_requests=[],this.declined_requests=[],this.oidsorted=[],this.sortingcounter=0,this.approved={},this.votedfor=null,this.show_live=!1,this.final_expanded=!1,this.details_expanded=!0,this.incoming_delegation_expanded=!1,this.option_expanded={},this.pieradius=20,this.two_pi=2*Math.PI,this.slidercolor={},this.refresh_paused=!1,this.needs_refresh=!1,this.scroll_position=0,this.rate_yourself_toggle={},this.n_delegated=0,this.news=new Set,this.ready=!1,this.listeners=new Map,this.final_rand=0,this.dragged_oid=void 0,this.currentModal=null,this.show_glossary=!1,this.G.L.entry("PollsPage.constructor"),this.route.params.subscribe(Z=>{this.pid=Z.pid})}ngOnInit(){this.G.L.entry("PollsPage.ngOnInit")}ionViewWillEnter(){this.G.L.entry("PollPage.ionViewWillEnter"),this.G.D.page=this;const n=o=>{this.changeDetector.detectChanges()};window.addEventListener("offline",n),window.addEventListener("online",n);const r=JSON.parse(this.G.D.getp(this.pid,"poll_page")||"{}");this.show_live=1==r.show_live,this.details_expanded=0!=r.details_expanded,this.incoming_delegation_expanded=1==r.incoming_delegation_expanded,this.option_expanded=r.option_expanded||{},this.G.L.exit("PollPage.ionViewWillEnter",r)}ionViewDidEnter(){this.G.L.entry("PollPage.ionViewDidEnter"),this.G.D.ready&&this.onDataReady(),this.G.L.debug("PollPage.ready:",this.ready)}onDataReady(){if(this.G.L.entry("PollPage.onDataReady"),!(this.pid in this.G.P.polls))return this.G.L.warn("PollPage unknown pid ignored, redirecting to mypolls page",this.pid,this.G.P.polls),void this.router.navigate(["/mypolls"]);if(this.p=this.G.P.polls[this.pid],"draft"==this.p.state?(this.G.L.error("PollPage not showing draft poll, redirecting to mypolls page",this.pid),this.router.navigate(["/mypolls"])):this.G.L.info("PollPage showing poll",this.pid),this.p.allow_voting){this.G.L.info("PollPage checking if default waps are needed",this.pid);for(let n of this.p.oids)this.p.own_ratings_map.get(n).has(this.p.myvid)||(this.G.L.info("PollPage setting default wap",this.pid,n,this.G.S.default_wap),this.p.set_my_own_rating(n,this.G.S.default_wap,!0))}this.p.tally_all(),this.oidsorted=[...this.p.T.oids_descending],this.ready=!0,this.update_order(!0),window.setTimeout(()=>{this.update_order.bind(this)(!0),this.show_stats.bind(this)()},200),this.update_delegation_info(),this.on_delegate_toggle_change(),this.p.have_seen=!0,this.p.has_results&&(this.p.have_seen_results=!0),this.G.L.exit("PollPage.onDataReady")}onDataChange(){this.G.L.entry("PollPage.onDataChange"),this.p.tally_all(),this.update_order(),this.update_delegation_info(),this.news=this.G.N.filter({pid:this.pid}),this.changeDetector.detectChanges(),this.G.L.exit("PollPage.onDataChange")}ionViewWillLeave(){for(let r of this.oidsorted)(!this.delegate||this.rate_yourself_toggle[r])&&this.p.set_my_own_rating(r,Math.round(this.get_slider_value(r)),!0);for(const r of this.news)r.auto_dismiss&&this.G.N.dismiss(r.key);const n={show_live:this.show_live,details_expanded:this.details_expanded,incoming_delegation_expanded:this.incoming_delegation_expanded,option_expanded:this.option_expanded};this.G.D.setp(this.pid,"poll_page",JSON.stringify(n)),this.G.L.exit("PollPage.ionViewWillLeave",n)}ionViewDidLeave(){this.G.L.entry("PollPage.ionViewDidLeave"),this.G.D.save_state(),this.G.L.exit("PollPage.ionViewDidLeave")}update_delegation_info(){this.n_indirect_clients=this.p.get_n_indirect_clients(this.p.myvid);const n=this.G.D.incoming_dids_caches[this.pid];if(this.accepted_requests=[],this.declined_requests=[],n)for(const[o,[s,a,l]]of n)"agreed"==l?this.accepted_requests.push({from:s,url:a}):l.startsWith("declined")&&this.declined_requests.push({from:s,url:a});const r=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*");if(this.G.L.trace("PollPage.update_delegation_info did",r),r){this.delegate=this.G.Del.get_delegate_nickname(this.pid,r);const o=this.G.Del.get_agreement(this.pid,r);this.G.L.trace("PollPage.update_delegation_info agreement",o),this.delegation_status=o.status}this.update_delegation_toggles()}update_delegation_toggles(){for(let n of this.oidsorted){let r=this.G.Del.get_my_outgoing_dids_cache(this.pid).get(n);if(r||(r=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*")),r){const o=this.G.Del.get_agreement(this.pid,r);this.G.L.trace("PollPage found did, agreement",n,r,o,[...o.accepted_oids],[...o.active_oids]),this.rate_yourself_toggle[n]=!o.active_oids.has(n)}else this.G.L.trace("PollPage found no did for",n),this.rate_yourself_toggle[n]=!0}}onScroll(n){return(0,Et.mG)(this,void 0,void 0,function*(){this.scroll_position=n.detail.scrollTop})}on_rate_yourself_toggle_change(n){this.G.Del.update_my_delegation(this.pid,n,!this.rate_yourself_toggle[n]),this.on_delegate_toggle_change()}on_delegate_toggle_change(){let n=0;for(let[r,o]of Object.entries(this.rate_yourself_toggle))o||n++;this.n_delegated=n}show_stats(){if(!this.ready)return;this.G.L.entry("PollPage.show_stats");const n=this.p,r=n.T,o=n.myvid,s=r.approval_scores_map,a=r.shares_map,l=r.approvals_map;this.votedfor=r.votes_map.get(this.p.myvid);for(const u of n.oids){const c=s.get(u)/r.n_not_abstaining||0,f=a.get(u),T=document.getElementById("bar_"+u),Z=document.getElementById("pie_"+u),b=this.pieradius,St=b*Math.sin(this.two_pi*f),Kt=b*(1-Math.cos(this.two_pi*f)),Q=f>.5?1:0;if(this.approved[u]=l.get(u).get(o),T?(T.width.baseVal.valueAsString=(100*c).toString()+"%",T.x.baseVal.valueAsString=(100*(1-c)).toString()+"%"):this.G.L.warn("PollPage.show_stats couldn't change slider bar",u),Z?Z.setAttribute("d",f<1?"M 21,25 l 0,-"+b+" a "+b+" "+b+" 0 "+Q+" 1 "+St+" "+Kt+" Z":"M 21,25 l 0,-20 a 20 20 0 1 1 0 "+2*b+" a 20 20 0 1 1 0 "+-2*b+" Z"):this.G.L.warn("PollPage.show_stats couldn't change pie piece",u),this.set_slider_color(u,n.get_my_proxy_rating(u)),this.rate_yourself_toggle[u]){const z=document.getElementById("del_needle_"+u),yt=document.getElementById("del_knob_"+u),ot=this.G.Del.get_potential_effective_delegate(this.pid,u);if(ot){const Rt=(this.p.proxy_ratings_map.get(u)||new Map).get(ot)||0;this.G.L.trace("PollPage.show_stats rating",Rt),z&&(z.x2.baseVal.valueAsString=Rt.toString()+"%"),yt&&(yt.cx.baseVal.valueAsString=Rt.toString()+"%")}}}}update_order(n=!1){return(0,Et.mG)(this,void 0,void 0,function*(){if(this.oidsorted.length!=this.p.oids.length)this.needs_refresh=!0;else for(let r in this.oidsorted)if(this.oidsorted[r]!=this.p.T.oids_descending[r]){this.needs_refresh=!0;break}if(n||this.show_live&&this.needs_refresh&&!this.refresh_paused&&!this.dragged_oid){if(!n){const r=yield this.loadingController.create({message:this.translate.instant("poll.sorting"),spinner:"crescent",duration:100});yield r.present(),yield r.onDidDismiss()}this.oidsorted=[...this.p.T.oids_descending],this.sortingcounter++,this.needs_refresh=!1,setTimeout(()=>{this.show_stats.bind(this)();for(let r in this.oidsorted){const o=this.oidsorted[r],s=document.getElementById("_slider_"+this.oidsorted[r]+"_"+this.sortingcounter),a=f=>{this.onRatingColPointerdown.bind(this)(o,f)},l=f=>{this.onRatingColPointerup.bind(this)(o,f)},u=f=>{this.onRatingColTouchstart.bind(this)(o,f)},c=f=>{this.onRatingColTouchup.bind(this)(o,f)};if(s){if(this.listeners.has(s)){this.G.L.trace("PollPage.update_order removing old event listeners");const f=this.listeners.get(s);s.removeEventListener("pointerdown",f[0],!0),s.removeEventListener("pointerup",f[1],!0),s.removeEventListener("touchstart",f[2],!0),s.removeEventListener("touchup",f[3],!0)}s.addEventListener("pointerdown",a,!0),s.addEventListener("pointerup",l,!0),s.addEventListener("touchstart",u,!0),s.addEventListener("touchup",c,!0),this.listeners.set(s,[a,l,u,c])}}this.G.L.trace("PollPage.update_order registered event listeners",this.sortingcounter)},100)}})}set_slider_color(n,r){this.slidercolor[n]=0==r?"vodlered":this.votedfor==n?"vodledarkgreen":r+100*(this.p.T.approval_scores_map.get(n)/this.p.T.n_not_abstaining||0)<=100?"vodleblue":"vodlegreen"}toggle_show_live(){this.show_live=!this.show_live,this.show_live&&this.update_order()}expand(n){this.option_expanded[n]=!this.option_expanded[n]}get_slider(n){return this.G.L.trace("PollPage.get_slider ",this.sortingcounter),document.getElementById("slider_"+n+"_"+this.sortingcounter)}set_slider_values(){for(let n of this.p.oids)this.get_slider(n).value=this.p.proxy_ratings_map.get(n).get(this.p.myvid).toString()}get_slider_value(n){const r=this.get_slider(n);return r?Number(r.value):0}apply_sliders_rating(n){(!this.delegate||this.rate_yourself_toggle[n])&&this.p.set_my_own_rating(n,Math.round(this.get_slider_value(n)),!1),this.show_stats()}onRatingSliderFocus(n){return this.G.L.entry("PollPage.onRatingSliderFocus"),!0}onRatingSliderChange(n){var r=this.get_slider(n),o=Number(r.value);return this.set_slider_color(n,o),this.apply_sliders_rating(n),!0}onRatingSliderBlur(n){return this.G.L.entry("PollPage.onRatingSliderBlur"),this.rating_change_ended(n),!0}rating_change_ended(n){this.G.L.entry("PollPage.rating_change_ended"),this.p.have_acted=!0,(!this.delegate||this.rate_yourself_toggle[n])&&this.p.set_my_own_rating(n,Math.round(this.get_slider_value(n)),!0),this.update_order(),this.G.D.save_state()}onRatingColPointerdown(n,r){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;this.dragged_oid=n;const o=this.get_knob_pos(n),s=r?r instanceof PointerEvent?r.clientX:r.touches[0].clientX:0;return this.G.L.entry("onRatingColPointerdown",this.sortingcounter,n,this.p.options[n].name,s,o),!(s<o.left||s>o.right)||(this.swallow_event(r),!1)}onRatingColTouchstart(n,r){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;this.dragged_oid=n;const o=this.get_knob_pos(n),s=r?r instanceof PointerEvent?r.clientX:r.touches[0].clientX:0;return this.G.L.entry("onRatingColTouchstart",n,s,o),!(s<o.left||s>o.right)||(this.swallow_event(r),!1)}onRatingColPointerup(n,r){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.G.L.entry("onRatingColPointerup",n,this.dragged_oid),n!=this.dragged_oid?(this.swallow_event(r),this.dragged_oid=null,this.update_order(),!1):(this.rating_change_ended(n),this.dragged_oid=null,!0))}onRatingColTouchup(n,r){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.G.L.entry("onRatingColTouchup",n,this.dragged_oid),n!=this.dragged_oid?(this.swallow_event(r),this.dragged_oid=null,this.update_order(),!1):(this.rating_change_ended(n),this.dragged_oid=null,!0))}onRatingColClick(n,r){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;const o=this.get_knob_pos(n),s=r.clientX;return this.G.L.entry("onRatingColClick",n,this.p.options[n].name,s,o),!(s<o.left||s>o.right)||(this.swallow_event(r),!1)}onBodyPointerup(n){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.dragged_oid&&(this.G.L.entry("onBodyPointerup"),this.onRatingColPointerup(this.dragged_oid,n)),!0)}onBodyTouchup(n){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.dragged_oid&&(this.G.L.entry("onBodyTouchup"),this.onRatingColTouchup(this.dragged_oid,n)),!0)}get_knob_pos(n){const r=this.get_slider(n),o=this.get_screen_coords(r),s=this.get_slider_value(n),a=o.left+(o.right-o.left)*s/100;return this.G.L.trace("pointer slider value",s),{left:a-20,right:a+20}}get_screen_coords(n){return n?n.getBoundingClientRect():new DOMRect}swallow_event(n){this.G.L.trace("swallowing event",n),n&&(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault())}checkmark_clicked(){return(0,Et.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({message:this.translate.instant("poll.checkmark-clicked"),buttons:[{text:this.translate.instant("OK"),role:"Ok",handler:()=>{}}]})).present()})}delegate_dialog(n){this.p.end_if_past_due(),this.p.allow_voting&&this.popover.create({event:n,component:I.DelegationDialogPage,translucent:!0,showBackdrop:!0,componentProps:{parent:this}}).then(r=>{r.present()})}assist_dialog(){return(0,Et.mG)(this,void 0,void 0,function*(){if(this.p.end_if_past_due(),this.p.allow_voting){const n=yield this.modalController.create({component:rt.AssistPage,componentProps:{P:this},backdropDismiss:!1});n.present(),this.currentModal=n}})}analysis_dialog(){return(0,Et.mG)(this,void 0,void 0,function*(){this.p.end_if_past_due();const n=yield this.modalController.create({component:Ro,cssClass:"analysis",componentProps:{P:this},backdropDismiss:!0});n.present(),this.currentModal=n})}explain_approval_dialog(n){this.modalController.create({component:P_.ExplainApprovalPage,cssClass:"explain-approval",showBackdrop:!0,componentProps:{parent:this,oid:n},swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl}).then(r=>{r.present()})}revoke_delegation_dialog(){return(0,Et.mG)(this,void 0,void 0,function*(){this.p.end_if_past_due(),this.p.allow_voting&&(yield(yield this.alertCtrl.create({message:this.translate.instant("poll.revoke_delegation",{nickname:this.delegate}),buttons:[{text:this.translate.instant("cancel"),role:"Cancel",handler:()=>{console.log("Confirm Cancel.")}},{text:this.translate.instant("OK"),role:"Ok",handler:()=>{this.G.Del.revoke_delegation(this.pid,this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*"),"*"),this.delegate=null,this.delegation_status="none",this.update_delegation_info(),this.G.D.save_state()}}]})).present())})}add_option(n){this.p.end_if_past_due(),this.p.allow_voting&&this.popover.create({component:b_.AddoptionDialogPage,translucent:!0,showBackdrop:!0,cssClass:"add-option-class",componentProps:{parent:this}}).then(r=>{r.present()})}glossary(n){this.glossary_key=n,this.show_glossary=!0}dismiss_glossary(){this.show_glossary=!1}}return t.\u0275fac=function(n){return new(n||t)(i.Y36(i.sBO),i.Y36(Ht.F0),i.Y36(Ht.gz),i.Y36(U.jP),i.Y36(U.HT),i.Y36(U.Br),i.Y36(U.Dh),i.Y36(U.IN),i.Y36(pt.sK),i.Y36(Lo.U))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-poll"]],viewQuery:function(n,r){if(1&n&&i.Gf(U.W2,5),2&n){let o;i.iGM(o=i.CRH())&&(r.content=o.first)}},decls:13,vars:8,consts:[[3,"pointerup","touchup"],[2,"padding-right","11px","padding-left","16px"],["slot","start",2,"margin-right","0px","margin-left","0px","padding-left","0px","padding-right","0px"],[2,"padding-left","0px!important","padding-right","0px!important","position","relative","left","-9px"],["style","font-weight: bold; font-size: larger; padding-left: 0px;",3,"innerHtml",4,"ngIf"],[4,"ngIf"],["slot","end"],["name","crescent","color","grey",4,"ngIf"],["class","ion-no-margin ion-no-padding","fill","clear",3,"click",4,"ngIf"],["shape","round","size","large","color","primary","class","ion-no-padding ion-no-margin",3,"click",4,"ngIf"],[3,"scrollEvents","pointerup","ionScroll",4,"ngIf"],["style","box-shadow: 0px -3px 4px #eeeeee;",4,"ngIf"],[2,"font-weight","bold","font-size","larger","padding-left","0px",3,"innerHtml"],[3,"innerHtml"],["name","cloud-offline-outline","color","grey",2,"position","relative","bottom","-1px"],["name","alert-outline","color","grey"],["name","crescent","color","grey"],["fill","clear",1,"ion-no-margin","ion-no-padding",3,"click"],["size","large","name","checkmark","color","grey","slot","icon-only"],["shape","round","size","large","color","primary",1,"ion-no-padding","ion-no-margin",3,"click"],[3,"innerHtml",4,"ngIf"],["shape","round","fill","solid","color","primary",1,"ion-no-margin","ion-no-padding",2,"position","relative","right","-4px",3,"disabled"],["src","./assets/icon/delegate-simple.svg",1,"ion-no-margin","ion-no-padding"],[3,"scrollEvents","pointerup","ionScroll"],["lines","full",1,"ion-no-margin","ion-no-padding"],[4,"ngFor","ngForOf"],["color","primary","lines","none",1,"ion-no-margin"],[1,"ion-no-padding","ion-no-margin"],["color","primary","class","ion-padding-left ion-padding-right","style","cursor: pointer; --min-height: 0!important;",3,"click",4,"ngIf"],["color","primary",1,"ion-no-margin","ion-padding-left","ion-padding-right"],[1,"ion-no-padding","ion-no-margin",2,"padding-bottom","8px","padding-top","2px"],["size","small","fill","clear","class","ion-float-right ion-no-padding ion-no-margin","style","position: relative; top: 5px; right: 10px; margin-left:20px; margin-bottom:5px!important;",3,"click",4,"ngIf"],[2,"white-space","nowrap"],["class","ion-no-margin","style","position: relative; bottom: -5.5px; font-size: 11.5px;","color","danger",3,"innerHtml",4,"ngIf"],["color","light",2,"position","relative","top","2px",3,"name"],["color","light","name","people-outline",2,"position","relative","top","2px"],[1,"externallink",3,"innerHtml","click"],["class","ion-no-margin","style","position: relative; bottom:-6px; font-size: 11.5px; padding-top:2px","color","success",3,"click",4,"ngIf"],["size","small","fill","clear",1,"ion-no-padding","ion-no-margin",2,"position","absolute","right","8.5px","bottom","8px",3,"disabled","click"],["color","light","style","cursor: pointer;",3,"click",4,"ngIf"],["color","light",4,"ngIf"],["color","warning",4,"ngIf"],["lines","none",1,"ion-no-padding","ion-no-margin",2,"--min-height","0px!important","font-weight","bold"],[2,"padding-top","8px!important","padding-left","6px","width","68px!important","color","#769596","text-align","center",3,"click"],["style","width: 100%!important","class","externallink",3,"innerHtml",4,"ngIf"],[2,"padding-left","6px!important","padding-top","8px!important","flex-grow","1","color","#769596",3,"click"],[1,"externallink",3,"innerHtml"],[3,"click"],["style","align-items:flex-start",4,"ngFor","ngForOf"],[1,"ion-no-margin","ion-no-padding"],["lines","none","color","warning",1,"ion-no-margin","ion-no-padding","item-text-wrap"],["slot","end","fill","clear","size","small",1,"ion-no-margin","ion-no-padding",3,"click"],["slot","icon-only","name","close-outline",2,"color","gray!important"],["color","primary",1,"ion-padding-left","ion-padding-right",2,"cursor","pointer","--min-height","0!important",3,"click"],[1,"ion-no-padding","ion-padding-bottom","ion-no-margin",2,"width","100%"],["name","open-outline",2,"position","relative","top","2px"],["size","small","fill","clear",1,"ion-float-right","ion-no-padding","ion-no-margin",2,"position","relative","top","5px","right","10px","margin-left","20px","margin-bottom","5px!important",3,"click"],["style","color:#88e950; white-space: normal; text-align: right; font-size: 11.5px;",3,"innerHtml",4,"ngIf"],["shape","round","color","success",1,"ion-no-padding","ion-no-margin"],["name","color-wand-outline","slot","icon-only",2,"margin","5px"],[2,"color","#88e950","white-space","normal","text-align","right","font-size","11.5px",3,"innerHtml"],["color","danger",1,"ion-no-margin",2,"position","relative","bottom","-5.5px","font-size","11.5px",3,"innerHtml"],["color","success",1,"ion-no-margin",2,"position","relative","bottom","-6px","font-size","11.5px","padding-top","2px",3,"click"],["name","bulb-outline",1,"ion-no-padding","ion-no-margin",2,"position","relative","top","1.5px"],["size","small","shape","round","color","success",1,"ion-no-border","ion-no-padding"],["slot","icon-only",2,"padding-left","4px","padding-right","5px",3,"name"],["color","danger",4,"ngIf"],["color","secondary",4,"ngIf"],["color","warning"],[2,"font-size","medium",3,"innerHtml"],[2,"cursor","pointer","white-space","nowrap",3,"click"],["name","help-circle-outline",2,"font-size","16px","position","relative","top","4px"],[3,"innerHtml","click"],["color","danger"],[1,"externallink",2,"font-size","medium",3,"innerHtml"],["name","help-circle-outline",2,"font-size","16px","position","relative","top","3px"],["color","secondary"],["color","light"],["color","light",2,"cursor","pointer",3,"click"],["size","small","color","primary",3,"name"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","5px","padding-bottom","6px","cursor","pointer",3,"click"],[1,"ion-no-margin","ion-padding-right"],["size","smaller",1,"ion-no-margin",2,"color","black","position","relative","left","-2px","top","2px",3,"name"],[1,"ion-text-right"],["outline","true",3,"routerLink",4,"ngFor","ngForOf"],["outline","true",3,"routerLink"],["name","mail-open-outline","size","small",2,"color","grey"],[1,"ion-no-padding","ion-no-margin","ion-align-items-center"],[2,"font-size","medium"],["size","auto",1,"ion-no-margin"],["fill","clear",3,"disabled","click"],["name","trash-outline",2,"color","black"],["fill","clear",3,"click"],["size","auto",1,"ion-no-padding","ion-no-margin","ion-padding-left","ion-text-right",2,"padding-bottom","3px"],["name","arrow-down-outline",2,"position","relative","top","3px"],[1,"externallink",2,"width","100%!important",3,"innerHtml"],["name","caret-down",2,"position","relative","top","2px"],[2,"align-items","flex-start"],["size","auto",1,"ion-no-padding","ion-no-margin"],[2,"width","60px!important"],["xmlns","http://www.w3.org/2000/svg","width","60px","height","60px",2,"position","absolute","bottom","0px"],["cx","21","cy","25","r","20","fill","#bce4e5","stroke","none"],["d","M 21,25 l 0,-20 a 20 20 0 0 1 0 0 Z","fill","#9abcbd",3,"id"],["x1","21","y1","48","x2","21","y2","60","stroke","#769596","stroke-width","1","stroke-dasharray","1 1"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","8px","cursor","pointer","position","relative","left","-6px","z-index","20",3,"click"],[2,"display","none"],[1,"ion-no-padding","ion-no-margin",2,"max-width","100%!important"],["size","small",1,"ion-no-margin",2,"color","black","position","relative","top","3px",3,"name"],[1,"ion-no-padding","ion-no-margin",3,"id","click","pointerdown","touchstart","touchup","pointerup"],["mode","md","pin","true","pinFormatter","(v)=>100-v","min","0","max","100","step","1","snaps","true","ticks","false",1,"ion-no-padding","ion-no-margin",3,"disabled","id","color","value","ionFocus","ionChange","ionBlur"],["slot","end",1,"ion-no-padding","ion-no-margin",2,"margin-right","12px"],[2,"position","absolute","bottom","0px","right","11px","z-index","-10","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","35px"],["x","100%","width","0%","y","8","height","18","fill","#bce4e5","stroke","none",3,"id"],["x1","100%","y1","0","x2","100%","y2","34","fill","none","stroke","#bce4e5","stroke-width","5"],["x1","0%","x2","100%","y1","17","y2","17","stroke","#b4dbdb","stroke-width","2","stroke-dasharray","2 2"],[2,"position","absolute","bottom","0px","right","11px","z-index","10","width","100%","padding-left","11px","pointer-events","none"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","45px"],["x","100%","y","15","text-anchor","end","fill","#9abcbd",2,"font-weight","bold","font-size","12px",3,"innerHtml"],[2,"position","absolute","top","-2px","right","11px","z-index","-5","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","15px"],["x1","0","y1","8","x2","50%","y2","8","fill","none","stroke","#9abcbd","stroke-width","2","stroke-dasharray","3 2",3,"id"],["cx","50%","cy","8","r","5","fill","#9abcbd","stroke","none",3,"id"],["class","ion-no-margin ion-no-padding","size","auto",4,"ngIf"],[3,"id","expanded"],[1,"ion-no-padding","ion-padding-bottom","ion-no-margin"],[2,"color","#769596"],[2,"white-space","nowrap",3,"innerHtml"],[2,"color","#4c822e",3,"innerHtml"],[2,"color","#9abcbd","white-space","nowrap"],[2,"color","#62a73b",3,"innerHtml"],["style","color:#9abcbd",4,"ngIf"],["size","auto",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding","ion-padding-bottom","ion-padding-top",2,"position","relative","top","-8px",3,"id","disabled","ngModel","ionChange","ngModelChange"],[2,"position","absolute","z-index","10","top","22px","right","1px","text-align","right"],[2,"color","#9abcbd"],["lines","none",1,"ion-no-padding",2,"padding-left","10px","padding-top","10px"],["size","small","fill","clear","color","primary",3,"click"],["name","add"],["fill","clear",1,"ion-no-padding","ion-no-margin",3,"innerHtml","click"],["lines","none",2,"padding-bottom","10px!important"],["lines","none",1,"ion-text-right"],[2,"color","grey"],["color","light",3,"ngModel","ngModelChange"],[2,"box-shadow","0px -3px 4px #eeeeee"],["fill","clear",1,"ion-float-right","ion-margin-right","ion-margin-left","ion-no-padding",2,"position","relative","right","-6px","top","3px",3,"click"],["slot","icon-only","name","close","color","primary",1,"ion-no-margin","ion-no-padding"]],template:function(n,r){1&n&&(i.TgZ(0,"ion-header",0),i.NdJ("pointerup",function(s){return r.onBodyPointerup(s)})("touchup",function(s){return r.onBodyTouchup(s)}),i.TgZ(1,"ion-toolbar",1)(2,"ion-buttons",2),i._UZ(3,"ion-menu-button",3),i.qZA(),i.YNc(4,N_,2,3,"ion-text",4),i.YNc(5,E_,3,1,"ion-text",5),i.TgZ(6,"ion-buttons",6),i.YNc(7,M_,3,0,"ng-container",5),i.YNc(8,k_,1,0,"ion-spinner",7),i.YNc(9,J_,2,0,"ion-button",8),i.YNc(10,U_,4,2,"ion-button",9),i.qZA()()(),i.YNc(11,Ip,78,50,"ion-content",10),i.YNc(12,Rp,7,3,"ion-footer",11)),2&n&&(i.xp6(4),i.Q6J("ngIf",r.scroll_position<70),i.xp6(1),i.Q6J("ngIf",r.scroll_position>=70),i.xp6(2),i.Q6J("ngIf",!r.window.navigator.onLine),i.xp6(1),i.Q6J("ngIf",!!r.p&&r.p.syncing&&r.window.navigator.onLine),i.xp6(1),i.Q6J("ngIf",!!r.p&&r.p.have_acted&&!r.p.syncing&&r.window.navigator.onLine),i.xp6(1),i.Q6J("ngIf",!!r.p&&"agreed"!=r.delegation_status&&r.p.allow_voting),i.xp6(1),i.Q6J("ngIf",r.ready&&!!r.p),i.xp6(1),i.Q6J("ngIf",r.show_glossary))},directives:[U.Gu,U.sr,U.Sm,U.fG,Y.O5,U.yW,U.gu,U.PQ,U.YG,U.W2,U.q_,Y.sg,U.PM,U.FN,U.Ie,U.Q$,U.jY,U.Nd,U.wI,U.yp,U.hM,U.YI,Ht.rH,U.pK,U.j9,U.I_,U.QI,U.ho,U.w,et.JJ,et.On,C_,U.W4,U.fr],pipes:[pt.X$],styles:['@charset "UTF-8";']}),t})();const Hp=[{path:"",component:Fo}];let zp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Ht.Bz.forChild(Hp)],Ht.Bz]}),t})();var Fp=J(4496);let Qp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Y.ez,et.u5,U.Pc,zp,Fp.m,pt.aw.forChild()]]}),t})()},309:(vn,qt,J)=>{"use strict";function Y(P,B,It){P.prototype=B.prototype=It,It.constructor=P}function et(P,B){var It=Object.create(P.prototype);for(var tn in B)It[tn]=B[tn];return It}function pt(){}J.d(qt,{ZP:()=>Mt,B8:()=>Tt});var U=.7,Ht=1/U,Et="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",I="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rt=/^#([0-9a-f]{3,8})$/,st=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),V=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),K=new RegExp("^rgba\\("+[Et,Et,Et,wt]+"\\)$"),bt=new RegExp("^rgba\\("+[I,I,I,wt]+"\\)$"),F=new RegExp("^hsl\\("+[wt,I,I]+"\\)$"),R=new RegExp("^hsla\\("+[wt,I,I,wt]+"\\)$"),X={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function G(){return this.rgb().formatHex()}function dt(){return this.rgb().formatRgb()}function Mt(P){var B,It;return P=(P+"").trim().toLowerCase(),(B=rt.exec(P))?(It=B[1].length,B=parseInt(B[1],16),6===It?lt(B):3===It?new ht(B>>8&15|B>>4&240,B>>4&15|240&B,(15&B)<<4|15&B,1):8===It?H(B>>24&255,B>>16&255,B>>8&255,(255&B)/255):4===It?H(B>>12&15|B>>8&240,B>>8&15|B>>4&240,B>>4&15|240&B,((15&B)<<4|15&B)/255):null):(B=st.exec(P))?new ht(B[1],B[2],B[3],1):(B=V.exec(P))?new ht(255*B[1]/100,255*B[2]/100,255*B[3]/100,1):(B=K.exec(P))?H(B[1],B[2],B[3],B[4]):(B=bt.exec(P))?H(255*B[1]/100,255*B[2]/100,255*B[3]/100,B[4]):(B=F.exec(P))?bn(B[1],B[2]/100,B[3]/100,1):(B=R.exec(P))?bn(B[1],B[2]/100,B[3]/100,B[4]):X.hasOwnProperty(P)?lt(X[P]):"transparent"===P?new ht(NaN,NaN,NaN,0):null}function lt(P){return new ht(P>>16&255,P>>8&255,255&P,1)}function H(P,B,It,tn){return tn<=0&&(P=B=It=NaN),new ht(P,B,It,tn)}function j(P){return P instanceof pt||(P=Mt(P)),P?new ht((P=P.rgb()).r,P.g,P.b,P.opacity):new ht}function Tt(P,B,It,tn){return 1===arguments.length?j(P):new ht(P,B,It,null==tn?1:tn)}function ht(P,B,It,tn){this.r=+P,this.g=+B,this.b=+It,this.opacity=+tn}function Xt(){return"#"+Cn(this.r)+Cn(this.g)+Cn(this.b)}function hn(){var P=this.opacity;return(1===(P=isNaN(P)?1:Math.max(0,Math.min(1,P)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===P?")":", "+P+")")}function Cn(P){return((P=Math.max(0,Math.min(255,Math.round(P)||0)))<16?"0":"")+P.toString(16)}function bn(P,B,It,tn){return tn<=0?P=B=It=NaN:It<=0||It>=1?P=B=NaN:B<=0&&(P=NaN),new fn(P,B,It,tn)}function Qn(P){if(P instanceof fn)return new fn(P.h,P.s,P.l,P.opacity);if(P instanceof pt||(P=Mt(P)),!P)return new fn;if(P instanceof fn)return P;var B=(P=P.rgb()).r/255,It=P.g/255,tn=P.b/255,Un=Math.min(B,It,tn),Mn=Math.max(B,It,tn),kn=NaN,Pn=Mn-Un,On=(Mn+Un)/2;return Pn?(kn=B===Mn?(It-tn)/Pn+6*(It<tn):It===Mn?(tn-B)/Pn+2:(B-It)/Pn+4,Pn/=On<.5?Mn+Un:2-Mn-Un,kn*=60):Pn=On>0&&On<1?0:kn,new fn(kn,Pn,On,P.opacity)}function fn(P,B,It,tn){this.h=+P,this.s=+B,this.l=+It,this.opacity=+tn}function Xn(P,B,It){return 255*(P<60?B+(It-B)*P/60:P<180?It:P<240?B+(It-B)*(240-P)/60:B)}Y(pt,Mt,{copy:function(P){return Object.assign(new this.constructor,this,P)},displayable:function(){return this.rgb().displayable()},hex:G,formatHex:G,formatHsl:function At(){return Qn(this).formatHsl()},formatRgb:dt,toString:dt}),Y(ht,Tt,et(pt,{brighter:function(P){return P=null==P?Ht:Math.pow(Ht,P),new ht(this.r*P,this.g*P,this.b*P,this.opacity)},darker:function(P){return P=null==P?U:Math.pow(U,P),new ht(this.r*P,this.g*P,this.b*P,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xt,formatHex:Xt,formatRgb:hn,toString:hn})),Y(fn,function Vn(P,B,It,tn){return 1===arguments.length?Qn(P):new fn(P,B,It,null==tn?1:tn)},et(pt,{brighter:function(P){return P=null==P?Ht:Math.pow(Ht,P),new fn(this.h,this.s,this.l*P,this.opacity)},darker:function(P){return P=null==P?U:Math.pow(U,P),new fn(this.h,this.s,this.l*P,this.opacity)},rgb:function(){var P=this.h%360+360*(this.h<0),B=isNaN(P)||isNaN(this.s)?0:this.s,It=this.l,tn=It+(It<.5?It:1-It)*B,Un=2*It-tn;return new ht(Xn(P>=240?P-240:P+120,Un,tn),Xn(P,Un,tn),Xn(P<120?P+240:P-120,Un,tn),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var P=this.opacity;return(1===(P=isNaN(P)?1:Math.max(0,Math.min(1,P)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===P?")":", "+P+")")}}))},2516:(vn,qt,J)=>{"use strict";J.d(qt,{Z:()=>wt});var Y={value:function(){}};function et(){for(var V,I=0,rt=arguments.length,st={};I<rt;++I){if(!(V=arguments[I]+"")||V in st||/[\s.]/.test(V))throw new Error("illegal type: "+V);st[V]=[]}return new pt(st)}function pt(I){this._=I}function U(I,rt){return I.trim().split(/^|\s+/).map(function(st){var V="",K=st.indexOf(".");if(K>=0&&(V=st.slice(K+1),st=st.slice(0,K)),st&&!rt.hasOwnProperty(st))throw new Error("unknown type: "+st);return{type:st,name:V}})}function Ht(I,rt){for(var K,st=0,V=I.length;st<V;++st)if((K=I[st]).name===rt)return K.value}function Et(I,rt,st){for(var V=0,K=I.length;V<K;++V)if(I[V].name===rt){I[V]=Y,I=I.slice(0,V).concat(I.slice(V+1));break}return null!=st&&I.push({name:rt,value:st}),I}pt.prototype=et.prototype={constructor:pt,on:function(I,rt){var K,st=this._,V=U(I+"",st),bt=-1,F=V.length;if(!(arguments.length<2)){if(null!=rt&&"function"!=typeof rt)throw new Error("invalid callback: "+rt);for(;++bt<F;)if(K=(I=V[bt]).type)st[K]=Et(st[K],I.name,rt);else if(null==rt)for(K in st)st[K]=Et(st[K],I.name,null);return this}for(;++bt<F;)if((K=(I=V[bt]).type)&&(K=Ht(st[K],I.name)))return K},copy:function(){var I={},rt=this._;for(var st in rt)I[st]=rt[st].slice();return new pt(I)},call:function(I,rt){if((K=arguments.length-2)>0)for(var K,bt,st=new Array(K),V=0;V<K;++V)st[V]=arguments[V+2];if(!this._.hasOwnProperty(I))throw new Error("unknown type: "+I);for(V=0,K=(bt=this._[I]).length;V<K;++V)bt[V].value.apply(rt,st)},apply:function(I,rt,st){if(!this._.hasOwnProperty(I))throw new Error("unknown type: "+I);for(var V=this._[I],K=0,bt=V.length;K<bt;++K)V[K].value.apply(rt,st)}};const wt=et},5521:(vn,qt,J)=>{"use strict";function pt(U){return((U*=2)<=1?U*U*U:(U-=2)*U*U+2)/2}J.d(qt,{tw:()=>pt})},3577:(vn,qt,J)=>{"use strict";function Y(et,pt){return et=+et,pt=+pt,function(U){return et*(1-U)+pt*U}}J.d(qt,{Z:()=>Y})},900:(vn,qt,J)=>{"use strict";J.d(qt,{ZP:()=>V});var Y=J(309);function et(R,X,G,At,dt){var Mt=R*R,lt=Mt*R;return((1-3*R+3*Mt-lt)*X+(4-6*Mt+3*lt)*G+(1+3*R+3*Mt-3*lt)*At+lt*dt)/6}function Ht(R){return function(){return R}}function st(R,X){var G=X-R;return G?function Et(R,X){return function(G){return R+G*X}}(R,G):Ht(isNaN(R)?X:R)}const V=function R(X){var G=function rt(R){return 1==(R=+R)?st:function(X,G){return G-X?function wt(R,X,G){return R=Math.pow(R,G),X=Math.pow(X,G)-R,G=1/G,function(At){return Math.pow(R+At*X,G)}}(X,G,R):Ht(isNaN(X)?G:X)}}(X);function At(dt,Mt){var lt=G((dt=(0,Y.B8)(dt)).r,(Mt=(0,Y.B8)(Mt)).r),H=G(dt.g,Mt.g),j=G(dt.b,Mt.b),Tt=st(dt.opacity,Mt.opacity);return function(ht){return dt.r=lt(ht),dt.g=H(ht),dt.b=j(ht),dt.opacity=Tt(ht),dt+""}}return At.gamma=R,At}(1);function K(R){return function(X){var lt,H,G=X.length,At=new Array(G),dt=new Array(G),Mt=new Array(G);for(lt=0;lt<G;++lt)H=(0,Y.B8)(X[lt]),At[lt]=H.r||0,dt[lt]=H.g||0,Mt[lt]=H.b||0;return At=R(At),dt=R(dt),Mt=R(Mt),H.opacity=1,function(j){return H.r=At(j),H.g=dt(j),H.b=Mt(j),H+""}}}K(function pt(R){var X=R.length-1;return function(G){var At=G<=0?G=0:G>=1?(G=1,X-1):Math.floor(G*X),dt=R[At],Mt=R[At+1];return et((G-At/X)*X,At>0?R[At-1]:2*dt-Mt,dt,Mt,At<X-1?R[At+2]:2*Mt-dt)}}),K(function U(R){var X=R.length;return function(G){var At=Math.floor(((G%=1)<0?++G:G)*X);return et((G-At/X)*X,R[(At+X-1)%X],R[At%X],R[(At+1)%X],R[(At+2)%X])}})},6008:(vn,qt,J)=>{"use strict";J.d(qt,{Z:()=>Et});var Y=J(3577),et=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pt=new RegExp(et.source,"g");function Et(wt,I){var st,V,K,rt=et.lastIndex=pt.lastIndex=0,bt=-1,F=[],R=[];for(wt+="",I+="";(st=et.exec(wt))&&(V=pt.exec(I));)(K=V.index)>rt&&(K=I.slice(rt,K),F[bt]?F[bt]+=K:F[++bt]=K),(st=st[0])===(V=V[0])?F[bt]?F[bt]+=V:F[++bt]=V:(F[++bt]=null,R.push({i:bt,x:(0,Y.Z)(st,V)})),rt=pt.lastIndex;return rt<I.length&&(K=I.slice(rt),F[bt]?F[bt]+=K:F[++bt]=K),F.length<2?R[0]?function Ht(wt){return function(I){return wt(I)+""}}(R[0].x):function U(wt){return function(){return wt}}(I):(I=R.length,function(X){for(var At,G=0;G<I;++G)F[(At=R[G]).i]=At.x(X);return F.join("")})}},1786:(vn,qt,J)=>{"use strict";J.d(qt,{Y:()=>K,w:()=>bt});var Ht,Et,wt,I,Y=J(3577),et=180/Math.PI,pt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function U(F,R,X,G,At,dt){var Mt,lt,H;return(Mt=Math.sqrt(F*F+R*R))&&(F/=Mt,R/=Mt),(H=F*X+R*G)&&(X-=F*H,G-=R*H),(lt=Math.sqrt(X*X+G*G))&&(X/=lt,G/=lt,H/=lt),F*G<R*X&&(F=-F,R=-R,H=-H,Mt=-Mt),{translateX:At,translateY:dt,rotate:Math.atan2(R,F)*et,skewX:Math.atan(H)*et,scaleX:Mt,scaleY:lt}}function V(F,R,X,G){function At(j){return j.length?j.pop()+" ":""}return function(j,Tt){var ht=[],Xt=[];return j=F(j),Tt=F(Tt),function dt(j,Tt,ht,Xt,hn,Cn){if(j!==ht||Tt!==Xt){var bn=hn.push("translate(",null,R,null,X);Cn.push({i:bn-4,x:(0,Y.Z)(j,ht)},{i:bn-2,x:(0,Y.Z)(Tt,Xt)})}else(ht||Xt)&&hn.push("translate("+ht+R+Xt+X)}(j.translateX,j.translateY,Tt.translateX,Tt.translateY,ht,Xt),function Mt(j,Tt,ht,Xt){j!==Tt?(j-Tt>180?Tt+=360:Tt-j>180&&(j+=360),Xt.push({i:ht.push(At(ht)+"rotate(",null,G)-2,x:(0,Y.Z)(j,Tt)})):Tt&&ht.push(At(ht)+"rotate("+Tt+G)}(j.rotate,Tt.rotate,ht,Xt),function lt(j,Tt,ht,Xt){j!==Tt?Xt.push({i:ht.push(At(ht)+"skewX(",null,G)-2,x:(0,Y.Z)(j,Tt)}):Tt&&ht.push(At(ht)+"skewX("+Tt+G)}(j.skewX,Tt.skewX,ht,Xt),function H(j,Tt,ht,Xt,hn,Cn){if(j!==ht||Tt!==Xt){var bn=hn.push(At(hn)+"scale(",null,",",null,")");Cn.push({i:bn-4,x:(0,Y.Z)(j,ht)},{i:bn-2,x:(0,Y.Z)(Tt,Xt)})}else(1!==ht||1!==Xt)&&hn.push(At(hn)+"scale("+ht+","+Xt+")")}(j.scaleX,j.scaleY,Tt.scaleX,Tt.scaleY,ht,Xt),j=Tt=null,function(hn){for(var Qn,Cn=-1,bn=Xt.length;++Cn<bn;)ht[(Qn=Xt[Cn]).i]=Qn.x(hn);return ht.join("")}}}var K=V(function rt(F){return"none"===F?pt:(Ht||(Ht=document.createElement("DIV"),Et=document.documentElement,wt=document.defaultView),Ht.style.transform=F,F=wt.getComputedStyle(Et.appendChild(Ht),null).getPropertyValue("transform"),Et.removeChild(Ht),U(+(F=F.slice(7,-1).split(","))[0],+F[1],+F[2],+F[3],+F[4],+F[5]))},"px, ","px)","deg)"),bt=V(function st(F){return null!=F&&(I||(I=document.createElementNS("http://www.w3.org/2000/svg","g")),I.setAttribute("transform",F),F=I.transform.baseVal.consolidate())?U((F=F.matrix).a,F.b,F.c,F.d,F.e,F.f):pt},", ",")",")")},7774:(vn,qt,J)=>{"use strict";J.d(qt,{Z:()=>Ht});var Y=J(5312),et=J(3098);function pt(Et){return function(){var wt=this.ownerDocument,I=this.namespaceURI;return I===et.P&&wt.documentElement.namespaceURI===et.P?wt.createElement(Et):wt.createElementNS(I,Et)}}function U(Et){return function(){return this.ownerDocument.createElementNS(Et.space,Et.local)}}function Ht(Et){var wt=(0,Y.Z)(Et);return(wt.local?U:pt)(wt)}},1039:(vn,qt,J)=>{"use strict";J.r(qt),J.d(qt,{clientPoint:()=>V,create:()=>U,creator:()=>Y.Z,customEvent:()=>rt._H,event:()=>rt.B,local:()=>Et,matcher:()=>I.Z,mouse:()=>K,namespace:()=>bt.Z,namespaces:()=>F.Z,select:()=>pt,selectAll:()=>R,selection:()=>et.ZP,selector:()=>X.Z,selectorAll:()=>G.Z,style:()=>At.S,touch:()=>dt,touches:()=>Mt,window:()=>lt.Z});var Y=J(7774),et=J(7970);function pt(H){return"string"==typeof H?new et.Y1([[document.querySelector(H)]],[document.documentElement]):new et.Y1([[H]],et.Jz)}function U(H){return pt((0,Y.Z)(H).call(document.documentElement))}var Ht=0;function Et(){return new wt}function wt(){this._="@"+(++Ht).toString(36)}wt.prototype=Et.prototype={constructor:wt,get:function(H){for(var j=this._;!(j in H);)if(!(H=H.parentNode))return;return H[j]},set:function(H,j){return H[this._]=j},remove:function(H){return this._ in H&&delete H[this._]},toString:function(){return this._}};var I=J(5030),rt=J(379);function st(){for(var j,H=rt.B;j=H.sourceEvent;)H=j;return H}function V(H,j){var Tt=H.ownerSVGElement||H;if(Tt.createSVGPoint){var ht=Tt.createSVGPoint();return ht.x=j.clientX,ht.y=j.clientY,[(ht=ht.matrixTransform(H.getScreenCTM().inverse())).x,ht.y]}var Xt=H.getBoundingClientRect();return[j.clientX-Xt.left-H.clientLeft,j.clientY-Xt.top-H.clientTop]}function K(H){var j=st();return j.changedTouches&&(j=j.changedTouches[0]),V(H,j)}var bt=J(5312),F=J(3098);function R(H){return"string"==typeof H?new et.Y1([document.querySelectorAll(H)],[document.documentElement]):new et.Y1([null==H?[]:H],et.Jz)}var X=J(4032),G=J(7559),At=J(8825);function dt(H,j,Tt){arguments.length<3&&(Tt=j,j=st().changedTouches);for(var hn,ht=0,Xt=j?j.length:0;ht<Xt;++ht)if((hn=j[ht]).identifier===Tt)return V(H,hn);return null}function Mt(H,j){null==j&&(j=st().touches);for(var Tt=0,ht=j?j.length:0,Xt=new Array(ht);Tt<ht;++Tt)Xt[Tt]=V(H,j[Tt]);return Xt}var lt=J(7370)},5030:(vn,qt,J)=>{"use strict";function Y(et){return function(){return this.matches(et)}}J.d(qt,{Z:()=>Y})},5312:(vn,qt,J)=>{"use strict";J.d(qt,{Z:()=>et});var Y=J(3098);function et(pt){var U=pt+="",Ht=U.indexOf(":");return Ht>=0&&"xmlns"!==(U=pt.slice(0,Ht))&&(pt=pt.slice(Ht+1)),Y.Z.hasOwnProperty(U)?{space:Y.Z[U],local:pt}:pt}},3098:(vn,qt,J)=>{"use strict";J.d(qt,{P:()=>Y,Z:()=>et});var Y="http://www.w3.org/1999/xhtml";const et={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},7970:(vn,qt,J)=>{"use strict";J.d(qt,{Y1:()=>mn,ZP:()=>Dn,Jz:()=>an});var Y=J(4032),pt=J(7559),Ht=J(5030);function wt(g){return new Array(g.length)}function rt(g,N){this.ownerDocument=g.ownerDocument,this.namespaceURI=g.namespaceURI,this._next=null,this._parent=g,this.__data__=N}function K(g,N,ct,Zt,k,_t){for(var vt,Ut=0,Bt=N.length,Ot=_t.length;Ut<Ot;++Ut)(vt=N[Ut])?(vt.__data__=_t[Ut],Zt[Ut]=vt):ct[Ut]=new rt(g,_t[Ut]);for(;Ut<Bt;++Ut)(vt=N[Ut])&&(k[Ut]=vt)}function bt(g,N,ct,Zt,k,_t,Ut){var vt,Bt,yn,Ot={},ln=N.length,qn=_t.length,Hn=new Array(ln);for(vt=0;vt<ln;++vt)(Bt=N[vt])&&(Hn[vt]=yn="$"+Ut.call(Bt,Bt.__data__,vt,N),yn in Ot?k[vt]=Bt:Ot[yn]=Bt);for(vt=0;vt<qn;++vt)(Bt=Ot[yn="$"+Ut.call(g,_t[vt],vt,_t)])?(Zt[vt]=Bt,Bt.__data__=_t[vt],Ot[yn]=null):ct[vt]=new rt(g,_t[vt]);for(vt=0;vt<ln;++vt)(Bt=N[vt])&&Ot[Hn[vt]]===Bt&&(k[vt]=Bt)}function Mt(g,N){return g<N?-1:g>N?1:g>=N?0:NaN}rt.prototype={constructor:rt,appendChild:function(g){return this._parent.insertBefore(g,this._next)},insertBefore:function(g,N){return this._parent.insertBefore(g,N)},querySelector:function(g){return this._parent.querySelector(g)},querySelectorAll:function(g){return this._parent.querySelectorAll(g)}};var hn=J(5312);function Cn(g){return function(){this.removeAttribute(g)}}function bn(g){return function(){this.removeAttributeNS(g.space,g.local)}}function Qn(g,N){return function(){this.setAttribute(g,N)}}function Vn(g,N){return function(){this.setAttributeNS(g.space,g.local,N)}}function fn(g,N){return function(){var ct=N.apply(this,arguments);null==ct?this.removeAttribute(g):this.setAttribute(g,ct)}}function Xn(g,N){return function(){var ct=N.apply(this,arguments);null==ct?this.removeAttributeNS(g.space,g.local):this.setAttributeNS(g.space,g.local,ct)}}var B=J(8825);function It(g){return function(){delete this[g]}}function tn(g,N){return function(){this[g]=N}}function Un(g,N){return function(){var ct=N.apply(this,arguments);null==ct?delete this[g]:this[g]=ct}}function kn(g){return g.trim().split(/^|\s+/)}function Pn(g){return g.classList||new On(g)}function On(g){this._node=g,this._names=kn(g.getAttribute("class")||"")}function ae(g,N){for(var ct=Pn(g),Zt=-1,k=N.length;++Zt<k;)ct.add(N[Zt])}function ge(g,N){for(var ct=Pn(g),Zt=-1,k=N.length;++Zt<k;)ct.remove(N[Zt])}function me(g){return function(){ae(this,g)}}function ye(g){return function(){ge(this,g)}}function le(g,N){return function(){(N.apply(this,arguments)?ae:ge)(this,g)}}function p(){this.textContent=""}function m(g){return function(){this.textContent=g}}function _(g){return function(){var N=g.apply(this,arguments);this.textContent=null==N?"":N}}function w(){this.innerHTML=""}function C(g){return function(){this.innerHTML=g}}function E(g){return function(){var N=g.apply(this,arguments);this.innerHTML=null==N?"":N}}function D(){this.nextSibling&&this.parentNode.appendChild(this)}function $(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}On.prototype={add:function(g){this._names.indexOf(g)<0&&(this._names.push(g),this._node.setAttribute("class",this._names.join(" ")))},remove:function(g){var N=this._names.indexOf(g);N>=0&&(this._names.splice(N,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(g){return this._names.indexOf(g)>=0}};var gt=J(7774);function it(){return null}function ut(){var g=this.parentNode;g&&g.removeChild(this)}function jt(){var g=this.cloneNode(!1),N=this.parentNode;return N?N.insertBefore(g,this.nextSibling):g}function Qt(){var g=this.cloneNode(!0),N=this.parentNode;return N?N.insertBefore(g,this.nextSibling):g}var dn=J(379),gn=J(7370);function Nn(g,N,ct){var Zt=(0,gn.Z)(g),k=Zt.CustomEvent;"function"==typeof k?k=new k(N,ct):(k=Zt.document.createEvent("Event"),ct?(k.initEvent(N,ct.bubbles,ct.cancelable),k.detail=ct.detail):k.initEvent(N,!1,!1)),g.dispatchEvent(k)}function En(g,N){return function(){return Nn(this,g,N)}}function Jn(g,N){return function(){return Nn(this,g,N.apply(this,arguments))}}var an=[null];function mn(g,N){this._groups=g,this._parents=N}function $n(){return new mn([[document.documentElement]],an)}mn.prototype=$n.prototype={constructor:mn,select:function et(g){"function"!=typeof g&&(g=(0,Y.Z)(g));for(var N=this._groups,ct=N.length,Zt=new Array(ct),k=0;k<ct;++k)for(var Bt,Ot,_t=N[k],Ut=_t.length,vt=Zt[k]=new Array(Ut),ln=0;ln<Ut;++ln)(Bt=_t[ln])&&(Ot=g.call(Bt,Bt.__data__,ln,_t))&&("__data__"in Bt&&(Ot.__data__=Bt.__data__),vt[ln]=Ot);return new mn(Zt,this._parents)},selectAll:function U(g){"function"!=typeof g&&(g=(0,pt.Z)(g));for(var N=this._groups,ct=N.length,Zt=[],k=[],_t=0;_t<ct;++_t)for(var Bt,Ut=N[_t],vt=Ut.length,Ot=0;Ot<vt;++Ot)(Bt=Ut[Ot])&&(Zt.push(g.call(Bt,Bt.__data__,Ot,Ut)),k.push(Bt));return new mn(Zt,k)},filter:function Et(g){"function"!=typeof g&&(g=(0,Ht.Z)(g));for(var N=this._groups,ct=N.length,Zt=new Array(ct),k=0;k<ct;++k)for(var Bt,_t=N[k],Ut=_t.length,vt=Zt[k]=[],Ot=0;Ot<Ut;++Ot)(Bt=_t[Ot])&&g.call(Bt,Bt.__data__,Ot,_t)&&vt.push(Bt);return new mn(Zt,this._parents)},data:function F(g,N){if(!g)return yn=new Array(this.size()),Ot=-1,this.each(function(kt){yn[++Ot]=kt}),yn;var ct=N?bt:K,Zt=this._parents,k=this._groups;"function"!=typeof g&&(g=function st(g){return function(){return g}}(g));for(var _t=k.length,Ut=new Array(_t),vt=new Array(_t),Bt=new Array(_t),Ot=0;Ot<_t;++Ot){var ln=Zt[Ot],qn=k[Ot],Hn=qn.length,yn=g.call(ln,ln&&ln.__data__,Ot,Zt),d=yn.length,y=vt[Ot]=new Array(d),v=Ut[Ot]=new Array(d);ct(ln,qn,y,v,Bt[Ot]=new Array(Hn),yn,N);for(var W,Ct,q=0,tt=0;q<d;++q)if(W=y[q]){for(q>=tt&&(tt=q+1);!(Ct=v[tt])&&++tt<d;);W._next=Ct||null}}return(Ut=new mn(Ut,Zt))._enter=vt,Ut._exit=Bt,Ut},enter:function I(){return new mn(this._enter||this._groups.map(wt),this._parents)},exit:function R(){return new mn(this._exit||this._groups.map(wt),this._parents)},join:function X(g,N,ct){var Zt=this.enter(),k=this,_t=this.exit();return Zt="function"==typeof g?g(Zt):Zt.append(g+""),null!=N&&(k=N(k)),null==ct?_t.remove():ct(_t),Zt&&k?Zt.merge(k).order():k},merge:function G(g){for(var N=this._groups,ct=g._groups,Zt=N.length,_t=Math.min(Zt,ct.length),Ut=new Array(Zt),vt=0;vt<_t;++vt)for(var Hn,Bt=N[vt],Ot=ct[vt],ln=Bt.length,qn=Ut[vt]=new Array(ln),yn=0;yn<ln;++yn)(Hn=Bt[yn]||Ot[yn])&&(qn[yn]=Hn);for(;vt<Zt;++vt)Ut[vt]=N[vt];return new mn(Ut,this._parents)},order:function At(){for(var g=this._groups,N=-1,ct=g.length;++N<ct;)for(var Ut,Zt=g[N],k=Zt.length-1,_t=Zt[k];--k>=0;)(Ut=Zt[k])&&(_t&&4^Ut.compareDocumentPosition(_t)&&_t.parentNode.insertBefore(Ut,_t),_t=Ut);return this},sort:function dt(g){function N(qn,Hn){return qn&&Hn?g(qn.__data__,Hn.__data__):!qn-!Hn}g||(g=Mt);for(var ct=this._groups,Zt=ct.length,k=new Array(Zt),_t=0;_t<Zt;++_t){for(var Ot,Ut=ct[_t],vt=Ut.length,Bt=k[_t]=new Array(vt),ln=0;ln<vt;++ln)(Ot=Ut[ln])&&(Bt[ln]=Ot);Bt.sort(N)}return new mn(k,this._parents).order()},call:function lt(){var g=arguments[0];return arguments[0]=this,g.apply(null,arguments),this},nodes:function H(){var g=new Array(this.size()),N=-1;return this.each(function(){g[++N]=this}),g},node:function j(){for(var g=this._groups,N=0,ct=g.length;N<ct;++N)for(var Zt=g[N],k=0,_t=Zt.length;k<_t;++k){var Ut=Zt[k];if(Ut)return Ut}return null},size:function Tt(){var g=0;return this.each(function(){++g}),g},empty:function ht(){return!this.node()},each:function Xt(g){for(var N=this._groups,ct=0,Zt=N.length;ct<Zt;++ct)for(var vt,k=N[ct],_t=0,Ut=k.length;_t<Ut;++_t)(vt=k[_t])&&g.call(vt,vt.__data__,_t,k);return this},attr:function P(g,N){var ct=(0,hn.Z)(g);if(arguments.length<2){var Zt=this.node();return ct.local?Zt.getAttributeNS(ct.space,ct.local):Zt.getAttribute(ct)}return this.each((null==N?ct.local?bn:Cn:"function"==typeof N?ct.local?Xn:fn:ct.local?Vn:Qn)(ct,N))},style:B.Z,property:function Mn(g,N){return arguments.length>1?this.each((null==N?It:"function"==typeof N?Un:tn)(g,N)):this.node()[g]},classed:function h(g,N){var ct=kn(g+"");if(arguments.length<2){for(var Zt=Pn(this.node()),k=-1,_t=ct.length;++k<_t;)if(!Zt.contains(ct[k]))return!1;return!0}return this.each(("function"==typeof N?le:N?me:ye)(ct,N))},text:function x(g){return arguments.length?this.each(null==g?p:("function"==typeof g?_:m)(g)):this.node().textContent},html:function S(g){return arguments.length?this.each(null==g?w:("function"==typeof g?E:C)(g)):this.node().innerHTML},raise:function O(){return this.each(D)},lower:function ft(){return this.each($)},append:function nt(g){var N="function"==typeof g?g:(0,gt.Z)(g);return this.select(function(){return this.appendChild(N.apply(this,arguments))})},insert:function Pt(g,N){var ct="function"==typeof g?g:(0,gt.Z)(g),Zt=null==N?it:"function"==typeof N?N:(0,Y.Z)(N);return this.select(function(){return this.insertBefore(ct.apply(this,arguments),Zt.apply(this,arguments)||null)})},remove:function Ft(){return this.each(ut)},clone:function Dt(g){return this.select(g?Qt:jt)},datum:function rn(g){return arguments.length?this.property("__data__",g):this.node().__data__},on:dn.ZP,dispatch:function _n(g,N){return this.each(("function"==typeof N?Jn:En)(g,N))}};const Dn=$n},379:(vn,qt,J)=>{"use strict";J.d(qt,{B:()=>et,ZP:()=>rt,_H:()=>st});var Y={},et=null;function U(V,K,bt){return V=Ht(V,K,bt),function(F){var R=F.relatedTarget;(!R||R!==this&&!(8&R.compareDocumentPosition(this)))&&V.call(this,F)}}function Ht(V,K,bt){return function(F){var R=et;et=F;try{V.call(this,this.__data__,K,bt)}finally{et=R}}}function Et(V){return V.trim().split(/^|\s+/).map(function(K){var bt="",F=K.indexOf(".");return F>=0&&(bt=K.slice(F+1),K=K.slice(0,F)),{type:K,name:bt}})}function wt(V){return function(){var K=this.__on;if(K){for(var X,bt=0,F=-1,R=K.length;bt<R;++bt)X=K[bt],V.type&&X.type!==V.type||X.name!==V.name?K[++F]=X:this.removeEventListener(X.type,X.listener,X.capture);++F?K.length=F:delete this.__on}}}function I(V,K,bt){var F=Y.hasOwnProperty(V.type)?U:Ht;return function(R,X,G){var dt,At=this.__on,Mt=F(K,X,G);if(At)for(var lt=0,H=At.length;lt<H;++lt)if((dt=At[lt]).type===V.type&&dt.name===V.name)return this.removeEventListener(dt.type,dt.listener,dt.capture),this.addEventListener(dt.type,dt.listener=Mt,dt.capture=bt),void(dt.value=K);this.addEventListener(V.type,Mt,bt),dt={type:V.type,name:V.name,value:K,listener:Mt,capture:bt},At?At.push(dt):this.__on=[dt]}}function rt(V,K,bt){var R,G,F=Et(V+""),X=F.length;if(!(arguments.length<2)){for(At=K?I:wt,null==bt&&(bt=!1),R=0;R<X;++R)this.each(At(F[R],K,bt));return this}var At=this.node().__on;if(At)for(var lt,dt=0,Mt=At.length;dt<Mt;++dt)for(R=0,lt=At[dt];R<X;++R)if((G=F[R]).type===lt.type&&G.name===lt.name)return lt.value}function st(V,K,bt,F){var R=et;V.sourceEvent=et,et=V;try{return K.apply(bt,F)}finally{et=R}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Y={mouseenter:"mouseover",mouseleave:"mouseout"}))},8825:(vn,qt,J)=>{"use strict";J.d(qt,{S:()=>Et,Z:()=>Ht});var Y=J(7370);function et(wt){return function(){this.style.removeProperty(wt)}}function pt(wt,I,rt){return function(){this.style.setProperty(wt,I,rt)}}function U(wt,I,rt){return function(){var st=I.apply(this,arguments);null==st?this.style.removeProperty(wt):this.style.setProperty(wt,st,rt)}}function Ht(wt,I,rt){return arguments.length>1?this.each((null==I?et:"function"==typeof I?U:pt)(wt,I,null==rt?"":rt)):Et(this.node(),wt)}function Et(wt,I){return wt.style.getPropertyValue(I)||(0,Y.Z)(wt).getComputedStyle(wt,null).getPropertyValue(I)}},4032:(vn,qt,J)=>{"use strict";function Y(){}function et(pt){return null==pt?Y:function(){return this.querySelector(pt)}}J.d(qt,{Z:()=>et})},7559:(vn,qt,J)=>{"use strict";function Y(){return[]}function et(pt){return null==pt?Y:function(){return this.querySelectorAll(pt)}}J.d(qt,{Z:()=>et})},7370:(vn,qt,J)=>{"use strict";function Y(et){return et.ownerDocument&&et.ownerDocument.defaultView||et.document&&et||et.defaultView}J.d(qt,{Z:()=>Y})},3169:(vn,qt,J)=>{"use strict";J.d(qt,{Z:()=>et});var Y=J(5422);function et(pt,U,Ht){var Et=new Y.B7;return Et.restart(function(wt){Et.stop(),pt(wt+U)},U=null==U?0:+U,Ht),Et}},5422:(vn,qt,J)=>{"use strict";J.d(qt,{B7:()=>F,HT:()=>R,zO:()=>K});var Ht,Et,Y=0,et=0,pt=0,wt=0,I=0,rt=0,st="object"==typeof performance&&performance.now?performance:Date,V="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(lt){setTimeout(lt,17)};function K(){return I||(V(bt),I=st.now()+rt)}function bt(){I=0}function F(){this._call=this._time=this._next=null}function R(lt,H,j){var Tt=new F;return Tt.restart(lt,H,j),Tt}function G(){I=(wt=st.now())+rt,Y=et=0;try{!function X(){K(),++Y;for(var H,lt=Ht;lt;)(H=I-lt._time)>=0&&lt._call.call(null,H),lt=lt._next;--Y}()}finally{Y=0,function dt(){for(var lt,j,H=Ht,Tt=1/0;H;)H._call?(Tt>H._time&&(Tt=H._time),lt=H,H=H._next):(j=H._next,H._next=null,H=lt?lt._next=j:Ht=j);Et=lt,Mt(Tt)}(),I=0}}function At(){var lt=st.now(),H=lt-wt;H>1e3&&(rt-=H,wt=lt)}function Mt(lt){Y||(et&&(et=clearTimeout(et)),lt-I>24?(lt<1/0&&(et=setTimeout(G,lt-st.now()-rt)),pt&&(pt=clearInterval(pt))):(pt||(wt=st.now(),pt=setInterval(At,1e3)),Y=1,V(G)))}F.prototype=R.prototype={constructor:F,restart:function(lt,H,j){if("function"!=typeof lt)throw new TypeError("callback is not a function");j=(null==j?K():+j)+(null==H?0:+H),!this._next&&Et!==this&&(Et?Et._next=this:Ht=this,Et=this),this._call=lt,this._time=j,Mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mt())}}},2995:(vn,qt,J)=>{"use strict";J.r(qt),J.d(qt,{active:()=>yn,interrupt:()=>dt,transition:()=>_t});var Y=J(7970),et=J(2516),pt=J(5422),U=J(3169),Ht=(0,et.Z)("start","end","cancel","interrupt"),Et=[];function F(d,y,v,M,q,tt){var W=d.__transition;if(W){if(v in W)return}else d.__transition={};!function At(d,y,v){var q,M=d.__transition;function W(Vt){var $t,Tn,xn,sn;if(1!==v.state)return kt();for($t in M)if((sn=M[$t]).name===v.name){if(3===sn.state)return(0,U.Z)(W);4===sn.state?(sn.state=6,sn.timer.stop(),sn.on.call("interrupt",d,d.__data__,sn.index,sn.group),delete M[$t]):+$t<y&&(sn.state=6,sn.timer.stop(),sn.on.call("cancel",d,d.__data__,sn.index,sn.group),delete M[$t])}if((0,U.Z)(function(){3===v.state&&(v.state=4,v.timer.restart(Ct,v.delay,v.time),Ct(Vt))}),v.state=2,v.on.call("start",d,d.__data__,v.index,v.group),2===v.state){for(v.state=3,q=new Array(xn=v.tween.length),$t=0,Tn=-1;$t<xn;++$t)(sn=v.tween[$t].value.call(d,d.__data__,v.index,v.group))&&(q[++Tn]=sn);q.length=Tn+1}}function Ct(Vt){for(var $t=Vt<v.duration?v.ease.call(null,Vt/v.duration):(v.timer.restart(kt),v.state=5,1),Tn=-1,xn=q.length;++Tn<xn;)q[Tn].call(d,$t);5===v.state&&(v.on.call("end",d,d.__data__,v.index,v.group),kt())}function kt(){for(var Vt in v.state=6,v.timer.stop(),delete M[y],M)return;delete d.__transition}M[y]=v,v.timer=(0,pt.HT)(function tt(Vt){v.state=1,v.timer.restart(W,v.delay,v.time),v.delay<=Vt&&W(Vt-v.delay)},0,v.time)}(d,v,{name:y,index:M,group:q,on:Ht,tween:Et,time:tt.time,delay:tt.delay,duration:tt.duration,ease:tt.ease,timer:null,state:0})}function R(d,y){var v=G(d,y);if(v.state>0)throw new Error("too late; already scheduled");return v}function X(d,y){var v=G(d,y);if(v.state>3)throw new Error("too late; already running");return v}function G(d,y){var v=d.__transition;if(!v||!(v=v[y]))throw new Error("transition not found");return v}function dt(d,y){var M,q,W,v=d.__transition,tt=!0;if(v){for(W in y=null==y?null:y+"",v)(M=v[W]).name===y?(q=M.state>2&&M.state<5,M.state=6,M.timer.stop(),M.on.call(q?"interrupt":"cancel",d,d.__data__,M.index,M.group),delete v[W]):tt=!1;tt&&delete d.__transition}}var lt=J(1786),H=J(5312);function j(d,y){var v,M;return function(){var q=X(this,d),tt=q.tween;if(tt!==v)for(var W=0,Ct=(M=v=tt).length;W<Ct;++W)if(M[W].name===y){(M=M.slice()).splice(W,1);break}q.tween=M}}function Tt(d,y,v){var M,q;if("function"!=typeof v)throw new Error;return function(){var tt=X(this,d),W=tt.tween;if(W!==M){q=(M=W).slice();for(var Ct={name:y,value:v},kt=0,Vt=q.length;kt<Vt;++kt)if(q[kt].name===y){q[kt]=Ct;break}kt===Vt&&q.push(Ct)}tt.tween=q}}function Xt(d,y,v){var M=d._id;return d.each(function(){var q=X(this,M);(q.value||(q.value={}))[y]=v.apply(this,arguments)}),function(q){return G(q,M).value[y]}}var hn=J(309),Cn=J(3577),bn=J(900),Qn=J(6008);function Vn(d,y){var v;return("number"==typeof y?Cn.Z:y instanceof hn.ZP?bn.ZP:(v=(0,hn.ZP)(y))?(y=v,bn.ZP):Qn.Z)(d,y)}function fn(d){return function(){this.removeAttribute(d)}}function Xn(d){return function(){this.removeAttributeNS(d.space,d.local)}}function P(d,y,v){var M,tt,q=v+"";return function(){var W=this.getAttribute(d);return W===q?null:W===M?tt:tt=y(M=W,v)}}function B(d,y,v){var M,tt,q=v+"";return function(){var W=this.getAttributeNS(d.space,d.local);return W===q?null:W===M?tt:tt=y(M=W,v)}}function It(d,y,v){var M,q,tt;return function(){var W,kt,Ct=v(this);return null==Ct?void this.removeAttribute(d):(W=this.getAttribute(d))===(kt=Ct+"")?null:W===M&&kt===q?tt:(q=kt,tt=y(M=W,Ct))}}function tn(d,y,v){var M,q,tt;return function(){var W,kt,Ct=v(this);return null==Ct?void this.removeAttributeNS(d.space,d.local):(W=this.getAttributeNS(d.space,d.local))===(kt=Ct+"")?null:W===M&&kt===q?tt:(q=kt,tt=y(M=W,Ct))}}function Mn(d,y){return function(v){this.setAttribute(d,y.call(this,v))}}function kn(d,y){return function(v){this.setAttributeNS(d.space,d.local,y.call(this,v))}}function Pn(d,y){var v,M;function q(){var tt=y.apply(this,arguments);return tt!==M&&(v=(M=tt)&&kn(d,tt)),v}return q._value=y,q}function On(d,y){var v,M;function q(){var tt=y.apply(this,arguments);return tt!==M&&(v=(M=tt)&&Mn(d,tt)),v}return q._value=y,q}function ge(d,y){return function(){R(this,d).delay=+y.apply(this,arguments)}}function me(d,y){return y=+y,function(){R(this,d).delay=y}}function le(d,y){return function(){X(this,d).duration=+y.apply(this,arguments)}}function h(d,y){return y=+y,function(){X(this,d).duration=y}}function m(d,y){if("function"!=typeof y)throw new Error;return function(){X(this,d).ease=y}}var x=J(5030);function S(d,y,v){var M,q,tt=function E(d){return(d+"").trim().split(/^|\s+/).every(function(y){var v=y.indexOf(".");return v>=0&&(y=y.slice(0,v)),!y||"start"===y})}(y)?R:X;return function(){var W=tt(this,d),Ct=W.on;Ct!==M&&(q=(M=Ct).copy()).on(y,v),W.on=q}}var ft=J(4032),nt=J(7559),Pt=Y.ZP.prototype.constructor,Ft=J(8825);function Qt(d){return function(){this.style.removeProperty(d)}}function Nn(d,y,v){return function(M){this.style.setProperty(d,y.call(this,M),v)}}function En(d,y,v){var M,q;function tt(){var W=y.apply(this,arguments);return W!==q&&(M=(q=W)&&Nn(d,W,v)),M}return tt._value=y,tt}function $n(d){return function(y){this.textContent=d.call(this,y)}}function Dn(d){var y,v;function M(){var q=d.apply(this,arguments);return q!==v&&(y=(v=q)&&$n(q)),y}return M._value=d,M}var Zt=0;function k(d,y,v,M){this._groups=d,this._parents=y,this._name=v,this._id=M}function _t(d){return(0,Y.ZP)().transition(d)}function Ut(){return++Zt}var vt=Y.ZP.prototype;k.prototype=_t.prototype={constructor:k,select:function gt(d){var y=this._name,v=this._id;"function"!=typeof d&&(d=(0,ft.Z)(d));for(var M=this._groups,q=M.length,tt=new Array(q),W=0;W<q;++W)for(var $t,Tn,Ct=M[W],kt=Ct.length,Vt=tt[W]=new Array(kt),xn=0;xn<kt;++xn)($t=Ct[xn])&&(Tn=d.call($t,$t.__data__,xn,Ct))&&("__data__"in $t&&(Tn.__data__=$t.__data__),Vt[xn]=Tn,F(Vt[xn],y,v,xn,Vt,G($t,v)));return new k(tt,this._parents,y,v)},selectAll:function it(d){var y=this._name,v=this._id;"function"!=typeof d&&(d=(0,nt.Z)(d));for(var M=this._groups,q=M.length,tt=[],W=[],Ct=0;Ct<q;++Ct)for(var $t,kt=M[Ct],Vt=kt.length,Tn=0;Tn<Vt;++Tn)if($t=kt[Tn]){for(var sn,xn=d.call($t,$t.__data__,Tn,kt),Xe=G($t,v),Te=0,Ni=xn.length;Te<Ni;++Te)(sn=xn[Te])&&F(sn,y,v,Te,xn,Xe);tt.push(xn),W.push($t)}return new k(tt,W,y,v)},filter:function w(d){"function"!=typeof d&&(d=(0,x.Z)(d));for(var y=this._groups,v=y.length,M=new Array(v),q=0;q<v;++q)for(var kt,tt=y[q],W=tt.length,Ct=M[q]=[],Vt=0;Vt<W;++Vt)(kt=tt[Vt])&&d.call(kt,kt.__data__,Vt,tt)&&Ct.push(kt);return new k(M,this._parents,this._name,this._id)},merge:function C(d){if(d._id!==this._id)throw new Error;for(var y=this._groups,v=d._groups,M=y.length,tt=Math.min(M,v.length),W=new Array(M),Ct=0;Ct<tt;++Ct)for(var xn,kt=y[Ct],Vt=v[Ct],$t=kt.length,Tn=W[Ct]=new Array($t),sn=0;sn<$t;++sn)(xn=kt[sn]||Vt[sn])&&(Tn[sn]=xn);for(;Ct<M;++Ct)W[Ct]=y[Ct];return new k(W,this._parents,this._name,this._id)},selection:function ut(){return new Pt(this._groups,this._parents)},transition:function N(){for(var d=this._name,y=this._id,v=Ut(),M=this._groups,q=M.length,tt=0;tt<q;++tt)for(var kt,W=M[tt],Ct=W.length,Vt=0;Vt<Ct;++Vt)if(kt=W[Vt]){var $t=G(kt,y);F(kt,d,v,Vt,W,{time:$t.time+$t.delay+$t.duration,delay:0,duration:$t.duration,ease:$t.ease})}return new k(M,this._parents,d,v)},call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:function D(d,y){var v=this._id;return arguments.length<2?G(this.node(),v).on.on(d):this.each(S(v,d,y))},attr:function Un(d,y){var v=(0,H.Z)(d),M="transform"===v?lt.w:Vn;return this.attrTween(d,"function"==typeof y?(v.local?tn:It)(v,M,Xt(this,"attr."+d,y)):null==y?(v.local?Xn:fn)(v):(v.local?B:P)(v,M,y))},attrTween:function ae(d,y){var v="attr."+d;if(arguments.length<2)return(v=this.tween(v))&&v._value;if(null==y)return this.tween(v,null);if("function"!=typeof y)throw new Error;var M=(0,H.Z)(d);return this.tween(v,(M.local?Pn:On)(M,y))},style:function gn(d,y,v){var M="transform"==(d+="")?lt.Y:Vn;return null==y?this.styleTween(d,function jt(d,y){var v,M,q;return function(){var tt=(0,Ft.S)(this,d),W=(this.style.removeProperty(d),(0,Ft.S)(this,d));return tt===W?null:tt===v&&W===M?q:q=y(v=tt,M=W)}}(d,M)).on("end.style."+d,Qt(d)):"function"==typeof y?this.styleTween(d,function rn(d,y,v){var M,q,tt;return function(){var W=(0,Ft.S)(this,d),Ct=v(this),kt=Ct+"";return null==Ct&&(this.style.removeProperty(d),kt=Ct=(0,Ft.S)(this,d)),W===kt?null:W===M&&kt===q?tt:(q=kt,tt=y(M=W,Ct))}}(d,M,Xt(this,"style."+d,y))).each(function dn(d,y){var v,M,q,Ct,tt="style."+y,W="end."+tt;return function(){var kt=X(this,d),Vt=kt.on,$t=null==kt.value[tt]?Ct||(Ct=Qt(y)):void 0;(Vt!==v||q!==$t)&&(M=(v=Vt).copy()).on(W,q=$t),kt.on=M}}(this._id,d)):this.styleTween(d,function Dt(d,y,v){var M,tt,q=v+"";return function(){var W=(0,Ft.S)(this,d);return W===q?null:W===M?tt:tt=y(M=W,v)}}(d,M,y),v).on("end.style."+d,null)},styleTween:function Jn(d,y,v){var M="style."+(d+="");if(arguments.length<2)return(M=this.tween(M))&&M._value;if(null==y)return this.tween(M,null);if("function"!=typeof y)throw new Error;return this.tween(M,En(d,y,null==v?"":v))},text:function mn(d){return this.tween("text","function"==typeof d?function an(d){return function(){var y=d(this);this.textContent=null==y?"":y}}(Xt(this,"text",d)):function _n(d){return function(){this.textContent=d}}(null==d?"":d+""))},textTween:function g(d){var y="text";if(arguments.length<1)return(y=this.tween(y))&&y._value;if(null==d)return this.tween(y,null);if("function"!=typeof d)throw new Error;return this.tween(y,Dn(d))},remove:function $(){return this.on("end.remove",function O(d){return function(){var y=this.parentNode;for(var v in this.__transition)if(+v!==d)return;y&&y.removeChild(this)}}(this._id))},tween:function ht(d,y){var v=this._id;if(d+="",arguments.length<2){for(var W,M=G(this.node(),v).tween,q=0,tt=M.length;q<tt;++q)if((W=M[q]).name===d)return W.value;return null}return this.each((null==y?j:Tt)(v,d,y))},delay:function ye(d){var y=this._id;return arguments.length?this.each(("function"==typeof d?ge:me)(y,d)):G(this.node(),y).delay},duration:function p(d){var y=this._id;return arguments.length?this.each(("function"==typeof d?le:h)(y,d)):G(this.node(),y).duration},ease:function _(d){var y=this._id;return arguments.length?this.each(m(y,d)):G(this.node(),y).ease},end:function ct(){var d,y,v=this,M=v._id,q=v.size();return new Promise(function(tt,W){var Ct={value:W},kt={value:function(){0==--q&&tt()}};v.each(function(){var Vt=X(this,M),$t=Vt.on;$t!==d&&((y=(d=$t).copy())._.cancel.push(Ct),y._.interrupt.push(Ct),y._.end.push(kt)),Vt.on=y})})}};var Ot={time:null,delay:0,duration:250,ease:J(5521).tw};function ln(d,y){for(var v;!(v=d.__transition)||!(v=v[y]);)if(!(d=d.parentNode))return Ot.time=(0,pt.zO)(),Ot;return v}Y.ZP.prototype.interrupt=function Mt(d){return this.each(function(){dt(this,d)})},Y.ZP.prototype.transition=function qn(d){var y,v;d instanceof k?(y=d._id,d=d._name):(y=Ut(),(v=Ot).time=(0,pt.zO)(),d=null==d?null:d+"");for(var M=this._groups,q=M.length,tt=0;tt<q;++tt)for(var kt,W=M[tt],Ct=W.length,Vt=0;Vt<Ct;++Vt)(kt=W[Vt])&&F(kt,d,y,Vt,W,v||ln(kt,y));return new k(M,this._parents,d,y)};var Hn=[null];function yn(d,y){var M,q,v=d.__transition;if(v)for(q in y=null==y?null:y+"",v)if((M=v[q]).state>1&&M.name===y)return new k([[d]],Hn,y,+q);return null}},9089:function(vn,qt,J){!function(Y,et,pt){"use strict";var U=1e-10;function Ht(h,p){var E,m=function wt(h){for(var p=[],m=0;m<h.length;++m)for(var _=m+1;_<h.length;++_)for(var x=V(h[m],h[_]),w=0;w<x.length;++w){var C=x[w];C.parentIndex=[m,_],p.push(C)}return p}(h),_=m.filter(function(dn){return function Et(h,p){for(var m=0;m<p.length;++m)if(rt(h,p[m])>p[m].radius+U)return!1;return!0}(dn,h)}),x=0,w=0,C=[];if(_.length>1){var S=K(_);for(E=0;E<_.length;++E){var D=_[E];D.angle=Math.atan2(D.x-S.x,D.y-S.y)}_.sort(function(dn,gn){return gn.angle-dn.angle});var O=_[_.length-1];for(E=0;E<_.length;++E){var $=_[E];w+=(O.x+$.x)*($.y-O.y);for(var ft={x:($.x+O.x)/2,y:($.y+O.y)/2},gt=null,nt=0;nt<$.parentIndex.length;++nt)if(O.parentIndex.indexOf($.parentIndex[nt])>-1){var it=h[$.parentIndex[nt]],Pt=Math.atan2($.x-it.x,$.y-it.y),ut=Math.atan2(O.x-it.x,O.y-it.y),Ft=ut-Pt;Ft<0&&(Ft+=2*Math.PI);var jt=ut-Ft/2,Qt=rt(ft,{x:it.x+it.radius*Math.sin(jt),y:it.y+it.radius*Math.cos(jt)});Qt>2*it.radius&&(Qt=2*it.radius),(null===gt||gt.width>Qt)&&(gt={circle:it,width:Qt,p1:$,p2:O})}null!==gt&&(C.push(gt),x+=I(gt.circle.radius,gt.width),O=$)}}else{var Dt=h[0];for(E=1;E<h.length;++E)h[E].radius<Dt.radius&&(Dt=h[E]);var rn=!1;for(E=0;E<h.length;++E)if(rt(h[E],Dt)>Math.abs(Dt.radius-h[E].radius)){rn=!0;break}rn?x=w=0:(x=Dt.radius*Dt.radius*Math.PI,C.push({circle:Dt,p1:{x:Dt.x,y:Dt.y+Dt.radius},p2:{x:Dt.x-U,y:Dt.y+Dt.radius},width:2*Dt.radius}))}return w/=2,p&&(p.area=x+w,p.arcArea=x,p.polygonArea=w,p.arcs=C,p.innerPoints=_,p.intersectionPoints=m),x+w}function I(h,p){return h*h*Math.acos(1-p/h)-(h-p)*Math.sqrt(p*(2*h-p))}function rt(h,p){return Math.sqrt((h.x-p.x)*(h.x-p.x)+(h.y-p.y)*(h.y-p.y))}function st(h,p,m){if(m>=h+p)return 0;if(m<=Math.abs(h-p))return Math.PI*Math.min(h,p)*Math.min(h,p);var x=p-(m*m-h*h+p*p)/(2*m);return I(h,h-(m*m-p*p+h*h)/(2*m))+I(p,x)}function V(h,p){var m=rt(h,p),_=h.radius,x=p.radius;if(m>=_+x||m<=Math.abs(_-x))return[];var w=(_*_-x*x+m*m)/(2*m),C=Math.sqrt(_*_-w*w),E=h.x+w*(p.x-h.x)/m,S=h.y+w*(p.y-h.y)/m,D=C/m*-(p.y-h.y),O=C/m*-(p.x-h.x);return[{x:E+D,y:S-O},{x:E-D,y:S+O}]}function K(h){for(var p={x:0,y:0},m=0;m<h.length;++m)p.x+=h[m].x,p.y+=h[m].y;return p.x/=h.length,p.y/=h.length,p}function F(h){for(var p=new Array(h),m=0;m<h;++m)p[m]=0;return p}function R(h,p){return F(h).map(function(){return F(p)})}function X(h,p){for(var m=0,_=0;_<h.length;++_)m+=h[_]*p[_];return m}function G(h){return Math.sqrt(X(h,h))}function At(h,p,m){for(var _=0;_<p.length;++_)h[_]=p[_]*m}function dt(h,p,m,_,x){for(var w=0;w<h.length;++w)h[w]=p*m[w]+_*x[w]}function Mt(h,p,m){var ft,_=(m=m||{}).maxIterations||200*p.length,x=m.nonZeroDelta||1.05,w=m.zeroDelta||.001,C=m.minErrorDelta||1e-6,E=m.minErrorDelta||1e-5,S=void 0!==m.rho?m.rho:1,D=void 0!==m.chi?m.chi:2,O=void 0!==m.psi?m.psi:-.5,$=void 0!==m.sigma?m.sigma:.5,gt=p.length,nt=new Array(gt+1);nt[0]=p,nt[0].fx=h(p),nt[0].id=0;for(var it=0;it<gt;++it){var Pt=p.slice();Pt[it]=Pt[it]?Pt[it]*x:w,nt[it+1]=Pt,nt[it+1].fx=h(Pt),nt[it+1].id=it+1}function ut(_n){for(var an=0;an<_n.length;an++)nt[gt][an]=_n[an];nt[gt].fx=_n.fx}for(var Ft=function(_n,an){return _n.fx-an.fx},jt=p.slice(),Qt=p.slice(),Dt=p.slice(),rn=p.slice(),dn=0;dn<_;++dn){if(nt.sort(Ft),m.history){var gn=nt.map(function(_n){var an=_n.slice();return an.fx=_n.fx,an.id=_n.id,an});gn.sort(function(_n,an){return _n.id-an.id}),m.history.push({x:nt[0].slice(),fx:nt[0].fx,simplex:gn})}for(ft=0,it=0;it<gt;++it)ft=Math.max(ft,Math.abs(nt[0][it]-nt[1][it]));if(Math.abs(nt[0].fx-nt[gt].fx)<C&&ft<E)break;for(it=0;it<gt;++it){jt[it]=0;for(var Nn=0;Nn<gt;++Nn)jt[it]+=nt[Nn][it];jt[it]/=gt}var En=nt[gt];if(dt(Qt,1+S,jt,-S,En),Qt.fx=h(Qt),Qt.fx<nt[0].fx)dt(rn,1+D,jt,-D,En),rn.fx=h(rn),ut(rn.fx<Qt.fx?rn:Qt);else if(Qt.fx>=nt[gt-1].fx){var Jn=!1;if(Qt.fx>En.fx?(dt(Dt,1+O,jt,-O,En),Dt.fx=h(Dt),Dt.fx<En.fx?ut(Dt):Jn=!0):(dt(Dt,1-O*S,jt,O*S,En),Dt.fx=h(Dt),Dt.fx<Qt.fx?ut(Dt):Jn=!0),Jn){if($>=1)break;for(it=1;it<nt.length;++it)dt(nt[it],1-$,nt[0],$,nt[it]),nt[it].fx=h(nt[it])}}else ut(Qt)}return nt.sort(Ft),{fx:nt[0].fx,x:nt[0]}}function lt(h,p,m,_,x,w,C){var E=m.fx,S=X(m.fxprime,p),D=E,O=E,$=S,ft=0;function gt(it,Pt,ut){for(var Ft=0;Ft<16;++Ft)if(dt(_.x,1,m.x,x=(it+Pt)/2,p),D=_.fx=h(_.x,_.fxprime),$=X(_.fxprime,p),D>E+w*x*S||D>=ut)Pt=x;else{if(Math.abs($)<=-C*S)return x;$*(Pt-it)>=0&&(Pt=it),it=x,ut=D}return 0}x=x||1,w=w||1e-6,C=C||.1;for(var nt=0;nt<10;++nt){if(dt(_.x,1,m.x,x,p),D=_.fx=h(_.x,_.fxprime),$=X(_.fxprime,p),D>E+w*x*S||nt&&D>=O)return gt(ft,x,O);if(Math.abs($)<=-C*S)return x;if($>=0)return gt(x,ft,D);O=D,ft=x,x*=2}return x}function H(h,p,m){var C,E,D,_={x:p.slice(),fx:0,fxprime:p.slice()},x={x:p.slice(),fx:0,fxprime:p.slice()},w=p.slice(),S=1;D=(m=m||{}).maxIterations||20*p.length,_.fx=h(_.x,_.fxprime),At(C=_.fxprime.slice(),_.fxprime,-1);for(var O=0;O<D;++O){if(S=lt(h,C,_,x,S),m.history&&m.history.push({x:_.x.slice(),fx:_.fx,fxprime:_.fxprime.slice(),alpha:S}),S){dt(w,1,x.fxprime,-1,_.fxprime);var $=X(_.fxprime,_.fxprime);dt(C,Math.max(0,X(w,x.fxprime)/$),C,-1,x.fxprime),E=_,_=x,x=E}else At(C,_.fxprime,-1);if(G(_.fxprime)<=1e-5)break}return m.history&&m.history.push({x:_.x.slice(),fx:_.fx,fxprime:_.fxprime.slice(),alpha:S}),_}function j(h,p){(p=p||{}).maxIterations=p.maxIterations||500;var E,_=p.lossFunction||fn,x=(p.initialLayout||bn)(h=function Xt(h){h=h.slice();var _,x,w,C,p=[],m={};for(_=0;_<h.length;++_){var E=h[_];1==E.sets.length?p.push(E.sets[0]):2==E.sets.length&&(m[[w=E.sets[0],C=E.sets[1]]]=!0,m[[C,w]]=!0)}for(p.sort(function(S,D){return S>D}),_=0;_<p.length;++_)for(w=p[_],x=_+1;x<p.length;++x)[w,C=p[x]]in m||h.push({sets:[w,C],size:0});return h}(h),p),w=[],C=[];for(E in x)x.hasOwnProperty(E)&&(w.push(x[E].x),w.push(x[E].y),C.push(E));for(var D=Mt(function($){for(var ft={},gt=0;gt<C.length;++gt){var nt=C[gt];ft[nt]={x:$[2*gt],y:$[2*gt+1],radius:x[nt].radius}}return _(ft,h)},w,p).x,O=0;O<C.length;++O)x[E=C[O]].x=D[2*O],x[E].y=D[2*O+1];return x}function ht(h,p,m){return Math.min(h,p)*Math.min(h,p)*Math.PI<=m+1e-10?Math.abs(h-p):function bt(h,p,m,_){var x=(_=_||{}).maxIterations||100,w=_.tolerance||1e-10,C=h(p),E=h(m),S=m-p;if(C*E>0)throw"Initial bisect points must have opposite signs";if(0===C)return p;if(0===E)return m;for(var D=0;D<x;++D){var O=p+(S/=2),$=h(O);if($*C>=0&&(p=O),Math.abs(S)<w||0===$)return O}return p+S}(function(_){return st(h,p,_)-m},0,h+p)}function bn(h,p){var m=Vn(h,p),_=p.lossFunction||fn;if(h.length>=8){var x=function Qn(h,p){var w,m=(p=p||{}).restarts||10,_=[],x={};for(w=0;w<h.length;++w){var C=h[w];1==C.sets.length&&(x[C.sets[0]]=_.length,_.push(C))}var E=function hn(h,p,m){var _=R(p.length,p.length),x=R(p.length,p.length);return h.filter(function(w){return 2==w.sets.length}).map(function(w){var C=m[w.sets[0]],E=m[w.sets[1]],O=ht(Math.sqrt(p[C].size/Math.PI),Math.sqrt(p[E].size/Math.PI),w.size);_[C][E]=_[E][C]=O;var $=0;w.size+1e-10>=Math.min(p[C].size,p[E].size)?$=1:w.size<=1e-10&&($=-1),x[C][E]=x[E][C]=$}),{distances:_,constraints:x}}(h,_,x),S=E.distances,D=E.constraints,O=G(S.map(G))/S.length;S=S.map(function(Ft){return Ft.map(function(jt){return jt/O})});var ft,gt,$=function(Ft,jt){return function Cn(h,p,m,_){var w,x=0;for(w=0;w<p.length;++w)p[w]=0;for(w=0;w<m.length;++w)for(var C=h[2*w],E=h[2*w+1],S=w+1;S<m.length;++S){var D=h[2*S],O=h[2*S+1],$=m[w][S],ft=_[w][S],gt=(D-C)*(D-C)+(O-E)*(O-E),nt=Math.sqrt(gt),it=gt-$*$;ft>0&&nt<=$||ft<0&&nt>=$||(x+=2*it*it,p[2*w]+=4*it*(C-D),p[2*w+1]+=4*it*(E-O),p[2*S]+=4*it*(D-C),p[2*S+1]+=4*it*(O-E))}return x}(Ft,jt,S,D)};for(w=0;w<m;++w)gt=H($,F(2*S.length).map(Math.random),p),(!ft||gt.fx<ft.fx)&&(ft=gt);var it=ft.x,Pt={};for(w=0;w<_.length;++w){var ut=_[w];Pt[ut.sets[0]]={x:it[2*w]*O,y:it[2*w+1]*O,radius:Math.sqrt(ut.size/Math.PI)}}if(p.history)for(w=0;w<p.history.length;++w)At(p.history[w].x,O);return Pt}(h,p);_(x,h)+1e-8<_(m,h)&&(m=x)}return m}function Vn(h,p){for(var w,m=p&&p.lossFunction?p.lossFunction:fn,_={},x={},C=0;C<h.length;++C){var E=h[C];1==E.sets.length&&(_[w=E.sets[0]]={x:1e10,y:1e10,rowid:_.length,size:E.size,radius:Math.sqrt(E.size/Math.PI)},x[w]=[])}for(h=h.filter(function(Dn){return 2==Dn.sets.length}),C=0;C<h.length;++C){var S=h[C],D=S.hasOwnProperty("weight")?S.weight:1,O=S.sets[0],$=S.sets[1];S.size+1e-10>=Math.min(_[O].size,_[$].size)&&(D=0),x[O].push({set:$,size:S.size,weight:D}),x[$].push({set:O,size:S.size,weight:D})}var ft=[];for(w in x)if(x.hasOwnProperty(w)){var gt=0;for(C=0;C<x[w].length;++C)gt+=x[w][C].size*x[w][C].weight;ft.push({set:w,size:gt})}function nt(Dn,g){return g.size-Dn.size}ft.sort(nt);var it={};function Pt(Dn){return Dn.set in it}function ut(Dn,g){_[g].x=Dn.x,_[g].y=Dn.y,it[g]=!0}for(ut({x:0,y:0},ft[0].set),C=1;C<ft.length;++C){var Ft=ft[C].set,jt=x[Ft].filter(Pt);if(w=_[Ft],jt.sort(nt),0===jt.length)throw"ERROR: missing pairwise overlap information";for(var Qt=[],Dt=0;Dt<jt.length;++Dt){var rn=_[jt[Dt].set],dn=ht(w.radius,rn.radius,jt[Dt].size);Qt.push({x:rn.x+dn,y:rn.y}),Qt.push({x:rn.x-dn,y:rn.y}),Qt.push({y:rn.y+dn,x:rn.x}),Qt.push({y:rn.y-dn,x:rn.x});for(var gn=Dt+1;gn<jt.length;++gn)for(var Nn=_[jt[gn].set],En=ht(w.radius,Nn.radius,jt[gn].size),Jn=V({x:rn.x,y:rn.y,radius:dn},{x:Nn.x,y:Nn.y,radius:En}),_n=0;_n<Jn.length;++_n)Qt.push(Jn[_n])}var an=1e50,mn=Qt[0];for(Dt=0;Dt<Qt.length;++Dt){_[Ft].x=Qt[Dt].x,_[Ft].y=Qt[Dt].y;var $n=m(_,h);$n<an&&(an=$n,mn=Qt[Dt])}ut(mn,Ft)}return _}function fn(h,p){var m=0;for(var x=0;x<p.length;++x){var C,w=p[x];if(1!=w.sets.length){if(2==w.sets.length){var E=h[w.sets[0]],S=h[w.sets[1]];C=st(E.radius,S.radius,rt(E,S))}else C=Ht(w.sets.map(function($){return h[$]}));m+=(w.hasOwnProperty("weight")?w.weight:1)*(C-w.size)*(C-w.size)}}return m}function Xn(h,p,m){var _;if(h.sort(null===m?function(it,Pt){return Pt.radius-it.radius}:m),h.length>0){var x=h[0].x,w=h[0].y;for(_=0;_<h.length;++_)h[_].x-=x,h[_].y-=w}if(2==h.length&&rt(h[0],h[1])<Math.abs(h[1].radius-h[0].radius)&&(h[1].x=h[0].x+h[0].radius-h[1].radius-1e-10,h[1].y=h[0].y),h.length>1){var O,$,E=Math.atan2(h[1].x,h[1].y)-p,S=Math.cos(E),D=Math.sin(E);for(_=0;_<h.length;++_)h[_].x=S*(O=h[_].x)-D*($=h[_].y),h[_].y=D*O+S*$}if(h.length>2){for(var ft=Math.atan2(h[2].x,h[2].y)-p;ft<0;)ft+=2*Math.PI;for(;ft>2*Math.PI;)ft-=2*Math.PI;if(ft>Math.PI){var gt=h[1].y/(1e-10+h[1].x);for(_=0;_<h.length;++_){var nt=(h[_].x+gt*h[_].y)/(1+gt*gt);h[_].x=2*nt-h[_].x,h[_].y=2*nt*gt-h[_].y}}}}function P(h){function p(D){return D.parent!==D&&(D.parent=p(D.parent)),D.parent}h.map(function(D){D.parent=D});for(var _=0;_<h.length;++_)for(var x=_+1;x<h.length;++x){var w=h[_].radius+h[x].radius;rt(h[_],h[x])+1e-10<w&&(O=h[_],$=void 0,ft=void 0,$=p(h[x]),ft=p(O),$.parent=ft)}var O,$,ft,E,C={};for(_=0;_<h.length;++_)(E=p(h[_]).parent.setid)in C||(C[E]=[]),C[E].push(h[_]);h.map(function(D){delete D.parent});var S=[];for(E in C)C.hasOwnProperty(E)&&S.push(C[E]);return S}function B(h){var p=function(m){return{max:Math.max.apply(null,h.map(function(w){return w[m]+w.radius})),min:Math.min.apply(null,h.map(function(w){return w[m]-w.radius}))}};return{xRange:p("x"),yRange:p("y")}}function It(h,p,m){null===p&&(p=Math.PI/2);var x,w,_=[];for(w in h)if(h.hasOwnProperty(w)){var C=h[w];_.push({x:C.x,y:C.y,radius:C.radius,setid:w})}var E=P(_);for(x=0;x<E.length;++x){Xn(E[x],p,m);var S=B(E[x]);E[x].size=(S.xRange.max-S.xRange.min)*(S.yRange.max-S.yRange.min),E[x].bounds=S}E.sort(function(nt,it){return it.size-nt.size});var D=(_=E[0]).bounds,O=(D.xRange.max-D.xRange.min)/50;function $(nt,it,Pt){if(nt){var Ft,jt,Qt,ut=nt.bounds;it?Ft=D.xRange.max-ut.xRange.min+O:(Ft=D.xRange.max-ut.xRange.max,(Qt=(ut.xRange.max-ut.xRange.min)/2-(D.xRange.max-D.xRange.min)/2)<0&&(Ft+=Qt)),Pt?jt=D.yRange.max-ut.yRange.min+O:(jt=D.yRange.max-ut.yRange.max,(Qt=(ut.yRange.max-ut.yRange.min)/2-(D.yRange.max-D.yRange.min)/2)<0&&(jt+=Qt));for(var Dt=0;Dt<nt.length;++Dt)nt[Dt].x+=Ft,nt[Dt].y+=jt,_.push(nt[Dt])}}for(var ft=1;ft<E.length;)$(E[ft],!0,!1),$(E[ft+1],!1,!0),$(E[ft+2],!0,!0),ft+=3,D=B(_);var gt={};for(x=0;x<_.length;++x)gt[_[x].setid]=_[x];return gt}function tn(h,p,m,_){var x=[],w=[];for(var C in h)h.hasOwnProperty(C)&&(w.push(C),x.push(h[C]));p-=2*_,m-=2*_;var E=B(x),S=E.xRange,D=E.yRange;if(S.max==S.min||D.max==D.min)return console.log("not scaling solution: zero size detected"),h;for(var ft=Math.min(m/(D.max-D.min),p/(S.max-S.min)),gt=(p-(S.max-S.min)*ft)/2,nt=(m-(D.max-D.min)*ft)/2,it={},Pt=0;Pt<x.length;++Pt){var ut=x[Pt];it[w[Pt]]={radius:ft*ut.radius,x:_+gt+(ut.x-S.min)*ft,y:_+nt+(ut.y-D.min)*ft}}return it}function Mn(h,p){return function(){for(var $,m=et.select(this),_=m.datum(),x=h[_.sets[0]].radius||50,w=p(_)||"",C=w.split(/\s+/).reverse(),S=(w.length+C.length)/3,D=C.pop(),O=[D],ft=0,nt=m.text(null).append("tspan").text(D);D=C.pop();)O.push(D),$=O.join(" "),nt.text($),$.length>S&&nt.node().getComputedTextLength()>x&&(O.pop(),nt.text(O.join(" ")),O=[D],nt=m.append("tspan").text(D),ft++);var it=.35-1.1*ft/2,Pt=m.attr("x"),ut=m.attr("y");m.selectAll("tspan").attr("x",Pt).attr("y",ut).attr("dy",function(Ft,jt){return it+1.1*jt+"em"})}}function kn(h,p,m){var x,w,_=p[0].radius-rt(p[0],h);for(x=1;x<p.length;++x)(w=p[x].radius-rt(p[x],h))<=_&&(_=w);for(x=0;x<m.length;++x)(w=rt(m[x],h)-m[x].radius)<=_&&(_=w);return _}function Pn(h,p){var _,m=[];for(_=0;_<h.length;++_){var x=h[_];m.push({x:x.x,y:x.y}),m.push({x:x.x+x.radius/2,y:x.y}),m.push({x:x.x-x.radius/2,y:x.y}),m.push({x:x.x,y:x.y+x.radius/2}),m.push({x:x.x,y:x.y-x.radius/2})}var w=m[0],C=kn(m[0],h,p);for(_=1;_<m.length;++_){var E=kn(m[_],h,p);E>=C&&(w=m[_],C=E)}var S=Mt(function(ft){return-1*kn({x:ft[0],y:ft[1]},h,p)},[w.x,w.y],{maxIterations:500,minErrorDelta:1e-10}).x,D={x:S[0],y:S[1]},O=!0;for(_=0;_<h.length;++_)if(rt(D,h[_])>h[_].radius){O=!1;break}for(_=0;_<p.length;++_)if(rt(D,p[_])<p[_].radius){O=!1;break}if(!O)if(1==h.length)D={x:h[0].x,y:h[0].y};else{var $={};Ht(h,$),D=0===$.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==$.arcs.length?{x:$.arcs[0].circle.x,y:$.arcs[0].circle.y}:p.length?Pn(h,[]):K($.arcs.map(function(ft){return ft.p1}))}return D}function On(h){var p={},m=[];for(var _ in h)m.push(_),p[_]=[];for(var x=0;x<m.length;x++)for(var w=h[m[x]],C=x+1;C<m.length;++C){var E=h[m[C]],S=rt(w,E);S+E.radius<=w.radius+1e-10?p[m[C]].push(m[x]):S+w.radius<=E.radius+1e-10&&p[m[x]].push(m[C])}return p}function ae(h,p){for(var m={},_=On(h),x=0;x<p.length;++x){for(var w=p[x].sets,C={},E={},S=0;S<w.length;++S){C[w[S]]=!0;for(var D=_[w[S]],O=0;O<D.length;++O)E[D[O]]=!0}var $=[],ft=[];for(var gt in h)gt in C?$.push(h[gt]):gt in E||ft.push(h[gt]);var nt=Pn($,ft);m[w]=nt,nt.disjoint&&p[x].size>0&&console.log("WARNING: area "+w+" not represented on screen")}return m}function me(h,p,m){var _=[];return _.push("\nM",h,p),_.push("\nm",-m,0),_.push("\na",m,m,0,1,0,2*m,0),_.push("\na",m,m,0,1,0,2*-m,0),_.join(" ")}function ye(h){var p=h.split(" ");return{x:parseFloat(p[1]),y:parseFloat(p[2]),radius:-parseFloat(p[4])}}function le(h){var p={};Ht(h,p);var m=p.arcs;if(0===m.length)return"M 0 0";if(1==m.length){var _=m[0].circle;return me(_.x,_.y,_.radius)}for(var x=["\nM",m[0].p2.x,m[0].p2.y],w=0;w<m.length;++w){var C=m[w],E=C.circle.radius;x.push("\nA",E,E,0,C.width>E?1:0,1,C.p1.x,C.p1.y)}return x.join(" ")}Y.intersectionArea=Ht,Y.circleCircleIntersection=V,Y.circleOverlap=st,Y.circleArea=I,Y.distance=rt,Y.venn=j,Y.greedyLayout=Vn,Y.scaleSolution=tn,Y.normalizeSolution=It,Y.bestInitialLayout=bn,Y.lossFunction=fn,Y.disjointCluster=P,Y.distanceFromIntersectArea=ht,Y.VennDiagram=function Un(){var h=600,p=350,m=15,_=1e3,x=Math.PI/2,w=!0,C=!0,E=!0,S=null,D=null,O={},$=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ft=0,gt=function(ut){if(ut in O)return O[ut];var Ft=O[ut]=$[ft];return(ft+=1)>=$.length&&(ft=0),Ft},nt=j,it=fn;function Pt(ut){var Ft=ut.datum(),jt={};Ft.forEach(function(k){0==k.size&&1==k.sets.length&&(jt[k.sets[0]]=1)}),Ft=Ft.filter(function(k){return!k.sets.some(function(_t){return _t in jt})});var Qt={},Dt={};if(Ft.length>0){var rn=nt(Ft,{lossFunction:it});w&&(rn=It(rn,x,D)),Qt=tn(rn,h,p,m),Dt=ae(Qt,Ft)}var dn={};function gn(k){return k.sets in dn?dn[k.sets]:1==k.sets.length?""+k.sets[0]:void 0}Ft.forEach(function(k){k.label&&(dn[k.sets]=k.label)}),ut.selectAll("svg").data([Qt]).enter().append("svg");var Nn=ut.select("svg").attr("width",h).attr("height",p),En={},Jn=!1;Nn.selectAll(".venn-area path").each(function(k){var _t=et.select(this).attr("d");1==k.sets.length&&_t&&(Jn=!0,En[k.sets[0]]=ye(_t))});var _n=function(k){return function(_t){return le(k.sets.map(function(vt){var Bt=En[vt],Ot=Qt[vt];return Bt||(Bt={x:h/2,y:p/2,radius:1}),Ot||(Ot={x:h/2,y:p/2,radius:1}),{x:Bt.x*(1-_t)+Ot.x*_t,y:Bt.y*(1-_t)+Ot.y*_t,radius:Bt.radius*(1-_t)+Ot.radius*_t}}))}},an=Nn.selectAll(".venn-area").data(Ft,function(k){return k.sets}),mn=an.enter().append("g").attr("class",function(k){return"venn-area venn-"+(1==k.sets.length?"circle":"intersection")}).attr("data-venn-sets",function(k){return k.sets.join("_")}),$n=mn.append("path"),Dn=mn.append("text").attr("class","label").text(function(k){return gn(k)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",h/2).attr("y",p/2);E&&($n.style("fill-opacity","0").filter(function(k){return 1==k.sets.length}).style("fill",function(k){return gt(k.sets)}).style("fill-opacity",".25"),Dn.style("fill",function(k){return 1==k.sets.length?gt(k.sets):"#444"}));var g=ut;Jn?(g=ut.transition("venn").duration(_)).selectAll("path").attrTween("d",_n):g.selectAll("path").attr("d",function(k){return le(k.sets.map(function(_t){return Qt[_t]}))});var N=g.selectAll("text").filter(function(k){return k.sets in Dt}).text(function(k){return gn(k)}).attr("x",function(k){return Math.floor(Dt[k.sets].x)}).attr("y",function(k){return Math.floor(Dt[k.sets].y)});C&&(Jn?"on"in N?N.on("end",Mn(Qt,gn)):N.each("end",Mn(Qt,gn)):N.each(Mn(Qt,gn)));var ct=an.exit().transition("venn").duration(_).remove();ct.selectAll("path").attrTween("d",_n);var Zt=ct.selectAll("text").attr("x",h/2).attr("y",p/2);return null!==S&&(Dn.style("font-size","0px"),N.style("font-size",S),Zt.style("font-size","0px")),{circles:Qt,textCentres:Dt,nodes:an,enter:mn,update:g,exit:ct}}return Pt.wrap=function(ut){return arguments.length?(C=ut,Pt):C},Pt.width=function(ut){return arguments.length?(h=ut,Pt):h},Pt.height=function(ut){return arguments.length?(p=ut,Pt):p},Pt.padding=function(ut){return arguments.length?(m=ut,Pt):m},Pt.colours=function(ut){return arguments.length?(gt=ut,Pt):gt},Pt.fontSize=function(ut){return arguments.length?(S=ut,Pt):S},Pt.duration=function(ut){return arguments.length?(_=ut,Pt):_},Pt.layoutFunction=function(ut){return arguments.length?(nt=ut,Pt):nt},Pt.normalize=function(ut){return arguments.length?(w=ut,Pt):w},Pt.styled=function(ut){return arguments.length?(E=ut,Pt):E},Pt.orientation=function(ut){return arguments.length?(x=ut,Pt):x},Pt.orientationOrder=function(ut){return arguments.length?(D=ut,Pt):D},Pt.lossFunction=function(ut){return arguments.length?(it=ut,Pt):it},Pt},Y.wrapText=Mn,Y.computeTextCentres=ae,Y.computeTextCentre=Pn,Y.sortAreas=function ge(h,p){for(var m=On(h.selectAll("svg").datum()),_={},x=0;x<p.sets.length;++x){var w=p.sets[x];for(var C in m)for(var E=m[C],S=0;S<E.length;++S)if(E[S]==w){_[C]=!0;break}}function D(O){for(var $=0;$<O.length;++$)if(!(O[$]in _))return!1;return!0}h.selectAll("g").sort(function(O,$){return O.sets.length!=$.sets.length?O.sets.length-$.sets.length:O==p?D($.sets)?-1:1:$==p?D(O.sets)?1:-1:$.size-O.size})},Y.circlePath=me,Y.circleFromPath=ye,Y.intersectionAreaPath=le,Object.defineProperty(Y,"__esModule",{value:!0})}(qt,J(1039),J(2995))}}]);
//# sourceMappingURL=8932.f45f732bf3e4569c.js.map