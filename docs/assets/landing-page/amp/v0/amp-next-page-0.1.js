;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-next-page",ev:"0.1",l:!1,f:function(t,n){!function(){function n(t,r){return(n=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,r)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,n){if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var o=Array.isArray;function u(t,n){for(var r=[],i=0,e=0;e<t.length;e++){var o=t[e];n(o,e,t)?r.push(o):(i<e&&(t[i]=o),i++)}return i<t.length&&(t.length=i),r}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=t[r];return i}function s(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return a(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=Object.prototype,f=c.hasOwnProperty,l=c.toString;function h(t){return"[object Object]"===l.call(t)}function v(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function p(t,n){return f.call(t,n)}function d(t,n){if("."==n)return t;for(var r,e=t,o=s(n.split("."),!0);!(r=o()).done;){var u=r.value;if(!(u&&e&&void 0!==e[u]&&"object"==i(e)&&p(e,u))){e=void 0;break}e=e[u]}return e}function m(t){return 1==(null==(n=t)?void 0:n.nodeType)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var n}function g(t,n,r,i,e,o,u,a,s,c,f){return t}function b(t){return JSON.parse(t)}function y(t){return(t.ownerDocument||t).defaultView}var w,x=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function S(t,n,r,i,e){return e||(n?"ï¿½":i?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function R(t,n){return t.replace(/^|,/g,"$&".concat(n," "))}function E(t){g(/^[\w-]+$/.test(t))}function j(t,n){return(void 0!==w?w:w=function(t){try{var n=t.ownerDocument,r=n.createElement("div"),i=n.createElement("div");return r.appendChild(i),r.querySelector(":scope div")===i}catch(t){return!1}}(t))?t.querySelectorAll(R(n,":scope")):function(t,n){var r=t.classList,i="i-amphtml-scoped";r.add(i);var e=R(n,".".concat(i)),o=t.querySelectorAll(e);return r.remove(i),o}(t,n)}function O(t,n){return E(n),j(t,"> ".concat(n))}function k(t,n){return E(n),t.querySelector(n)}function P(t){var n;null===(n=t.parentElement)||void 0===n||n.removeChild(t)}function T(t,n){t.insertBefore(n,t.firstChild)}function A(t){if(Node.prototype.getRootNode)return t.getRootNode();var n,r;for(n=t;n.parentNode&&(!(r=n)||"I-AMPHTML-SHADOW-ROOT"!=r.tagName&&(11!=r.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(r)));n=n.parentNode);return n}function I(t,n){for(var r=t.length,i=0;i<r;i++)n(t[i],i)}function U(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function N(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,i)}return r}function _(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?N(Object(r),!0).forEach((function(n){U(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var L=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function C(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function $(t){var n,r=v();if(!t)return r;for(;n=L.exec(t);){var i=C(n[1],n[1]),e=n[2]?C(n[2].replace(/\+/g," "),n[2]):"";r[i]=e}return r}function M(t){var n=(t||self).location;return $(n.originalHash||n.hash)}var z=self.AMP_CONFIG||{},D=("string"==typeof z.thirdPartyFrameRegex?new RegExp(z.thirdPartyFrameRegex):z.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,H=("string"==typeof z.cdnProxyRegex?new RegExp(z.cdnProxyRegex):z.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function F(t){if(!self.document||!self.document.head)return null;if(self.location&&H.test(self.location.origin))return null;var n=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return n&&n.getAttribute("content")||null}var q={thirdParty:z.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:z.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:D,cdn:z.cdnUrl||F("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:H,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:z.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:z.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:z.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:z.geoApiUrl||F("amp-geo-api")},G="";function V(t){var n;return G||(G=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"01".concat("2203281422000")),G}function Z(t,n){var r=n||M(t);return["1","actions","amp","amp4ads","amp4email"].includes(r.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var K,W=self.__AMP_LOG;function B(t,n){throw new Error("failed to call initLogConstructor")}function J(t){return W.user||(W.user=X()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(W.user.win,t)?W.userForEmbed||(W.userForEmbed=X()):W.user}function X(t){return B()}function Y(){return W.dev||(W.dev=B())}function Q(t,n,r,i,e,o,u,a,s,c,f){return t}function tt(t,n,r,i,e,o,u,a,s,c,f){return J().assert(t,n,r,i,e,o,u,a,s,c,f)}function nt(){return K||(K=Promise.resolve(void 0))}var rt=function(){var t=this;this.promise=new Promise((function(n,r){t.resolve=n,t.reject=r}))};function it(t,n){return ft(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function et(t,n){return ft(ct(st(t)),n)}function ot(t,n){var r=ct(st(t));return dt(r,n)?ft(r,n):null}function ut(t,n){return function(t,n){var r=lt(t,n);if(r)return r;var i,e,o,u,a=ht(t);return a[n]=(e=(i=new rt).promise,o=i.reject,u=i.resolve,e.catch((function(){})),{obj:null,promise:e,resolve:u,reject:o,context:null,ctor:null}),a[n].promise}(ct(t),n)}function at(t,n){return lt(ct(t),n)}function st(t){return t.nodeType?(n=y(t),it(n,"ampdoc")).getAmpDoc(t):t;var n}function ct(t){var n=st(t);return n.isSingleDoc()?n.win:n}function ft(t,n){Q(dt(t,n));var r=ht(t)[n];return r.obj||(Q(r.ctor),Q(r.context),r.obj=new r.ctor(r.context),Q(r.obj),r.context=null,r.resolve&&r.resolve(r.obj)),r.obj}function lt(t,n){var r=ht(t)[n];return r?r.promise?r.promise:(ft(t,n),r.promise=Promise.resolve(r.obj)):null}function ht(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function vt(t){return"function"==typeof t.dispose}function pt(t,n){if(vt(n))try{(function(t){return Q(vt(t)),t})(n).dispose()}catch(n){Y().error("SERVICE","failed to dispose service",t,n)}}function dt(t,n){var r=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!r||!r.ctor)}var mt="__AMP__EXPERIMENT_TOGGLES";function gt(t,n){var r=function(t){var n,r,i,e,u;if(t[mt])return t[mt];t[mt]=v();var a=t[mt];g(a);var c=_(_({},null!==(n=t.AMP_CONFIG)&&void 0!==n?n:{}),null!==(r=t.AMP_EXP)&&void 0!==r?r:b((null===(i=t.__AMP_EXP)||void 0===i?void 0:i.textContent)||"{}"));for(var f in c){var l=c[f];"number"==typeof l&&l>=0&&l<=1&&(a[f]=Math.random()<l)}var h=null===(e=t.AMP_CONFIG)||void 0===e?void 0:e["allow-doc-opt-in"];if(o(h)&&h.length){var p=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(p)for(var d,m,y=s((null===(d=p.getAttribute("content"))||void 0===d?void 0:d.split(","))||[],!0);!(m=y()).done;){var w=m.value;h.includes(w)&&(a[w]=!0)}}Object.assign(a,function(t){var n,r="";try{var i;"localStorage"in t&&(r=null!==(i=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==i?i:"")}catch(t){Y().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var e,o=(null===(n=r)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],u=v(),a=s(o,!0);!(e=a()).done;){var c=e.value;c&&("-"==c[0]?u[c.substr(1)]=!1:u[c]=!0)}return u}(t));var x=null===(u=t.AMP_CONFIG)||void 0===u?void 0:u["allow-url-opt-in"];if(o(x)&&x.length)for(var S,R=$(t.location.originalHash||t.location.hash),E=s(x,!0);!(S=E()).done;){var j=S.value,O=R["e-".concat(j)];"1"==O&&(a[j]=!0),"0"==O&&(a[j]=!1)}return a}(t);return!!r[n]}function bt(t){if(!t)return null;var n=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i),r=n?n[2]:void 0,i=n?n[3]:void 0;return r&&i?{extensionId:r,extensionVersion:i}:null}function yt(t,n,r,i){var e=at(t,n);if(e)return e;var o=st(t);return o.whenExtensionsKnown().then((function(){var t=o.getExtensionVersion(r);return t?it(o.win,"extensions").waitForExtension(r,t):null})).then((function(r){return r?i?at(t,n):ut(t,n):null}))}var wt,xt,St=function(t){return it(t,"ampdoc")},Rt=function(t){return yt(t,"amp-analytics-instrumentation","amp-analytics")},Et=function(t){return it(t,"batched-xhr")},jt=function(t){return function(t,n,r){var i=ot(t,n);return i?Promise.resolve(i):yt(t,n,"amp-bind")}(t,"bind")},Ot=function(t){return yt(t,"consentPolicyManager","amp-consent")},kt=function(t){return ot(t,"url")},Pt=function(t){return et(t,"viewer")},Tt=function(t){return it(t,"vsync")},At=function(t){return et(t,"viewport")},It=function(t){return it(t,"xhr")},Ut=function(){function t(t){this.St=t,this.It=0,this.Ct=0,this.Ot=v()}var n=t.prototype;return n.has=function(t){return!!this.Ot[t]},n.get=function(t){var n=this.Ot[t];if(n)return n.access=++this.Ct,n.payload},n.put=function(t,n){this.has(t)||this.It++,this.Ot[t]={payload:n,access:this.Ct},this.Rt()},n.Rt=function(){if(!(this.It<=this.St)){var t,n=this.Ot,r=this.Ct+1;for(var i in n){var e=n[i].access;e<r&&(r=e,t=i)}void 0!==t&&(delete n[t],this.It--)}},t}(),Nt=new Set(["c","v","a","ad"]),_t="__amp_source_origin",Lt=function(t){return"string"==typeof t?Ct(t):t};function Ct(t,n){return wt||(wt=self.document.createElement("a"),xt=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new Ut(100))),function(t,n,r){if(r&&r.has(n))return r.get(n);t.href=n,t.protocol||(t.href=t.href);var i,e={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,e.origin=i;var o=e;return r&&r.put(n,o),o}(wt,t,n?null:xt)}function $t(t){return"https:"==(t=Lt(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(r=".localhost",(i=(n=t.hostname).length-r.length)>=0&&n.indexOf(r,i)==i);var n,r,i}function Mt(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return tt(null!=t,"%s %s must be available",n,r),tt($t(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,r,t),t}function zt(t){return q.cdnProxyRegex.test(Lt(t).origin)}function Dt(t){if(!zt(t=Lt(t)))return t.href;var n=t.pathname.split("/"),r=n[1];tt(Nt.has(r),"Unknown path prefix in url %s",t.href);var i=n[2],e="s"==i?"https://"+decodeURIComponent(n[3]):"http://"+decodeURIComponent(i);return tt(e.indexOf(".")>0,"Expected a . in origin %s",e),n.splice(1,"s"==i?3:2),e+n.join("/")+function(t,n){if(!t||"?"==t)return"";var r=new RegExp("[?&]".concat("(amp_(js[^&=]*|gsa|r|kit)|usqp)","\\b[^&]*"),"g"),i=t.replace(r,"").replace(/^[?&]/,"");return i?"?"+i:""}(t.search)+(t.hash||"")}function Ht(t){return Ct(Dt(t)).origin}var Ft,qt=[/(^|\W)i-amphtml-/],Gt="hidden";function Vt(t,n,r,i){return{left:t,top:n,width:r,height:i,bottom:n+i,right:t+r,x:t,y:n}}function Zt(t,n){return!(!t||!n)&&t.left==n.left&&t.top==n.top&&t.width==n.width&&t.height==n.height}var Kt=["Webkit","webkit","Moz","moz","ms","O","o"];function Wt(t,n,r,i,e){var o=function(t,n,r){if(n.startsWith("--"))return n;Ft||(Ft=v());var i=Ft[n];if(!i||r){if(i=n,void 0===t[n]){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),o=function(t,n){for(var r=0;r<Kt.length;r++){var i=Kt[r]+n;if(void 0!==t[i])return i}return""}(t,e);void 0!==t[o]&&(i=o)}r||(Ft[n]=i)}return i}(t.style,n,e);if(o){var u,a=i?r+i:r;t.style.setProperty((u=o.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),Kt.some((function(t){return u.startsWith(t+"-")}))?"-".concat(u):u),a)}}var Bt,Jt,Xt=function(){function t(t,n,r,i){this.element=n,this.Ds=i,this.fidelity=r,this.turn=0==r?Math.floor(4*Math.random()):0,this.tA=null,this.Tu=At(t)}var n=t.prototype;return n.Ns=function(t){var n=this.tA;if(!(n&&Zt(n.positionRect,t.positionRect)&&Zt(n.viewportRect,t.viewportRect))){Q(t.positionRect);var r,i,e=t.positionRect;t.relativePos=(r=e,i=t.viewportRect,r.top<i.top?"top":r.bottom>i.bottom?"bottom":"inside"),function(t,n){return t.top<=n.bottom&&n.top<=t.bottom&&t.left<=n.right&&n.left<=t.right}(e,t.viewportRect)?(this.tA=t,this.Ds(t)):this.tA&&(this.tA=null,t.positionRect=null,this.Ds(t))}},n.update=function(t){var n=this;if(!t){if(0!=this.turn)return void this.turn--;0==this.fidelity&&(this.turn=4)}var r=this.Tu.getSize(),i=Vt(0,0,r.width,r.height);this.Tu.getClientRectAsync(this.element).then((function(t){n.Ns({positionRect:t,viewportRect:i,relativePos:null})}))},t}(),Yt=function(){function t(t){var n=this;this.qi=t,this.t=t.win,this.nA=[],this.Iu=Tt(this.t),this.Tu=At(t),this.Xg=[],this.rA=!1,this.iA=!1,this.eA=!1,this.aA=function(t,n,r){var i=0,e=0,o=null;function u(){i=0;var r,a=500-(t.Date.now()-e);a>0?i=t.setTimeout(u,a):(r=o,o=null,n.apply(null,r))}return function(){e=t.Date.now();for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];o=r,i||(i=t.setTimeout(u,500))}}(this.t,(function(){n.rA=!1}))}var n=t.prototype;return n.observe=function(t,n,r){var i=this,e=new Xt(this.qi,t,n,r);return this.nA.push(e),this.eA||this.sA(),e.update(),function(){for(var t=0;t<i.nA.length;t++)if(i.nA[t]==e)return void i.uA(t)}},n.unobserve=function(t){for(var n=0;n<this.nA.length;n++)if(this.nA[n].element==t)return void this.uA(n);Y().error("POSITION_OBSERVER","cannot unobserve unobserved element")},n.uA=function(t){this.nA.splice(t,1),0==this.nA.length&&this.oA()},n.sA=function(){var t=this;this.eA=!0,this.Xg.push(this.Tu.onScroll((function(){t.fA()}))),this.Xg.push(this.Tu.onResize((function(){t.cA()})))},n.oA=function(){for(this.eA=!1;this.Xg.length;)this.Xg.pop()()},n.updateAllEntries=function(t){for(var n=0;n<this.nA.length;n++)this.nA[n].update(t)},n.fA=function(){this.aA(),this.rA=!0,this.iA||this.lA()},n.cA=function(){this.updateAllEntries(!0)},n.lA=function(){var t=this;this.updateAllEntries(),this.iA=!0,this.rA?this.Iu.measure((function(){t.lA()})):this.iA=!1},t}(),Qt=".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/",tn="render-start",nn="none";function rn(){return void 0===Jt&&(Jt=on()!=nn&&(en(Element.prototype.attachShadow)||en(Element.prototype.createShadowRoot))),Jt}function en(t){return!!t&&-1!=t.toString().indexOf("[native code]")}function on(t){return void 0===Bt&&(n=t||Element,Bt=n.prototype.attachShadow?"v1":n.prototype.createShadowRoot?"v0":nn),Bt;var n}var un={strictStyling:!1,scopeRules:function(t,n,r){var i="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)i+=this.scopeSelector(t.selectorText,n,this.strictStyling,r)+" {\n\t",i+=this.propertiesFromRule(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)i+="@media "+t.media.mediaText+" {\n",i+=this.scopeRules(t.cssRules,n),i+="\n}\n\n";else try{t.cssText&&(i+=t.cssText+"\n\n")}catch(n){t.type===CSSRule.KEYFRAMES_RULE&&t.cssRules&&(i+=this.ieSafeCssTextFromKeyFrameRule(t))}}),this),i},ieSafeCssTextFromKeyFrameRule:function(t){var n="@keyframes "+t.name+" {";return Array.prototype.forEach.call(t.cssRules,(function(t){n+=" "+t.keyText+" {"+t.style.cssText+"}"})),n+=" }"},scopeSelector:function(t,n,r,i){var e=[];return t.split(",").forEach((function(t){t=t.trim(),i&&(t=i(t)),this.selectorNeedsScoping(t,n)&&(t=r&&!t.match(fn)?this.applyStrictSelectorScope(t,n):this.applySelectorScope(t,n)),e.push(t)}),this),e.join(", ")},selectorNeedsScoping:function(t,n){if(Array.isArray(n))return!0;var r=this.makeScopeMatcher(n);return!t.match(r)},makeScopeMatcher:function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+cn,"m")},applySelectorScope:function(t,n){return Array.isArray(n)?this.applySelectorScopeList(t,n):this.applySimpleSelectorScope(t,n)},applySelectorScopeList:function(t,n){for(var r,i=[],e=0;r=n[e];e++)i.push(this.applySimpleSelectorScope(t,r));return i.join(", ")},applySimpleSelectorScope:function(t,n){return t.match(ln)?(t=t.replace(fn,n)).replace(ln,n+" "):n+" "+t},applyStrictSelectorScope:function(t,n){n=n.replace(/\[is=([^\]]*)\]/g,"$1");var r=[" ",">","+","~"],i=t,e="["+n+"]";return r.forEach((function(t){var n=i.split(t);i=n.map((function(t){var n=t.trim().replace(ln,"");return n&&r.indexOf(n)<0&&n.indexOf(e)<0&&(t=n.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3")),t})).join(t)})),i},propertiesFromRule:function(t){var n=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(n=n.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var r=t.style;for(var i in r)"initial"===r[i]&&(n+=i+": initial; ");return n}},an="-shadowcsshost",sn=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",cn=(new RegExp("("+an+sn,"gim"),new RegExp("(-shadowcsscontext"+sn,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),fn=an+"-no-combinator",ln=new RegExp(an,"gim");function hn(t,n,r,i,e){var o=t.getHeadNode(),u=function(t,n,r,i){var e=t.__AMP_CSS_SM;e||(e=t.__AMP_CSS_SM=v());var o=!r&&i&&"amp-custom"!=i&&"amp-keyframes"!=i,u=r?"amp-runtime":o?"amp-extension=".concat(i):null;if(u){var a=vn(t,e,u);if(a)return"STYLE"==a.tagName&&a.textContent!==n&&(a.textContent=n),a}var s=(t.ownerDocument||t).createElement("style");s.textContent=n;var c=null;return r?s.setAttribute("amp-runtime",""):o?(s.setAttribute("amp-extension",i||""),c=vn(t,e,"amp-runtime")):(i&&s.setAttribute(i,""),c=t.lastChild),function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r){var i=r.nextSibling;t.insertBefore(n,i)}else T(t,n)}(t,s,c),u&&(e[u]=s),s}(o,function(t,n){var r=t.__AMP_CSS_TR;return r?r(n):n}(o,n),i||!1,e||null);if(r){var a=t.getRootNode();if(pn(a,u))return r(u),u;var s=setInterval((function(){pn(a,u)&&(clearInterval(s),r(u))}),4)}return u}function vn(t,n,r){if(n[r])return n[r];var i=t.querySelector("style[".concat(r,"], link[").concat(r,"]"));return i?(n[r]=i,i):null}function pn(t,n){for(var r=t.styleSheets,i=0;i<r.length;i++)if(r[i].ownerNode==n)return!0;return!1}function dn(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mn(t,n,r){return n&&dn(t.prototype,n),r&&dn(t,r),t}new RegExp("-shadowcsscontext","gim");var gn=function(){function t(t){this.fv=t.document.implementation.createHTMLDocument(""),this.fv.open(),this.Iu=Tt(t),this.lv=this.vv.bind(this),this.dv=null,this.mv=null,this.pv=null,this.bv=!1,this.gv=nt(),this.yv=!1,this.wv=null}var n=t.prototype;return n.onBody=function(t){this.dv=t},n.onBodyChunk=function(t){this.mv=t},n.onEnd=function(t){this.pv=t},n.write=function(t){if(this.yv)throw new Error("closed already");return t&&this.fv.write(t),this._e(),this.gv},n.close=function(){return this.fv.close(),this.yv=!0,this._e(),this.gv},n.abort=function(t){throw new Error("Not implemented")},n.releaseLock=function(){throw new Error("Not implemented")},n._e=function(){g(this.dv&&this.mv&&this.pv),this.bv||(this.bv=!0,this.Iu.mutate(this.lv))},n.vv=function(){if(this.bv=!1,!this.wv&&this.fv.body&&(this.wv=this.dv(this.fv)),this.wv){var t=this.fv.body,n=g(this.wv),r=0;for(yn(t);t.firstChild;)r++,n.appendChild(t.firstChild);r>0&&this.mv()}this.yv&&this.pv()},mn(t,[{key:"closed",get:function(){throw new Error("Not implemented")}},{key:"desiredSize",get:function(){throw new Error("Not implemented")}},{key:"ready",get:function(){throw new Error("Not implemented")}}]),t}(),bn=function(){function t(t){this.Av=[],this.Iu=Tt(t),this.dv=null,this.mv=null,this.pv=null,this.gv=nt(),this.yv=!1}var n=t.prototype;return n.onBody=function(t){this.dv=t},n.onBodyChunk=function(t){this.mv=t},n.onEnd=function(t){this.pv=t},n.write=function(t){if(g(this.dv&&this.mv&&this.pv),this.yv)throw new Error("closed already");return t&&this.Av.push(t),this.gv},n.close=function(){var t=this;return g(this.dv&&this.mv&&this.pv),this.yv=!0,this.Iu.mutate((function(){return t.Of()})),this.gv},n.abort=function(t){throw new Error("Not implemented")},n.releaseLock=function(){throw new Error("Not implemented")},n.Of=function(){var t=this.Av.join(""),n=(new DOMParser).parseFromString(t,"text/html");if(n.body){var r=n.body,i=this.dv(n),e=0;for(yn(r);r.firstChild;)e++,i.appendChild(r.firstChild);e>0&&this.mv()}this.pv()},mn(t,[{key:"closed",get:function(){throw new Error("Not implemented")}},{key:"desiredSize",get:function(){throw new Error("Not implemented")}},{key:"ready",get:function(){throw new Error("Not implemented")}}]),t}();function yn(t){I(O(t,"noscript"),(function(t){P(t)}))}var wn,xn=/[^\.\-\_0-9a-zA-Z]/,Sn=/[^\-\_0-9a-zA-Z]/;function Rn(t,n,r){var i,e,o=t.ownerDocument;if(rn())i=o.importNode(n,r);else{"block",e=(i=o.createElement("amp-body")).style,g(!0),g(!e.display),e.display="block";for(var u=0;u<n.attributes.length;u++)i.setAttribute(n.attributes[0].name,n.attributes[0].value);if(r)for(var a=n.firstChild;a;a=a.nextSibling)i.appendChild(o.importNode(a,!0))}Wt(i,"position","relative");var s=t.body;return s&&t.removeChild(s),t.appendChild(i),Object.defineProperty(t,"body",{configurable:!0,value:i}),i}function En(t){return t.replace(/(html|body)/g,jn)}function jn(t,n,r,i){var e=i.charAt(r-1),o=i.charAt(r+t.length);return e&&!xn.test(e)||o&&!Sn.test(o)?t:"amp-"+t}function On(t,n){var r=t.createElement("style");r.textContent=n;try{return(t.head||t.documentElement).appendChild(r),r.sheet?r.sheet.cssRules:null}finally{r.parentNode&&r.parentNode.removeChild(r)}}var kn="multidoc-manager",Pn=function(){function n(t,n,r,i){this.win=t,this.ll=n,this.Zl=r,this.js=i,this.Ev=[]}var r=n.prototype;return r.xv=function(n,r,i,e){var u=this;i=i||Object.create(null),this.Ov(),Wt(n,"visibility","hidden");var a=function(t){var n,r=y(t),i=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(i)return i.innerHTML="",i;var e,o=on();if("v1"==o?(n=t.attachShadow({mode:"open"})).styleSheets||Object.defineProperty(n,"styleSheets",{get:function(){var t=[];return I(n.childNodes,(function(n){"STYLE"===n.tagName&&t.push(n.sheet)})),t}}):n="v0"==o?t.createShadowRoot():function(t){var n=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");var r=n.createElement("style");r.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(r);var i=n.createElement("i-amphtml-shadow-root");return t.appendChild(i),t.__AMP_SHADOW_ROOT=i,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:i}),i.host=t,i.getElementById=function(t){var n=String(t).replace(x,S);return i.querySelector("#".concat(n))},Object.defineProperty(i,"styleSheets",{get:function(){return n.styleSheets?(t=n.styleSheets,t?Array.prototype.slice.call(t):[]).filter((function(t){return i.contains(t.ownerNode)})):[];var t}}),i}(t),!rn()){var u="i-amphtml-sd-".concat(r.Math.floor(1e4*r.Math.random()));n.id=u,n.host.classList.add(u),e=function(t){return function(t,n){return function(t,n){var r=Q(t.id),i=t.ownerDocument,e=null;try{e=On(i.implementation.createHTMLDocument(""),n)}catch(t){}if(!e)try{e=On(i,n)}catch(t){}return e?un.scopeRules.call(un,e,".".concat(r),En):n}(t,n)}(n,t)},n.__AMP_CSS_TR=e}return n}(n);a.AMP&&(J().warn(kn,"Shadow doc wasn't previously closed"),this.Tv(a));var s={};a.AMP=s,s.url=r;var c=Ct(r).origin,f=this.ll.installShadowDoc(r,a,{params:i});s.ampdoc=f,Y().fine(kn,"Attach to shadow root:",a,f),hn(f,t.combinedCss,null,!0),t.installAmpdocServices(f);var l,v,p=Pt(f);return s.setVisibilityState=function(t){f.overrideVisibilityState(t)},s.postMessage=p.receiveMessage.bind(p),s.onMessage=function(t){l=t},p.setMessageDeliverer((function(t,n,r){var i;return"broadcast"==t?(u.Iv(n,a),r?nt():void 0):null===(i=l)||void 0===i?void 0:i(t,n,r)}),c),s.close=function(){return u.Tv(a)},(v=self,v.__AMP_MODE?v.__AMP_MODE:v.__AMP_MODE=function(t){return{localDev:!1,development:Z(t,M(t)),esm:!1,test:!1,rtvVersion:V(t)}}(v)).development&&(s.toggleRuntime=p.toggleRuntime.bind(p),s.resources=et(f,"resources")),s.getState=function(t){return jt(a).then((function(n){return n?n.getState(t):Promise.reject("amp-bind is not available in this document")}))},s.setState=function(t){return jt(a).then((function(n){return n?"string"==typeof t?n.setStateWithExpression(t,{}):h(t)||o(t)?n.setStateWithObject(t):Promise.reject("Invalid state"):Promise.reject("amp-bind is not available in this document")}))},e(s,a,f).then((function(){f.setReady(),f.signals().signal(tn),Wt(n,"visibility","visible")})),this.Ev.includes(a)||this.Ev.push(a),Y().fine(kn,"Shadow root initialization is done:",a,f),s},r.attachShadowDoc=function(t,n,r,i){var e=this;return J().assertString(r),Y().fine(kn,"Attach shadow doc:",n),this.xv(t,r,i,(function(r,i,o){if(e.Pv(o,i,n),n.body){var u=Rn(i,n.body,!0);u.classList.add("amp-shadow"),o.setBody(u)}return setTimeout((function(){o.signals().signal(tn),Wt(t,"visibility","visible")}),50),nt()}))},r.attachShadowDocAsStream=function(t,n,r){var i=this;return J().assertString(n),Y().fine(kn,"Attach shadow doc as stream"),this.xv(t,n,r,(function(n,r,e){var o,u=!1,a=function(t){return void 0===wn&&(wn=function(t){return!(!t.document.implementation||"function"!=typeof t.document.implementation.createHTMLDocument||(n=t,it(n,"platform")).isFirefox());var n}(t)),wn}(o=i.win)?new gn(o):new bn(o);return n.writer=a,a.onBody((function(t){i.Pv(e,r,t);var n=Rn(r,t.body,!1);return n.classList.add("amp-shadow"),e.setBody(n),n})),a.onBodyChunk((function(){u||(u=!0,setTimeout((function(){e.signals().signal(tn),Wt(t,"visibility","visible")}),50))})),new Promise((function(t){a.onEnd((function(){t(),n.writer=null}))}))}))},r.Pv=function(t,n,r){if(r.head){n.AMP.head=r.head;for(var i={},e=O(this.win.document.head,"link"),o=0;o<e.length;o++){var u=e[o].getAttribute("href");u&&(i[u]=!0)}for(var a=r.head.firstElementChild;a;a=a.nextElementSibling){var s=a.tagName,c=a.getAttribute("name"),f=a.getAttribute("rel");switch(s){case"TITLE":n.AMP.title=a.textContent,Y().fine(kn,"- set title: ",n.AMP.title);break;case"META":a.hasAttribute("charset")||"viewport"==c||(c?t.setMetaByName(c,a.getAttribute("content")||""):Y().warn(kn,"meta ignored: ",a));break;case"LINK":var l=a.getAttribute("href");if("canonical"==f)n.AMP.canonicalUrl=l,Y().fine(kn,"- set canonical: ",n.AMP.canonicalUrl);else if("stylesheet"==f)if(i[l])Y().fine(kn,"- stylesheet already included: ",l),hn(t,'@import "'.concat(l,'"'),null,!1);else{i[l]=!0;var h=this.win.document.createElement("link");h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("href",l),this.win.document.head.appendChild(h),Y().fine(kn,"- import font to parent: ",l,h)}else Y().fine(kn,"- ignore link rel=",f);break;case"STYLE":a.hasAttribute("amp-boilerplate")?Y().fine(kn,"- ignore boilerplate style: ",a):a.hasAttribute("amp-custom")?(hn(t,a.textContent,null,!1,"amp-custom"),Y().fine(kn,"- import style: ",a)):a.hasAttribute("amp-keyframes")&&(hn(t,a.textContent,null,!1,"amp-keyframes"),Y().fine(kn,"- import style: ",a));break;case"SCRIPT":if(a.hasAttribute("src")){Y().fine(kn,"- src script: ",a);var v=a.getAttribute("src"),p=bt(v),d=a.getAttribute("custom-element"),m=a.getAttribute("custom-template"),g=d||m;p?g?this.Zl.installExtensionForDoc(t,g,p.extensionVersion):a.hasAttribute("data-amp-report-test")||J().error(kn,"- unknown script: ",a,v):Y().fine(kn,"- ignore runtime script: ",v)}else-1==(a.getAttribute("type")||"application/javascript").indexOf("javascript")?(n.appendChild(this.win.document.importNode(a,!0)),Y().fine(kn,"- non-src script: ",a)):a.hasAttribute("amp-onerror")||J().error(kn,"- unallowed inline javascript: ",a);break;case"NOSCRIPT":break;default:J().error(kn,"- UNKNOWN head element:",a)}}}t.setExtensionsKnown()},r.Iv=function(t,n){var r=this;this.Ov(),this.Ev.forEach((function(i){if(i!=n){var e=Pt(i.AMP.ampdoc);r.js.delay((function(){e.receiveMessage("broadcast",t,!1)}),0)}}))},r.Tv=function(t){this.Sv(t);var n=t.AMP;delete t.AMP;var r=n.ampdoc;return r.overrideVisibilityState("inactive"),function(t){!function(t){var n=ht(t),r=function(t){if(!Object.prototype.hasOwnProperty.call(n,t))return"continue";var r=n[t];if(r.sharedInstance)return"continue";r.obj?pt(t,r.obj):r.promise&&r.promise.then((function(n){return pt(t,n)}))};for(var i in n)r(i)}(t)}(r),this.js.timeoutPromise(15,new this.win.Promise((function(t){at(r,"resources").then((function(n){n?n.onNextPass(t):t()}))})),"Timeout reached waiting for visibility state change callback").catch((function(t){J().info(kn,t)}))},r.Sv=function(t){var n=this.Ev.indexOf(t);-1!=n&&this.Ev.splice(n,1)},r.Mv=function(t){var n=this;this.js.delay((function(){n.Tv(t)}),0)},r.Ov=function(){var t=this;this.Ev.forEach((function(n){n.host&&function(t){var n=t.isConnected;if(void 0!==n)return n;for(var r=t;(r=A(r)).host;)r=r.host;return r.nodeType===Node.DOCUMENT_NODE}(n.host)||(J().warn(kn,"Shadow doc wasn't previously closed"),t.Sv(n),t.Mv(n))}))},n}(),Tn="amp-next-page",An=function(){function t(){this.t=null,this.Gn=null,this.Sr=null,this.IN=null,this.Kht,this.gut=null,this.Aa=null,this.Rut=null,this.Qht=0,this.tvt=!1,this.aE=null,this.Tu=null,this.hr=null,this.nvt=[],this.rvt=null,this.ivt=function(){},this.UR=null,this.i="",this.wu=null}var n=t.prototype;return n.isActive=function(){return null!==this.IN},n.register=function(t,n,r){var i,e,o,u=this;if(!this.isActive()){var a=st(t),s=a.win;this.IN=n,this.t=s,this.gut=r||this.evt(),this.Gn=t,this.Sr=It(s),this.IN.hideSelectors&&(this.Kht=this.IN.hideSelectors.join(",")),this.aE=et(a,"navigation"),this.Tu=At(a),this.Aa=et(a,"mutator"),this.Rut=new Pn(s,St(s),function(t){return it(t,"extensions")}(s),ft(s,"timer")),this.UR=kt(this.Gn),this.i=this.UR.parse(a.getUrl()).origin,this.wu=function(t){return et(t,"history")}(a),i="position-observer",e=Yt,function(t,n,r,i,e,o){var u=ht(t),a=u[r];a||(a=u[r]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),a.ctor||(a.ctor=i,a.context=n,a.sharedInstance=!1,a.resolve&&ft(t,r))}(ct(o=st(a)),o,i,e),this.hr=function(t){return et(t,"position-observer")}(t);var c=function(t){return et(t,"documentInfo").get()}(a).canonicalUrl,f=In(s.document.location.href,s.document.title,c),l={ampdoc:a,url:s.document.location.href,title:s.document.title,canonicalUrl:c};f.amp=l,this.nvt.push(f),this.rvt=this.nvt[0],this.Tu.onScroll((function(){return u.om()})),this.Tu.onResize((function(){return u.om()})),this.om()}},n.setAppendPageHandler=function(t){this.ivt=t},n.xv=function(t,n){if(this.Kht)for(var r=n.querySelectorAll(this.Kht),i=0;i<r.length;i++)r[i].classList.add("i-amphtml-next-page-hidden");for(var e=n.querySelectorAll("amp-analytics"),o=0;o<e.length;o++)P(e[o]);var u=this.Rut.attachShadowDoc(t,n,"",{visibilityState:"prerender"}),a=Q(u.ampdoc);return hn(a,Qt,null,!1,Tn),a.getBody().classList.add("i-amphtml-next-page-document"),u},n.ovt=function(){var t=this.t.document.createElement("div");return t.classList.add("i-amphtml-next-page-measurer"),t},n.evt=function(){var t=this.t.document.createElement("div");return t.classList.add("amp-next-page-default-separator"),t},n.uvt=function(){var t=this;if(this.Qht<this.IN.pages.length){var n=this.IN.pages[this.Qht],r=In(n.ampUrl);this.nvt.push(r);var i=this.t.document.createElement("div"),e=this.ovt();i.appendChild(e);var o=this.gut.cloneNode(!0);o.removeAttribute("separator"),i.appendChild(o);var u=this.avt(this.Qht);i.appendChild(u),r.recUnit.el=u;var a=this.t.document.createElement("div");i.appendChild(a);var s=this.Qht;if(this.ivt(i).then((function(){t.hr.observe(e,0,(function(n){return t.svt(s,n)})),t.hr.observe(u,0,(function(n){return t.cvt(r)}))})),this.Qht>=2)return;this.Qht++,this.Sr.fetch(n.ampUrl,{ampCors:!1}).then((function(n){return r.ampUrl=n.url,tt(t.UR.parse(n.url).origin===t.i,"ampUrl resolved to a different origin from the origin of the current document"),n.text()})).then((function(n){var r=t.t.document.implementation.createHTMLDocument("");return r.open(),r.write(n),r.close(),r})).then((function(n){return new Promise((function(e,o){r.cancelled?e():(r.recUnit.isObserving&&(t.hr.unobserve(u),r.recUnit.isObserving=!0),t.Aa.mutateElement(i,(function(){try{r.amp=t.xv(a,n),i=r.recUnit.el,void 0===(u=!1)&&(u=i.hasAttribute("hidden")),u?i.removeAttribute("hidden"):i.setAttribute("hidden",""),t.tvt=!1,e()}catch(t){o(t)}var i,u})))}))}),(function(t){return J().error(Tn,"failed to fetch %s",n.ampUrl,t)})).catch((function(t){return Y().error(Tn,"failed to attach shadow document for %s",n.ampUrl,t)})).then((function(){return t.om()}))}},n.avt=function(t){var n=this,r=this.t.document,i=t-1,e=t,o="";t>0&&(o=this.nvt[i].ampUrl);var u=r.createElement("div");u.classList.add("amp-next-page-links");for(var a=function(){var t=n.IN.pages[e];e++;var i=r.createElement("a");i.href=t.ampUrl,i.classList.add("i-amphtml-reco-holder-article","amp-next-page-link"),i.addEventListener("click",(function(r){n.s0("amp-next-page-click",t.ampUrl,o),n.aE.navigateToAmpUrl(t.ampUrl,"content-discovery")&&r.preventDefault()}));var a=r.createElement("div");a.classList.add("i-amphtml-next-article-image","amp-next-page-image"),Wt(a,"background-image","url(".concat(t.image,")")),i.appendChild(a);var s=r.createElement("div");s.classList.add("i-amphtml-next-article-title","amp-next-page-text"),s.textContent=t.title,i.appendChild(s),u.appendChild(i)};e<this.IN.pages.length&&e-t<3;)a();return u},n.om=function(){var t=this;if(!this.tvt){var n=this.Tu.getSize(),r=Vt(0,0,n.width,n.height);this.Tu.getClientRectAsync(this.Gn).then((function(i){if(!t.tvt){var e=3*n.height;i.bottom-r.bottom<e&&(t.tvt=!0,t.uvt())}}))}},n.svt=function(t,n){if(n&&null===n.positionRect){var r=this.nvt[t],i="";switch(n.relativePos){case"top":r=this.nvt[t+1],i="amp-next-page-scroll";break;case"bottom":i="amp-next-page-scroll-back"}r&&r.amp&&(this.s0(i,r.ampUrl,this.rvt.ampUrl),this.fvt(r))}},n.cvt=function(t){t.cancelled=!0,t.recUnit.isObserving&&(this.hr.unobserve(t.recUnit.el),t.recUnit.isObserving=!1)},n.fvt=function(t){var n=this;this.nvt.forEach((function(r){var i=r.amp;r===t?(n.t.document.title=i.title||"",n.rvt=r,n.lvt(r),n.hvt(r,"visible")):n.hvt(r,Gt)}))},n.hvt=function(t,n){if(t!==this.nvt[0]){var r=t.amp&&t.amp.ampdoc;r&&(r.hasBeenVisible()||n!=Gt)&&t.amp.setVisibilityState(n)}},n.lvt=function(t){var n=t.amp,r=n.canonicalUrl,i=n.title,e=this.UR.parse(t.ampUrl),o=e.pathname,u=e.search;this.wu.replace({title:i,url:o+u,canonicalUrl:r})},n.s0=function(t,n,r){var i={"toURL":n,"fromURL":r=r||""};!function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Rt(t).then((function(e){e&&e.triggerEventForTarget(t,n,r,i)}))}(this.Gn,t,i)},t}();function In(t,n,r){return{ampUrl:t,amp:n||r?{title:n,canonicalUrl:r}:null,recUnit:{el:null,isObserving:!1},cancelled:!1}}function Un(t,n,r,i){var e=function(t){return ot(t,"url-replace")}(t);return(r>=1?e.expandUrlAsync(n):Promise.resolve(n)).then((function(n){if(1===r){var o=e.collectDisallowedVarsSync(t);if(o.length>0)throw J().createError("URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. "+'Please add data-amp-replace="'.concat(o.join(" "),'" to the ')+"<".concat(t.tagName,"> element. See https://bit.ly/amp-var-subs."))}var u={};return t.hasAttribute("credentials")&&(u.credentials=t.getAttribute("credentials")),i&&(u.cache="reload"),{"xhrUrl":n,"fetchOpt":u}}))}var Nn=["GET","POST"];function _n(t,n){var r,i=_({},n);if((r=n.body)&&"function"==typeof r.getFormData){var e=n.body;i.headers["Content-Type"]="multipart/form-data;charset=utf-8",i.body=function(t){for(var n=[],r=t.next();!r.done;r=t.next())n.push(r.value);return n}(e.entries())}return{input:t,init:i}}function Ln(t,n,r){var i=function(t,n){var r,i=t||{},e=i.credentials;return g(void 0===e||"include"==e||"omit"==e),i.method=void 0===(r=i.method)?"GET":(r=r.toUpperCase(),g(Nn.includes(r)),r),i.headers=i.headers||{},i.headers.Accept=n,g(null!==i.body),i}(r,"text/html");i=function(t,n,r){r=r||{};var i=function(t){return t.origin||Ct(t.location.href).origin}(t);return i==Ct(n).origin&&(r.headers=r.headers||{},r.headers["AMP-Same-Origin"]="true"),r}(t,n,i),n=function(t,n,r){return g("string"==typeof n),!1!==r.ampCors&&(n=function(t,n){return function(t){var n=$(Ct(t).search);tt(!(_t in n),"Source origin is not allowed in %s",t)}(n),function(t,n,r,i){return function(t,n,r){if(!n)return t;var i=t.split("#",2),e=i[0].split("?",2);return e[0]+(e[1]?"?".concat(e[1],"&").concat(n):"?".concat(n))+(i[1]?"#".concat(i[1]):"")}(t,function(t,n){return"".concat(encodeURIComponent("__amp_source_origin"),"=").concat(encodeURIComponent(n))}(0,r))}(n,0,Ht(t.location.href))}(t,n)),n}(t,n,i);var e=St(t),a=e.isSingleDoc()?e.getSingleDoc():null;return i.responseType="document",function(t,n,r,i){if(!n)return nt();var e=i.prerenderSafe?nt():n.whenFirstVisible(),a=Pt(n),s=zt(r),c=a.hasCapability("xhrInterceptor"),f=i.bypassInterceptorForDev&&!1;return s||!c||f?e:n.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?e.then((function(){return a.isTrustedViewer()})).then((function(n){if(n||gt(t,"untrusted-xhr-interception")){var e={"originalRequest":_n(r,i)};return a.sendMessageAwaitResponse("xhr",e).then((function(t){return function(t,n){if(function(t,n){var r,i,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(n)return n;t&&-1==e.indexOf(t)&&(e+=t);for(var o=3,a=e.split("%s"),s=a.shift(),c=[s];a.length;){var f=arguments[o++],l=a.shift();s+=m(f)+l,c.push(f,l.trim())}var h=new Error(s);throw h.messageArray=u(c,(function(t){return""!==t})),null===(r=(i=self).__AMP_REPORT_ERROR)||void 0===r||r.call(i,h),h}("âââ",h(t),"Object expected: %s",t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),"document"!=n)return new Response(t.body,t.init);var r=v(),i={status:200,statusText:"OK",getResponseHeader:function(t){return r[String(t).toLowerCase()]||null}};if(t.init){var e=t.init;o(e.headers)&&e.headers.forEach((function(t){var n=t[0],i=t[1];r[String(n).toLowerCase()]=String(i)})),e.status&&(i.status=parseInt(e.status,10)),e.statusText&&(i.statusText=String(e.statusText))}return new Response(t.body?String(t.body):"",i)}(t,i.responseType)}))}})):e}(t,a,n,i).then((function(t){return t?t.text().then((function(t){return(new DOMParser).parseFromString(t,"text/html")})):function(t,n){return new Promise((function(r,i){var e=new XMLHttpRequest;for(var o in e.open(n.method||"GET",t,!0),e.withCredentials="include"==n.credentials,e.responseType="document",n.headers)e.setRequestHeader(o,n.headers[o]);e.onreadystatechange=function(){if(!(e.readyState<2)){if(e.status<100||e.status>599)return e.onreadystatechange=null,void i(J().createExpectedError("Unknown HTTP status ".concat(e.status)));if(4==e.readyState){var t={status:e.status,statusText:e.statusText,headers:(u=e.getAllResponseHeaders(),a={},u.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();a[r]=i}})),a)},n=(o=new Response("",t),new Promise((function(t){if(o.ok)return t(o);var n=o.status,r=J().createError("HTTP error ".concat(n));throw r.retriable=function(t){return 415==t||t>=500&&t<600}(n),r.response=o,r}))).then((function(t){return{response:t,xhr:e}}));r(n)}}var o,u,a},e.onerror=function(){i(J().createExpectedError("Request failure"))},e.onabort=function(){i(J().createExpectedError("Request aborted"))},"POST"==n.method?e.send(n.body):e.send()}))}(n,i).then((function(t){return t.xhr.responseXML}))}))}var Cn="amp-next-page",$n="next-page",Mn=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&n(t,r)}(s,t);var i,u,a=(i=s,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=r(i);if(u){var o=r(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return e(this,t)});function s(){return a.apply(this,arguments)}var c=s.prototype;return c.isLayoutSupported=function(t){return"container"==t},c.buildCallback=function(){var t=this;tt(gt(this.win,"amp-next-page"),"Experiment amp-next-page disabled");var n,r=(n=this.element,E("separator"),j(n,"> [".concat("separator","]")));tt(r.length<=1,"%s should contain at most one <div separator> child",Cn);var i,e=null;return 1===r.length&&P(e=r[0]),(i=this.getAmpDoc(),ut(i,$n)).then((function(n){if(!n.isActive()){var r=t.element;r.classList.add("i-amphtml-next-page");var i=r.hasAttribute("deep-parsing")?"deep-parsing":r.hasAttribute("xssi-prefix")?"xssi-prefix":r.hasAttribute("max-pages")?"max-pages":null;i&&t.vvt(i);var o,u=r.getAttribute("src"),a=Promise.resolve([]),s=r.getAttribute("type");if(s){tt("adsense"===s,"".concat(Cn," only supports type=adsense"));var c=r.getAttribute("data-client"),f=r.getAttribute("data-slot");tt(/^ca-pub-\d+$/.test(c),"".concat(Cn," AdSense client should be of the format 'ca-pub-123456'")),tt(/^\d+$/.test(f),"".concat(Cn," AdSense slot should be a number"));var l=t.getConsentPolicy(),h=l?function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return Ot(t).then((function(t){return t?t.whenPolicyResolved(n):null}))}(r,l).catch((function(t){return J().error(Cn,"Error determining consent state",t),4})):Promise.resolve(1);a=h.then((function(n){return t.pvt(c,f,1===n||3===n)})).catch((function(t){return J().warn(Cn,"error fetching recommendations from AdSense",t),[]}))}var v=t.HC();return o=u?t.dvt().catch((function(t){return J().error(Cn,"error fetching config",t)})):Promise.resolve(v),v&&(u||s)&&t.vvt("mixing configuration types"),tt(v||u||s,"%s should contain a <script> child, a URL specified in [src], or a [type]",Cn),Promise.all([o,a]).then((function(r){var i=r[0]||{},o=r[1]||[];i.pages=o.concat(i.pages||[]),t.FA(n,i,e)}))}}))},c.HC=function(){var t=O(this.element,"SCRIPT");if(!t.length)return null;tt(1===t.length,"".concat(Cn," should contain at most one <script> child"));var n,r,i=t[0];return tt("SCRIPT"==(n=i).tagName&&"APPLICATION/JSON"==(null===(r=n.getAttribute("type"))||void 0===r?void 0:r.toUpperCase()),"".concat(Cn," config should ")+'be inside a <script> tag with type="application/json"'),function(t,n){try{return b(t)}catch(t){return null==n||n(t),null}}(i.textContent,(function(t){J().error(Cn,"failed to parse config",t)}))},c.pvt=function(t,n,r){var i=this,e="".concat("https://googleads.g.doubleclick.net/pagead/ads","?client=").concat(t,"&slotname=").concat(n)+"&url=".concat(encodeURIComponent(this.getAmpDoc().getUrl()))+"&ecr=1&crui=title&is_amp=3&output=xml";return Ln(this.win,e,{credentials:r?"include":"omit"}).then((function(t){for(var n,r=kt(i.element),e=r.parse(i.getAmpDoc().getUrl()).origin,o=[],u=t.getElementsByTagName("AD"),a=0;a<u.length;a++){var s=u[a],c=k(s,"LINE1"),f=k(s,"MEDIA_TEMPLATE_DATA"),l=s.getAttribute("visible_url"),h=s.getAttribute("url"),v=((n=c)&&n.textContent||"").trim(),p=zn(f);r.parse(l).origin===e&&h&&v&&p&&o.push({title:v,image:p,ampUrl:h})}return o}))},c.FA=function(t,n,r){var i=this,e=this.element,u=function(t,n,r){return tt(n,"amp-next-page config must be specified"),tt(o(n.pages),"pages must be an array"),function(t,n,r){n.forEach((function(n){return function(t,n,r){J().assertString(n.ampUrl,"ampUrl must be a string");var i,e,o=Dt(r);n.ampUrl=(i=n.ampUrl,e=Lt(e=o),"function"==typeof URL?new URL(i,e.href).toString():function(t,n){n=Lt(n);var r=Ct(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(r.protocol)?r.href:t.startsWith("//")?n.protocol+t:t.startsWith("/")?n.origin+t:n.origin+n.pathname.replace(/\/[^/]*$/,"/")+t}(i,e));var u=kt(t),a=u.parse(n.ampUrl),s=u.parse(r).origin,c=Ht(r);tt(a.origin===s||a.origin===c||function(t,n,r){var i=n.search.match(/adurl=(.*)(?:&|$)/);if(!i)return!1;var e=kt(t).parse(i[1]);return"https://googleads.g.doubleclick.net"===n.origin&&e.origin===r}(t,a,s),"pages must be from the same origin as the current document"),J().assertString(n.image,"image must be a string"),J().assertString(n.title,"title must be a string"),c!==s&&a.origin===c&&(n.ampUrl="".concat(s,"/c/")+("https:"===a.protocol?"s/":"")+encodeURIComponent(a.host)+a.pathname+(a.search||"")+(a.hash||""))}(t,n,r)}))}(t,n.pages,r),"hideSelectors"in n&&(tt(o(n.hideSelectors),"amp-next-page hideSelectors should be an array"),n.hideSelectors.forEach((function(t){qt.forEach((function(n){J().assertString(t,"amp-next-page hideSelector value should be a string"),tt(!n.test(t),"amp-next-page hideSelector %s not allowed",t)}))}))),n}(e,n,this.getAmpDoc().getUrl());t.register(e,u,r),t.setAppendPageHandler((function(t){return i.mvt(t)}))},c.mvt=function(t){var n=this;return this.mutateElement((function(){return n.element.appendChild(t)}))},c.dvt=function(){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.expr,e=void 0===i?".":i,o=r.urlReplacement,u=void 0===o?0:o,a=r.refresh,s=void 0!==a&&a,c=r.xssiPrefix,f=void 0===c?void 0:c,l=r.url,h=void 0===l?n.getAttribute("src"):l;Mt(h,n);var v=Et(t.win);return Un(n,h,u,s).then((function(t){return v.fetchJson(t.xhrUrl,t.fetchOpt)})).then((function(n){return It(t.win).xssiJson(n,f)})).then((function(t){if(null==t)throw new Error("Response is undefined.");return d(t,e||".")})).catch((function(t){throw J().createError("failed fetching JSON data",t)}))}(this.getAmpDoc(),this.element,{urlReplacement:2})},c.vvt=function(t){J().warn(Cn,"".concat(t," is a feature of ").concat(Cn," 1.0, please update your version to use it"))},s}(t.BaseElement);function zn(t){try{return b(t.textContent.trim().slice(0,-1))[0].core_image_url}catch(t){return""}}var Dn=new An;t.registerServiceForDoc($n,(function(){return Dn})),t.registerElement(Cn,Mn,Qt)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-next-page-0.1.js.map