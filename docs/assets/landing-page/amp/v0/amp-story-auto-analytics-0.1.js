;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-story-auto-analytics",ev:"0.1",l:!0,f:function(t,e){!function(){function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}Array.isArray;var i,u=Object.prototype;function a(t,e,n,r,o,i,u,a,c,s,f){return t}function c(t){return function(t,e){a(1===e.length),t.innerHTML=e[0];var n=t.firstElementChild;return a(n),a(!n.nextElementSibling),t.removeChild(n),n}(i,t)}u.hasOwnProperty,u.toString;var s=self.AMP_CONFIG||{},f=("string"==typeof s.thirdPartyFrameRegex?new RegExp(s.thirdPartyFrameRegex):s.thirdPartyFrameRegex,("string"==typeof s.cdnProxyRegex?new RegExp(s.cdnProxyRegex):s.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function l(t){if(!self.document||!self.document.head)return null;if(self.location&&f.test(self.location.origin))return null;var e=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return e&&e.getAttribute("content")||null}function y(t,e,n,r,o,i,u,a,c,s,f){return t}s.thirdPartyUrl,s.thirdPartyFrameHost,s.cdnUrl||l("runtime-host"),s.errorReportingUrl,s.betaErrorReportingUrl,s.localDev,s.geoApiUrl||l("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var p=function(t){return function(t,e){return function(t,e){y(function(t,e){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}(t,e));var n=function(t){var e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}(t)[e];return n.obj||(y(n.ctor),y(n.context),n.obj=new n.ctor(n.context),y(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),e)}(t,"extensions")},v=["<amp-analytics data-credentials=include type=gtag><script type=application/json><\/script></amp-analytics>"],b=function(t){var e,n;return(n=(e=t).ownerDocument||e,i&&i.ownerDocument===n||(i=n.createElement("div")),c)(v)},g=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(a,t);var r,i,u=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=n(r);if(i){var u=n(this).constructor;t=Reflect.construct(e,arguments,u)}else t=e.apply(this,arguments);return o(this,t)});function a(t){return u.call(this,t)}var c=a.prototype;return c.buildCallback=function(){p(this.win).installExtensionForDoc(this.getAmpDoc(),"amp-analytics");var t,e,n,r,o=b(this.element),i=o.querySelector("script"),u={"vars":{"gtag_id":t=y(this.element.getAttribute("gtag-id")),"config":(e={},n=t,r={"groups":"default"},n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e)},"triggers":{"storyPageCount":{"on":"story-content-loaded","vars":{"event_name":"custom","event_action":"story_page_count","event_category":"${title}","event_label":"${storyPageCount}","send_to":[t]},"storySpec":{"repeat":!1}},"storyEnd":{"on":"story-last-page-visible","vars":{"event_name":"custom","event_action":"story_complete","event_category":"${title}","event_label":"${title}","send_to":[t]},"storySpec":{"repeat":!1}},"storyPageIndex":{"on":"story-page-visible","vars":{"event_name":"custom","event_action":"story_pages_viewed","event_category":"${title}","event_label":"${storyPageIndex}","send_to":[t]},"storySpec":{"repeat":!1}}}};i.textContent=JSON.stringify(u),this.element.appendChild(o)},c.isLayoutSupported=function(t){return!0},a}(t.BaseElement);t.registerElement("amp-story-auto-analytics",g)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-story-auto-analytics-0.1.js.map