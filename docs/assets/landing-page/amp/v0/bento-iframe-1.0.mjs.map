{"version":3,"file":"bento-iframe-1.0.mjs","mappings":"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","names":["PreactBaseElement","obj","key","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","propertyNameCache","hasOwnProperty","hasOwn_","toString","toString_","prototype","vendorPrefixes","element","property","opt_units","opt_bypassCache","propertyName","style","camelCase","startsWith","create","undefined","titleCase","charAt","toUpperCase","slice","camelCaseToTitleCase","prefixedPropertyName","getVendorJsPropertyName_","getVendorJsPropertyName","styleValue","setProperty","hyphenated","replace","match","toLowerCase","some","prefix","camelCaseToHyphenCase","node","ownerDocument","defaultView","createElement","useCallback3","ContainWrapper","ioCallback","win","opts","needsRootBounds","rootMargin","threshold","root","parent","isIframed","document","IntersectionObserver","viewportObservers","WeakMap","viewportCallbacks","entries","seen","Set","entry","has","add","callbacks","get","k","callback","useCallback","useCallback2","useAmpContext","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","DEFAULT_THRESHOLD","time","rootBounds","boundingClientRect","intersectionRect","intersectionRatio","Date","now","NOOP","BaseElement","allowFullScreen","allowPaymentRequest","iframeStyle","onLoad","referrerPolicy","requestResize","sandbox","src","srcdoc","_ref","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","iframeRef","useRef","dataRef","isIntersectingRef","containerRef","observerRef","targetOriginRef","viewabilityCb","iframe","current","targetOrigin","type","opt_is3P","targets","contentWindow","payload","postMessage","postMessageToWindows","changes","map","cloneEntryForCrossOrigin","handleSendIntersectionsPostMessage","event","data","getWin","observe","useEffect","addEventListener","observer","_observer","unobserve","removeEventListener","attemptResize","height","Number","_dataRef$current","width","_dataRef$current2","console","error","offsetHeight","offsetWidth","container","setStyle","updateContainerSize","handleEmbedSizePostMessage","measureRef","ioOptions","unobserveRef","cleanup","viewportObserver","set","createViewportObserver","array","item","index","splice","removeItem","delete","unobserveIntersections","observeIntersections","useIntersectionObserver","isIntersecting","contentProps","useMemo","frameBorder","_objectSpread2","contentAs","contentRef","refs","ref","contentStyle","size","layout","paint","attr","defineBentoElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["extensions/amp-iframe/1.0/base-element.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/object/index.js","src/core/dom/style.js","src/core/window/index.js","extensions/amp-iframe/1.0/component.js","src/core/dom/layout/viewport-observer.js","src/core/dom/index.js","src/preact/component/intersection-observer.js","src/preact/utils.js","src/config.js","src/utils/log.js","src/url.js","src/utils/intersection-observer-3p-host.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","src/iframe-helper.js","src/core/3p-frame-messaging.js","src/core/types/array.js","extensions/amp-iframe/1.0/build/bento-iframe.js"]}
