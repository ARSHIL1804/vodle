{"version":3,"file":"amp-fx-flying-carpet-0.1.js","mappings":";uHACA,IAAIA,ECDW,WAAyBC,EAAGC,GAMzC,OALAC,EAAkBC,OAAOC,gBAAkB,SAAyBJ,EAAGC,GAErE,OADAD,EAAEK,UAAYJ,EACPD,IAGcA,EAAGC,GCNb,WAAyBD,GAItC,OAHAM,EAAkBH,OAAOC,eAAiBD,OAAOI,eAAiB,SAAyBP,GACzF,OAAOA,EAAEK,WAAaF,OAAOI,eAAeP,KAEvBA,GCJV,WAAiBQ,GAa9B,OATEC,EADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAiBH,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAXE,QAAyBF,EAAII,cAAgBF,QAAUF,IAAQE,OAAOG,UAAY,gBAAkBL,IAI9GA,GCXF,WAAoCM,EAAMC,GACvD,GAAIA,IAA2B,WAAlBN,EAAQM,IAAsC,mBAATA,GAChD,OAAOA,UACW,IAATA,EACT,MAAM,IAAIC,UAAU,4DAGtB,OCTa,SAAgCF,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIG,eAAe,6DAG3B,OAAOH,EDIAI,CAAsBJ,GEMNK,MAAXC,QCdd,ICKIC,EDLJC,EAAuDnB,OAAOU,UEuWvD,WAAiCU,GACtC,MC7JmB,iBDiLMC,EApBHD,GAwBpBE,EAAUD,EErXsC,IAA3CE,OADiBA,EFuXHF,QEtXd,IAAOG,YFuXZF,EAAUD,EAAcC,YAGjBA,IAAWA,EAAQG,cAAcC,WAAW,QA1BjDN,EAAKI,WAAaG,KAAKC,eAMzBR,EAAKS,aAAa,gBAClBT,EAAKS,aAAa,aAClBT,EAAKS,aAAa,aAStB,IAA2BR,EAErBC,EEpXoBC,EJV1BJ,EAAOW,eAAPX,EAAgCY,SCQhC,IAAMC,EAAiB,CAAC,SAAU,SAAU,MAAO,MAAO,KAAM,IAAK,KIFrE,IAAMC,EAAMtB,KAAKuB,YAAc,GAOzBC,GAJmC,iBAA/BF,EAAI,qBACR,IAAIG,OAAOH,EAAI,sBACfA,EAAI,sBAGwB,iBAAxBA,EAAI,cACR,IAAIG,OAAOH,EAAI,eACfA,EAAI,gBACR,uDAYF,WAAoBI,GAElB,IAAK1B,KAAK2B,WAAa3B,KAAK2B,SAASC,KACnC,OAAO,KAIT,GAAI5B,KAAK6B,UAAYL,EAAcM,KAAK9B,KAAK6B,SAASE,QACpD,OAAO,KAGT,IAAMC,EAAShC,KAAK2B,SAASC,KAAYK,cAA1B,qBACCP,EADD,OAGf,OAAQM,GAAUA,EAAOE,aAAa,YAAe,KAmBzCZ,EAAI,cACKA,EAAI,oBAGvBA,EAAI,QAAaa,EAAW,gBAO5Bb,EAAI,kBAGJA,EAAI,sBAEIA,EAAI,SAeNA,EAAI,WAAgBa,EAAW,eCuZzCnC,KAAKoC,UAAYpC,KAAKoC,WAAa,CACjCC,KAAM,KACNC,IAAK,KACLC,aAAc,MAGhB,IAAMC,EAAOxC,KAAKoC,UA+ElB,WAAuBK,GACrB,OAxCF,SAA4BC,EAAWC,GAEnC,MAAM,IAAIC,MAAM,qCAsCXC,GAsEF,WACLC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAGE,OAAOV,EAuDJ,WACLA,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,OA3KKhB,EAAKH,OACRG,EAAKH,KAAOoB,UAGEjB,EAAKH,KAAKqB,IAEtBlB,EAAKD,eACJC,EAAKD,aAAekB,KAGlBjB,EAAKH,MAiKgBsB,OAC1Bb,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GC/bG,WAAmBI,GACxB,OAAIA,EAAU/C,UC5ROJ,ED6RAmD,EAqBGF,GChTrBjD,EAAKoD,eAA0CpD,GAAOqD,YDoHpD,SAAoBJ,EAAKK,GAE9B,OAAOC,EADPN,EAyIK,SAAsBA,GAC3B,OAAOA,EAAIO,YAAcP,EAAIO,UAAYP,GA1InCQ,CAAaR,GA6LD,UAAhBS,CAAWT,IAtBkBU,UAAgCR,GAEVA,EAkBvD,IAA0BF,EClTHjD,ED+TvB,WAA4B4D,EAAQN,GAClCO,EAgSF,SAA6BD,EAAQN,GACnC,IAAMQ,EAAUF,EAAOG,gBAAkBH,EAAOG,eAAeT,GAE/D,SAAUQ,IAAWA,EAAQE,MAlS3BC,CAAoBL,EAAQN,IAG9B,IACMY,EAiIR,SAAqBN,GACnB,IAAIO,EAAWP,EAAOG,eAItB,OAHKI,IACHA,EAAWP,EAAOG,eAAiB,IAE9BI,EAvIUC,CAAYR,GACVN,GAanB,OAZKY,EAAEjF,MACL4E,EAAUK,EAAEF,MACZH,EAAUK,EAAEG,SACZH,EAAEjF,IAAM,IAAIiF,EAAEF,KAAKE,EAAEG,SACrBR,EAAUK,EAAEjF,KACZiF,EAAEG,QAAU,KAGRH,EAAEI,SACJJ,EAAEI,QAAQJ,EAAEjF,MAGTiF,EAAEjF,IE1SJ,IAAMsF,EAwTG,SAACC,GACb,OF3KG,SAA0BA,EAAiBlB,GAGhD,OAAOC,GA8GuBJ,EAhHfsB,EAAUD,IAiHnBE,EAASD,EAAUtB,IACXwB,cAAgBD,EAAOzB,IAAMyB,GAhHTpB,GA8GpC,IAAgCH,EACxBuB,EE0DFE,CAAiBJ,EAAiB,WCzW3BK,EAAb,aCZe,SAAmBC,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAItF,UAAU,sDAGtBqF,EAASxF,UAAYV,OAAOoG,OAAOD,GAAcA,EAAWzF,UAAW,CACrED,YAAa,CACXc,MAAO2E,EACPG,UAAU,EACVC,cAAc,KAGdH,GAAYlG,EAAeiG,EAAUC,GDA3CI,UEVqCC,EAC/BC,EFSNC,GEVqCF,EFUrCG,EETMF,ECJS,WACb,GAAuB,oBAAZG,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,mBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,QAAQtG,UAAUuG,QAAQrG,KAAKgG,QAAQC,UAAUG,QAAS,IAAI,iBACvD,QACAE,GACP,OAAO,GDLuBC,GACzB,WACL,IACIC,EADAC,EAAQjH,EAAeoG,GAG3B,GAAIC,EAA2B,CAC7B,IAAIa,EAAYlH,EAAemH,MAAM9G,YACrC2G,EAASR,QAAQC,UAAUQ,EAAOG,UAAWF,QAE7CF,EAASC,EAAMI,MAAMF,KAAMC,WAG7B,OAAOE,EAA0BH,KAAMH,KFDzC,WAAYO,GAAS,aACnBC,cAAMD,IASDE,GAAY,GAWjBD,EAAKE,GAAiB,EAQtBF,EAAKG,GAAa,KAGlBH,EAAKI,IAA0B,EAhCZJ,EAFvB,2BAsCEK,2BAAkBC,GAChB,MIrCY,gBJqCLA,GAvCXC,EA2CEC,4BACE,OAAO,GA5CXD,EAgDEE,yBAAgB,WACRC,EAAMf,KAAKI,QAAQnD,cACnB+D,EAAYD,EAAIE,cAAc,OAEpCjB,KAAKM,GRuKF,SAAuBY,EAAQC,GAEpC,IADA,IAAMC,EAAW,GAEXC,EAAQH,EAAOI,kBACnBD,EACAA,EAAQA,EAAME,oBAmH4BC,EAjHVH,IAC9BD,EAASK,KAAKJ,GAGlB,OAAiCD,EA6G1BM,CQ/R8B1B,KAAKI,SACxCJ,KAAKQ,GAAaQ,EAElB,IAAMW,ERyLH,SAAoBT,EAAQC,GAEjC,IADA,IAAMS,EAAQ,GACLP,EAAQH,EAAOW,WAAYR,EAAOA,EAAQA,EAAMS,aAqFnBN,EApFvBH,IACXO,EAAMH,KAAKJ,GAGf,OAAOO,EAgFAD,CQhR6B3B,KAAKI,SACvCJ,KAAKO,GAAiBP,KAAK+B,GAAkBJ,GAAYK,OAEzD,IAAMC,EAAS7D,EAAsB4B,KAAKI,SAC1CJ,KAAKM,GAAU4B,SAAQ,SAACb,GAAD,OAAWY,EAAOE,SAASd,EAAOe,EAAKhC,YAE9D,IAAMiC,EAAOtB,EAAIE,cAAc,OAC/BoB,EAAKC,aAAa,QAAS,mCAC3BtB,EAAUsB,aAAa,QAAS,wCAEhCX,EAAWO,SAAQ,SAACb,GAAD,OAAWL,EAAUuB,YAAYlB,MACpDgB,EAAKE,YAAYvB,GACjBhB,KAAKI,QAAQmC,YAAYF,GAKzBrC,KAAKwC,cAAcC,gBACjBzB,GACwB,IA1E9BJ,EAmFE8B,cACE,IAAMC,EAAY3C,KAAKI,QAAQwC,eACzBC,EAAW7C,KAAKwC,cAChBM,EAAiBD,EAASE,YAM1BC,EAA0B,IAAjBF,EACTG,EAHYJ,EAASK,kBAGiB,IAAjBJ,EAC3BK,EACER,EAAUS,KAAOJ,EACjB,uHAEAhD,KAAKI,QACLuC,EAAUS,IACVJ,GAEFG,EACER,EAAUS,KAAOH,EACjB,gHAEAjD,KAAKI,QACLuC,EAAUS,IACVH,IA5GNrC,EAiHEyC,0BACE,IAAKrD,KAAKS,GAAyB,CACjC,IACET,KAAK0C,WACE/C,GAGP,MADAK,KAAYsD,WACN3D,EAERK,KAAKS,IAA0B,EAGjC,IAAO8C,EAASvD,KAAKI,QAAQoD,gBAAtBD,MAQP,OTpBG,SAAkBnD,EAASqD,EAAUzJ,EAAO0J,EAAWC,GAC5D,IAAMC,EArDD,SAAiCC,EAAOC,EAAWH,GACxD,GAAUG,EAsQM3J,WAAW,MApQzB,OAAO2J,EAmQX,ID3TQhL,EC2DDa,ID3DCb,EAAML,OAAOoG,OAAO,MC4DxBlF,EDxDKb,GC0DP,IAAI8K,EAAejK,EAAkBmK,GACrC,IAAKF,GAAgBD,EAAiB,CAEpC,GADAC,EAAeE,OACUC,IAArBF,EAAMC,GAA0B,CAClC,IAAME,EA9DL,SAA8BF,GACnC,OAAOA,EAAUG,OAAO,GAAGC,cAAgBJ,EAAUK,MAAM,GA6DrCC,CAAqBN,GACjCO,EAlCZ,SAAkCR,EAAOG,GACvC,QAASM,EAAI,EAAGA,EAAI7J,EAAeuH,OAAQsC,IAAK,CAC9C,IAAMV,EAAenJ,EAAe6J,GAAKN,EACzC,QAA4BD,IAAxBF,EAAMD,GACR,OAAOA,EAGX,MAAO,GA2B0BW,CAAyBV,EAAOG,QAEzBD,IAAhCF,EAAMQ,KACRT,EAAeS,GAGdV,IACHhK,EAAkBmK,GAAaF,GAGnC,OAAOA,EA6BcY,CACnBpE,EAAQyD,MACRJ,EACAE,GAEF,GAAKC,EAAL,CAGA,IArGMa,EAqGAC,EAAahB,EAAY1J,EAAQ0J,EAAY1J,EACnDoG,EAAQyD,MAAMc,aAtGRF,EAsG0Cb,EAtGnBgB,QAC3B,UACA,SAACC,GAAD,MAAW,IAAMA,EAAM3K,iBAIrBO,EAAeqK,MAAK,SAACC,GAAD,OAAYN,EAAWtK,WAAW4K,EAAS,QACjE,WAAWN,GAENA,GA6FwDC,ISG7DM,CAAShF,KAAKQ,GAAY,QAAS+C,EAAO,MAC1CnF,EAAsB4B,KAAKI,SAAS6E,eAClCjF,KAAKI,QACLJ,KAAKM,IAEPN,KAAKkF,KACLlF,KAAKmF,KjBtIH9M,IAOJA,EAAW+M,QAAQjH,aAAQ4F,KiBL7BnD,EA4IEuE,cAAiB,WACF,IAAInF,KAAKlD,IAAIuI,sBACxB,SAACC,GACC,IAAMC,EAAOD,EAAQA,EAAQtD,OAAS,GACtCwD,EAAKhF,GAAWiF,UAAUC,OACxB,2CACAH,EAAKI,kBAGT,CAACC,UAAW,MAETC,QAAQ7F,KAAKI,UAvJtBQ,EA+JEsE,cAAsB,WACH,IAAIY,kBAAiB,SAACC,GACrC,QAASzB,EAAI,EAAGA,EAAIyB,EAAQ/D,OAAQsC,IAAK,CACvC,IAAO0B,EAAcD,EAAQzB,GAAtB0B,WACP,GAAKA,EAGL,QAASC,EAAI,EAAGA,EAAID,EAAWhE,OAAQiE,IAAK,CAC1C,IAAMpM,EAAOmM,EAAWC,GACnBpM,EAAKqM,SAGVrM,EACGqM,UACAC,WKxKJ,SLyKIC,KAAKC,EAAKC,GAAkBC,KAAKF,EAAMxM,SAIvCgM,QAAQ7F,KAAKI,QAAS,CAC7BoG,WAAW,EACXC,SAAS,KApLf7F,EA+LE0F,YAAkBzM,GAChB,IAAMwH,EAA4BxH,EAC9BwH,EAAMqF,aAAe1G,KAAKI,SAC5BhC,EAAsB4B,KAAKI,SAAS6E,eAAejF,KAAKI,QAASiB,IAlMvET,EAuME+F,2BAAkBtF,GAChB,IAAMuF,EAAQ5G,KAAKM,GAAUuG,QAAQxF,GACrC,GAAIuF,GAAQ,IACV5G,KAAKM,GAAUwG,OAAOF,EAAO,GAC7B5G,KAAKO,KACsB,GAAvBP,KAAKO,IACP,OAAOP,KAAK+G,kBAAkBC,OAAM,gBA7M5CpG,EAsNEqG,uBACE,OAAOjH,KAAKM,IAvNhBM,EAkOEmB,YAAkBH,GAChB,OAAOA,EAAMsF,QAAO,SAACrN,GACnB,OAAoC,IAAhCA,EAAKI,UAIwB,IAA7BJ,EAAKI,UAEA,KAAKiB,KAAKrB,EAAKsN,iBA1O9B/H,GAAqCgI,EAAIC,aAmPvCD,EAAIE,gBArPM,uBAqPe5I,EMhQR","names":["resolved","o","p","_setPrototypeOf","Object","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","obj","_typeof","Symbol","iterator","constructor","prototype","self","call","TypeError","ReferenceError","assertThisInitialized","Array","isArray","propertyNameCache","_Object$prototype","node","nodeOrTagName","tagName","value","nodeType","toLowerCase","startsWith","Node","ELEMENT_NODE","hasAttribute","hasOwnProperty","toString","vendorPrefixes","env","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","getUserLogger","win","assert","nodeOrDoc","ownerDocument","defaultView","id","getServiceInternal","__AMP_TOP","getTopWindow","getService","getAmpDoc","holder","devAssert","service","__AMP_SERVICES","ctor","isServiceRegistered","s","services","getServices","context","resolve","Services","elementOrAmpDoc","getAmpdoc","ampdoc","isSingleDoc","getServiceForDoc","AmpFlyingCarpet","subClass","superClass","create","writable","configurable","_inherits","Derived","hasNativeReflectConstruct","_super","AmpFlyingCarpet2","Reflect","construct","sham","Proxy","Boolean","valueOf","e","isNativeReflectConstruct","result","Super","NewTarget","this","arguments","apply","possibleConstructorReturn","element","_this","children_","totalChildren_","container_","initialPositionChecked_","isLayoutSupported","layout","_proto","isRelayoutNeeded","buildCallback","doc","container","createElement","parent","callback","children","child","firstElementChild","nextElementSibling","isInternalOrServiceNode","push","childElements","childNodes","nodes","firstChild","nextSibling","visibileChildren_","length","owners","forEach","setOwner","_this2","clip","setAttribute","appendChild","getViewport","addToFixedLayer","assertPosition_","layoutBox","getLayoutBox","viewport","viewportHeight","getHeight","minTop","maxTop","getScrollHeight","userAssert","top","layoutCallback","collapse","width","getLayoutSize","property","opt_units","opt_bypassCache","propertyName","style","camelCase","undefined","titleCase","charAt","toUpperCase","slice","camelCaseToTitleCase","prefixedPropertyName","i","getVendorJsPropertyName_","getVendorJsPropertyName","hyphenated","styleValue","setProperty","replace","match","some","prefix","setStyle","scheduleLayout","observeNewChildren_","forceClipDraw_","Promise","IntersectionObserver","entries","last","_this3","classList","toggle","isIntersecting","threshold","observe","MutationObserver","changes","addedNodes","n","signals","whenSignal","then","_this4","layoutBuiltChild_","bind","childList","subtree","getOwner","collapsedCallback","index","indexOf","splice","attemptCollapse","catch","getChildren","filter","textContent","AMP","BaseElement","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/data-structures/promise.js","node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","src/core/types/array.js","src/core/types/object/index.js","src/core/dom/style.js","src/core/dom/query.js","src/core/types/string/index.js","src/core/types/index.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/createSuper.js","node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","src/core/dom/layout/index.js","src/core/constants/common-signals.js","build/amp-fx-flying-carpet-0.1.css.js"]}
