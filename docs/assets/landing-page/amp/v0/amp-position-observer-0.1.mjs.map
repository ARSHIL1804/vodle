{"version":3,"file":"amp-position-observer-0.1.mjs","mappings":"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","names":["array","shouldRemove","removed","index","i","length","item","push","hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","val","value","nodeType","tagName","toLowerCase","id","shouldBeTruthy","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","sentinel","var_args","indexOf","splitMessage","split","message","shift","messageArray","subValue","arguments","nextConstant","elementStringOrPassThru","trim","error","Error","remove","x","__AMP_REPORT_ERROR","assertions","userAssert","test","RelativePositions_Enum","left","top","width","height","bottom","right","y","r1","r2","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","levelFunc","opt_suffix","opt_element","getUserLogger","win","ownerDocument","defaultView","isFromEmbed","suffix","callLogConstructor","shouldBeTrueish","assert","getServiceInternal","__AMP_TOP","getTopWindow","elementOrAmpDoc","getAmpdocServiceHolder","getAmpdoc","nodeOrDoc","node","getService","getAmpDoc","ampdoc","isSingleDoc","holder","devAssert","isServiceRegistered","s","getServices","obj","ctor","context","resolve","services","__AMP_SERVICES","service","Services","element","getServiceForDocOrNull","getServiceForDoc","constructor","opt_instantiate","opt_override","opt_sharedInstance","promise","reject","sharedInstance","registerServiceInternal","this","ampdoc_","win_","workers_","vsync_","viewport_","unlisteners_","inScroll_","measure_","callbackStarted_","boundStopScroll_","callback","minInterval","locker","timestamp","nextCallArgs","remaining","Date","now","args","setTimeout","waiter","apply","debounce","observe","fidelity","handler","worker","handler_","turn","Math","floor","random","prevPosition_","trigger_","position","prevPos","layoutRectEquals","positionRect","viewportRect","relativePos","layoutRectsRelativePos","update","opt_force","viewportSize","getSize","viewportBox","layoutRectLtwh","getClientRectAsync","then","elementBox","startCallback_","removeWorker_","unobserve","splice","stopCallback_","onScroll","onScrollHandler_","onResize","onResizeHandler_","pop","unlisten","updateAllEntries","schedulePass_","measure","registerServiceBuilderForDoc","type","detail","opt_eventInit","eventInit","assign","CustomEvent","TAG","AmpVisibilityObserver","AMP","BaseElement","super","action_","positionObserver_","isVisible_","topRatio_","bottomRatio_","topMarginExpr_","bottomMarginExpr_","resolvedTopMargin_","resolvedBottomMargin_","viewportRect_","targetId_","initialViewportHeight_","scrollProgress_","remainingScrollToExit_","runOnce_","firstIterationComplete_","buildCallback","whenFirstVisible","init_","bind","hasAttribute","parseAttributes_","maybeInstallPositionObserver_","whenReady","scene","discoverScene_","positionChanged_","triggerEnter_","event","createCustomEvent","trigger","triggerExit_","triggerScroll_","scrolltop","getScrollTop","positionObserverData","percent","entry","wasVisible","prevViewportHeight","adjustForSmallViewportResize_","recalculateMargins_","adjViewportRect","applyMargins_","relPos","updateVisibility_","updateScrollProgress_","adjustedViewportRect","ratioToUse","offset","totalProgressOffset","totalProgress","topOffset","abs","ratios","topBottom","validateAndResolveRatio_","margins","assertElement","getElementById","parentNode","body","documentElement","validateAndResolveMargin_","unit","assertLength","m","exec","getLengthUnits","num","res","parseFloat","isFinite","undefined","getLengthNumeral","rect","viewportHeightChangeDelta","resizeOffset","installPositionObserverServiceForDoc","maybeUninstallPositionObserver_","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/types/array.js","src/core/types/object/index.js","src/core/error/message-helpers.js","src/core/types/index.js","src/core/assert/user.js","src/core/assert/base.js","src/core/dom/layout/index.js","src/core/dom/layout/rect.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","src/service/position-observer/position-observer-impl.js","src/core/types/function/index.js","src/service/position-observer/position-observer-worker.js","src/utils/event-helper.js","extensions/amp-position-observer/0.1/amp-position-observer.js","src/core/constants/action-constants.js"]}
