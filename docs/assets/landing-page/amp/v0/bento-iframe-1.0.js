;
!function(n){var e=self.BENTO=self.BENTO||{};(e.bento=e.bento||[]).push((function(n){"use strict";function e(n,r){return(e=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,r)}function r(n){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function o(n,e){if(e&&("object"===t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function i(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function u(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function f(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){i(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}Array.isArray;var c=Object.prototype;c.hasOwnProperty,c.toString;var a,l=["Webkit","webkit","Moz","moz","ms","O","o"];function s(n,e,r,t,o){var i=function(n,e,r){if(e.startsWith("--"))return e;var t;a||(t=Object.create(null),a=t);var o=a[e];if(!o||r){if(o=e,void 0===n[e]){var i=function(n){return n.charAt(0).toUpperCase()+n.slice(1)}(e),u=function(n,e){for(var r=0;r<l.length;r++){var t=l[r]+e;if(void 0!==n[t])return t}return""}(n,i);void 0!==n[u]&&(o=u)}r||(a[e]=o)}return o}(n.style,e,o);if(i){var u,f=t?r+t:r;n.style.setProperty((u=i.replace(/[A-Z]/g,(function(n){return"-"+n.toLowerCase()})),l.some((function(n){return u.startsWith(n+"-")}))?"-".concat(u):u),f)}}function v(n){return(n.ownerDocument||n).defaultView}function b(n){return n.parent&&n.parent!=n}function d(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=r.needsRootBounds,o=r.rootMargin,i=r.threshold,u=b(e)&&(t||o)?e.document:void 0;return new e.IntersectionObserver(n,{threshold:i,root:u,rootMargin:o})}var m=new WeakMap,y=new WeakMap;function p(n){for(var e=new Set,r=n.length-1;r>=0;r--){var t=n[r],o=t.target;if(!e.has(o)){e.add(o);var i=y.get(o);if(i)for(var u=0;u<i.length;u++)(0,i[u])(t)}}}var w=self.AMP_CONFIG||{},h=("string"==typeof w.thirdPartyFrameRegex?new RegExp(w.thirdPartyFrameRegex):w.thirdPartyFrameRegex,("string"==typeof w.cdnProxyRegex?new RegExp(w.cdnProxyRegex):w.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function j(n){if(!self.document||!self.document.head)return null;if(self.location&&h.test(self.location.origin))return null;var e=self.document.head.querySelector('meta[name="'.concat(n,'"]'));return e&&e.getAttribute("content")||null}w.thirdPartyUrl,w.thirdPartyFrameHost,w.cdnUrl||j("runtime-host"),w.errorReportingUrl,w.betaErrorReportingUrl,w.localDev,w.geoApiUrl||j("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG,new Set(["c","v","a","ad"]);var g=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1];function O(n){return{"time":n.time,"rootBounds":n.rootBounds,"boundingClientRect":n.boundingClientRect,"intersectionRect":n.intersectionRect,"intersectionRatio":n.intersectionRatio}}Date.now();var R=["allowFullScreen","allowPaymentRequest","iframeStyle","onLoad","referrerPolicy","requestResize","sandbox","src","srcdoc"],S=function(){},x=function(n){!function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&e(n,r)}(f,n);var t,i,u=(t=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,e=r(t);if(i){var u=r(this).constructor;n=Reflect.construct(e,arguments,u)}else n=e.apply(this,arguments);return o(this,n)});function f(){return u.apply(this,arguments)}return f}(n.PreactBaseElement);x.Component=function(e){var r=e.allowFullScreen,t=e.allowPaymentRequest,o=e.iframeStyle,i=e.onLoad,u=void 0===i?S:i,c=e.referrerPolicy,a=e.requestResize,l=e.sandbox,b=e.src,w=e.srcdoc,h=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(e,R),j=(0,n.useRef)(),x=(0,n.useRef)(null),z=(0,n.useRef)(null),P=(0,n.useRef)(null),q=(0,n.useRef)(null),E=(0,n.useRef)(null),k=function(n){var e=j.current,r=E.current;e&&r&&function(n,e,r,t,o){!function(n,e,r,t,o){if(n.contentWindow){t.type=r,t.sentinel=function(n,e){return e?n.getAttribute("data-amp-3p-sentinel"):"amp"}(n,o);var i=t;o&&(i="amp-"+JSON.stringify(t));for(var u=0;u<e.length;u++){var f=e[u];f.win.postMessage(i,f.origin)}}}(n,[{win:n.contentWindow,origin:t}],e,r,o)}(e,"intersection",{"changes":n.map(O)},r)},A=(0,n.useCallback)((function(n){var e,r=j.current;if(r&&n.source===r.contentWindow&&"send-intersections"===(null===(e=n.data)||void 0===e?void 0:e.type)){E.current=n.origin;var t=v(r);q.current=new t.IntersectionObserver(k,{threshold:g}),q.current.observe(r)}}),[]);(0,n.useEffect)((function(){var n=j.current;if(n){var e=v(n);e.addEventListener("message",A);var r=q.current;return function(){var t;null===(t=r)||void 0===t||t.unobserve(n),r=null,e.removeEventListener("message",A)}}}),[A]);var B=(0,n.useCallback)((function(){var n,e,r=Number(null===(n=x.current)||void 0===n?void 0:n.height),t=Number(null===(e=x.current)||void 0===e?void 0:e.width);if(x.current=null,r||t){var o=j.current;r||(r=o.offsetHeight),t||(t=o.offsetWidth),a?a(r,t):!1===z.current&&function(n,e){var r=P.current;r&&(s(r,"width",e,"px"),s(r,"height",n,"px"))}(r,t)}else console.error("Ignoring resize request because width and height value is invalid")}),[a]),F=(0,n.useCallback)((function(n){var e;"embed-size"===(null===(e=n.data)||void 0===e?void 0:e.type)&&(x.current=n.data,!1===z.current&&B())}),[B]);(0,n.useEffect)((function(){var n=j.current;if(n){var e=v(n);if(e)return e.addEventListener("message",F),function(){e.removeEventListener("message",F)}}}),[F]);var M,N,W,D,L=(0,n.useCallback)((function(n){var e=n.isIntersecting;e!==z.current&&(z.current=e,!e&&x.current&&B())}),[B]),T=(M=L,W=(0,n.useRef)(null),(0,n.useCallback)((function(n){var e=W.current;e&&(e(),W.current=null),n&&(W.current=function(n,e,r){var t=v(n);if(r){var o=d((function(n){e(n[n.length-1])}),t,r);return o.observe(n),function(){o.unobserve(n)}}var i=m.get(t);i||m.set(t,i=d(p,t));var u=y.get(n);return u||(u=[],y.set(n,u)),u.push(e),i.observe(n),function(){!function(n,e){var r,t,o,i=y.get(n);if(i&&(t=e,-1!=(o=(r=i).indexOf(t))&&(r.splice(o,1),1)&&!i.length)){var u=v(n),f=m.get(u);null==f||f.unobserve(n),y.delete(n)}}(n,e)}}(n,M,N))}),[M,N])),Z=(0,n.useMemo)((function(){return{src:b,srcdoc:w,sandbox:l,allowFullScreen:r,allowPaymentRequest:t,referrerPolicy:c,onLoad:u,frameBorder:"0"}}),[b,w,l,r,t,c,u]);return(0,n.createElement)(n.ContainWrapper,f({contentAs:"iframe",contentProps:Z,contentRef:(D=[j,T],(0,n.useCallback)((function(n){for(var e=0;e<D.length;e++)t=n,"function"==typeof(r=D[e])?r(t):r&&(r.current=t);var r,t}),D)),contentStyle:f({"box-sizing":"border-box"},o),ref:P,size:!0,layout:!0,paint:!0},h))},x.props={"src":{attr:"src"},"srcdoc":{attr:"srcdoc"},"sandbox":{attr:"sandbox"},"allowFullScreen":{attr:"allowfullscreen"},"allowPaymentRequest":{attr:"allowpaymentrequest"},"referrerPolicy":{attr:"referrerpolicy"}},x.layoutSizeDefined=!0,x.usesShadowDom=!0,(0,n.defineBentoElement)("bento-iframe",x,undefined)}))}();
//# sourceMappingURL=bento-iframe-1.0.js.map