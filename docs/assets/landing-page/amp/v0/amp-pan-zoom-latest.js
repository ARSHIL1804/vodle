;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-pan-zoom",ev:"0.1",l:!0,f:function(t,i){!function(){function i(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=t[n];return s}function n(t,n){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=function(t,n){if(t){if("string"==typeof t)return i(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?i(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var h=0;return function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s;function h(){return s||(s=Promise.resolve(void 0))}var r=function(){var t=this;this.promise=new Promise((function(i,n){t.resolve=i,t.reject=n}))};function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e(t,i){return(e=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function o(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&e(t,i)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,i){if(i&&("object"===a(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function l(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,s=f(t);if(i){var h=f(this).constructor;n=Reflect.construct(s,arguments,h)}else n=s.apply(this,arguments);return c(this,n)}}function v(t){return"string"==typeof t}Array.isArray;var p=Object.prototype;function m(t,i,n,s,h,r,u,e,o,f,a){return t}function d(t,i,n,s){return function(h){return b.solveYValueFromXValue(h,0,0,t,i,n,s,1,1)}}p.hasOwnProperty,p.toString;var b=function(){function t(){}return t.solveYValueFromXValue=function(i,n,s,h,r,u,e,o,f){return t.vf(t.df(i,n,h,u,o),s,r,e,f)},t.df=function(i,n,s,h,r){var u=1e-6,e=(i-n)/(r-n);if(e<=0)return 0;if(e>=1)return 1;for(var o=0,f=1,a=0,c=0;c<8;c++){a=t.mf(e,n,s,h,r);var l=(t.mf(e+u,n,s,h,r)-a)/u;if(Math.abs(a-i)<u)return e;if(Math.abs(l)<u)break;a<i?o=e:f=e,e-=(a-i)/l}for(var v=0;Math.abs(a-i)>u&&v<8;v++)a<i?(o=e,e=(e+f)/2):(f=e,e=(e+o)/2),a=t.mf(e,n,s,h,r);return e},t.mf=function(i,n,s,h,r){if(0==i)return n;if(1==i)return r;var u=t.pf(n,s,i),e=t.pf(s,h,i),o=t.pf(h,r,i);return u=t.pf(u,e,i),e=t.pf(e,o,i),t.pf(u,e,i)},t.vf=function(i,n,s,h,r){if(0==i)return n;if(1==i)return r;var u=t.pf(n,s,i),e=t.pf(s,h,i),o=t.pf(h,r,i);return u=t.pf(u,e,i),e=t.pf(e,o,i),t.pf(u,e,i)},t.pf=function(t,i,n){return t+n*(i-t)},t}(),y={LINEAR:function(t){return t},EASE:function(t){return b.solveYValueFromXValue(t,0,0,.25,.1,.25,1,1,1)},EASE_IN:function(t){return b.solveYValueFromXValue(t,0,0,.42,0,1,1,1,1)},EASE_OUT:function(t){return b.solveYValueFromXValue(t,0,0,0,0,.58,1,1,1)},EASE_IN_OUT:function(t){return b.solveYValueFromXValue(t,0,0,.42,0,.58,1,1,1)}},M={"linear":y.LINEAR,"ease":y.EASE,"ease-in":y.EASE_IN,"ease-out":y.EASE_OUT,"ease-in-out":y.EASE_IN_OUT};function w(t){if(!t)return null;if(v(t)){if(-1!=(t=t).indexOf("cubic-bezier")){var i=t.match(/cubic-bezier\((.+)\)/);if(i){var n=i[1].split(",").map(parseFloat);if(4==n.length){for(var s=0;s<4;s++)if(isNaN(n[s]))return null;return d(n[0],n[1],n[2],n[3])}}return null}return M[t]}return t}function g(t){return(t.ownerDocument||t).defaultView}var z,x=!0,E=!0;function S(t,i,n,s){return{left:t,top:i,width:n,height:s,bottom:i+s,right:t+n,x:t,y:i}}function A(t){var i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;var n=t.message,s=t.stack,h=new Error(n);for(var r in t)h[r]=t[r];return h.stack=s,h}function k(t){for(var i,s=null,h="",r=n(arguments,!0);!(i=r()).done;){var u=i.value;u instanceof Error&&!s?s=A(u):(h&&(h+=" "),h+=u)}return s?h&&(s.message=h+": "+s.message):s=new Error(h),s}function j(t){var i,n;null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t)}function D(t){var i=k.apply(null,arguments);setTimeout((function(){throw j(i),i}))}function O(t){try{for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t.apply(null,n)}catch(t){D(t)}}var N=["Webkit","webkit","Moz","moz","ms","O","o"],R={"getPropertyPriority":function(){return""},"getPropertyValue":function(){return""}};function I(t,i,n,s,h){var r=function(t,i,n){if(i.startsWith("--"))return i;var s;z||(s=Object.create(null),z=s);var h=z[i];if(!h||n){if(h=i,void 0===t[i]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),u=function(t,i){for(var n=0;n<N.length;n++){var s=N[n]+i;if(void 0!==t[s])return s}return""}(t,r);void 0!==t[u]&&(h=u)}n||(z[i]=h)}return h}(t.style,i,h);if(r){var u,e=s?n+s:n;t.style.setProperty((u=r.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),N.some((function(t){return u.startsWith(t+"-")}))?"-".concat(u):u),e)}}function P(t,i){for(var n in i)I(t,n,i[n])}function Y(t){return"".concat(t,"px")}function T(t,i){return"number"==typeof t?i(t):t}function X(t,i){return null==i?"translate(".concat(T(t,Y),")"):"translate(".concat(T(t,Y),", ").concat(T(i,Y),")")}var _,C=/vertical/,L=new WeakMap,U=new WeakMap,H=new WeakMap;function W(t){var i=L.get(t);return i||(i=new t.ResizeObserver(G),L.set(t,i)),i}function G(t){for(var i=new Set,n=t.length-1;n>=0;n--){var s=t[n],h=s.target;if(!i.has(h)){i.add(h);var r=U.get(h);if(r){H.set(h,s);for(var u=0;u<r.length;u++){var e=r[u],o=e.callback;V(e.type,o,s)}}}}}function V(t,i,n){if(0==t){var s=n.contentRect,h=s.height;O(i,{width:s.width,height:h})}else if(1==t){var r,u=n.borderBoxSize;if(u)r=u.length>0?u[0]:{inlineSize:0,blockSize:0};else{var e,o,f=n.target,a=g(f),c=C.test(function(t,i){return t.getComputedStyle(i)||R}(a,f).writingMode),l=f,v=l.offsetHeight,p=l.offsetWidth;c?(o=p,e=v):(e=p,o=v),r={inlineSize:e,blockSize:o}}O(i,r)}}function B(t){return function(t,i){m(1===i.length),t.innerHTML=i[0];var n=t.firstElementChild;return m(n),m(!n.nextElementSibling),t.removeChild(n),n}(_,t)}function F(t,i){return function(n){return t+(i-t)*n}}function Z(t,i,n,s){return m(i<=n),function(t,i,n){return m(i<=n),Math.min(Math.max(t,i),n)}(t,i-s,n+s)}function $(t,i){return Math.sqrt(t*t+i*i)}var q=self.AMP_CONFIG||{},J=("string"==typeof q.thirdPartyFrameRegex?new RegExp(q.thirdPartyFrameRegex):q.thirdPartyFrameRegex,("string"==typeof q.cdnProxyRegex?new RegExp(q.cdnProxyRegex):q.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function K(t){if(!self.document||!self.document.head)return null;if(self.location&&J.test(self.location.origin))return null;var i=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return i&&i.getAttribute("content")||null}q.thirdPartyUrl,q.thirdPartyFrameHost,q.cdnUrl||K("runtime-host"),q.errorReportingUrl,q.betaErrorReportingUrl,q.localDev,q.geoApiUrl||K("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var Q=self.__AMP_LOG;function tt(t,i){throw new Error("failed to call initLogConstructor")}function it(t){return tt()}function nt(){return Q.dev||(Q.dev=tt())}function st(t,i,n,s,h,r,u,e,o,f,a){return t}function ht(t,i,n,s,h,r,u,e,o,f,a){return(Q.user||(Q.user=it()),void Q.user.win?Q.userForEmbed||(Q.userForEmbed=it()):Q.user).assert(t,i,n,s,h,r,u,e,o,f,a)}function rt(t,i){return ot(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function ut(t){return t.nodeType?(i=g(t),rt(i,"ampdoc")).getAmpDoc(t):t;var i}function et(t){var i=ut(t);return i.isSingleDoc()?i.win:i}function ot(t,i){st(ft(t,i));var n=function(t){var i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}(t)[i];return n.obj||(st(n.ctor),st(n.context),n.obj=new n.ctor(n.context),st(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function ft(t,i){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}var at,ct,lt=function(t){return function(t,i){return ot(et(ut(t)),"owners")}(t)},vt=function(t){return rt(t,"vsync")},pt="Animation",mt=function(){},dt=function(){function t(t,i){this.mn=t,this.Iu=i||vt(self),this.bf=null,this.gf=[]}t.animate=function(i,n,s,h){return new t(i).setCurve(h).add(0,n,1).start(s)};var i=t.prototype;return i.setCurve=function(t){return t&&(this.bf=w(t)),this},i.add=function(t,i,n,s){return this.gf.push({delay:t,func:i,duration:n,curve:w(s)}),this},i.start=function(t){return new bt(this.Iu,this.mn,this.gf,this.bf,t)},t}(),bt=function(){function t(t,i,n,s,h){this.Iu=t,this.mn=i,this.gf=[];for(var u=0;u<n.length;u++){var e=n[u];this.gf.push({delay:e.delay,func:e.func,duration:e.duration,curve:e.curve||s,started:!1,completed:!1})}this.yf=h,this.oc=Date.now(),this.Vn=!0,this.Pi={};var o=new r;this.wf=o.promise,this.Dn=o.resolve,this.Af=o.reject,this.Ef=this.Iu.createAnimTask(this.mn,{mutate:this.xf.bind(this)}),this.Iu.canAnimate(this.mn)?this.Ef(this.Pi):(nt().warn(pt,"cannot animate"),this.Of(!1,0))}var i=t.prototype;return i.then=function(t,i){return t||i?this.wf.then(t,i):this.wf},i.thenAlways=function(t){var i=t||mt;return this.then(i,i)},i.halt=function(t){this.Of(!1,t||0)},i.Of=function(t,i){if(this.Vn){if(this.Vn=!1,0!=i){this.gf.length>1&&this.gf.sort((function(t,i){return t.delay+t.duration-(i.delay+i.duration)}));try{if(i>0)for(var n=0;n<this.gf.length;n++)this.gf[n].func(1,!0);else for(var s=this.gf.length-1;s>=0;s--)this.gf[s].func(0,!1)}catch(i){nt().error(pt,"completion failed: "+i,i),t=!1}}t?this.Dn():this.Af()}},i.xf=function(t){if(this.Vn){for(var i=Date.now(),n=Math.min((i-this.oc)/this.yf,1),s=0;s<this.gf.length;s++){var h=this.gf[s];!h.started&&n>=h.delay&&(h.started=!0)}for(var r=0;r<this.gf.length;r++){var u=this.gf[r];u.started&&!u.completed&&this.Tf(u,n)}1==n?this.Of(!0,0):this.Iu.canAnimate(this.mn)?this.Ef(this.Pi):(nt().warn(pt,"cancel animation"),this.Of(!1,0))}},i.Tf=function(t,i){var n,s;if(t.duration>0){if(s=n=Math.min((i-t.delay)/t.duration,1),t.curve&&1!=s)try{s=t.curve(n)}catch(t){return nt().error(pt,"step curve failed: "+t,t),void this.Of(!1,0)}}else n=1,s=1;1==n&&(t.completed=!0);try{t.func(s,t.completed)}catch(t){return nt().error(pt,"step mutate failed: "+t,t),void this.Of(!1,0)}},t}();function yt(t,i,n,s){var h={detail:n};if(Object.assign(h,s),"function"==typeof t.CustomEvent)return new t.CustomEvent(i,h);var r=t.document.createEvent("CustomEvent");return r.initCustomEvent(i,!!h.bubbles,!!h.cancelable,n),r}function Mt(t,i,n,s){return function(t,i,n,s){var h=t,r=n,u=function(t){try{return r(t)}catch(t){var i,n;throw null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t),t}},e=function(){if(void 0!==at)return at;at=!1;try{var t={get capture(){return at=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return at}(),o=!(null==s||!s.capture);return h.addEventListener(i,u,e?s:o),function(){null==h||h.removeEventListener(i,u,e?s:o),r=null,h=null,u=null}}(t,i,n,s)}var wt=function(){function t(){this.vt=null}var i=t.prototype;return i.add=function(t){var i=this;return this.vt||(this.vt=[]),this.vt.push(t),function(){i.remove(t)}},i.remove=function(t){var i,n,s;this.vt&&(n=t,-1!=(s=(i=this.vt).indexOf(n))&&i.splice(s,1))},i.removeAll=function(){this.vt&&(this.vt.length=0)},i.fire=function(t){if(this.vt)for(var i,s=n(this.vt.slice(),!0);!(i=s()).done;)(0,i.value)(t)},i.getHandlerCount=function(){var t,i;return null!==(t=null===(i=this.vt)||void 0===i?void 0:i.length)&&void 0!==t?t:0},t}(),gt=function(){function t(t,i,n){var s=this;this.js=ot(t,"timer"),this.Ds=i,this.zs=n||0,this.Ls=-1,this.Us=0,this.Vn=!1,this.Hs=function(){s.Gs()}}var i=t.prototype;return i.isPending=function(){return-1!=this.Ls},i.schedule=function(t){var i=t||this.zs;this.Vn&&i<10&&(i=10);var n=Date.now()+i;return(!this.isPending()||n-this.Us<-10)&&(this.cancel(),this.Us=n,this.Ls=this.js.delay(this.Hs,i),!0)},i.Gs=function(){this.Ls=-1,this.Us=0,this.Vn=!0,this.Ds(),this.Vn=!1},i.cancel=function(){this.isPending()&&(this.js.cancel(this.Ls),this.Ls=-1)},t}(),zt="__AMP_Gestures",xt=function(t,i,n,s){this.type=t,this.data=i,this.time=n,this.event=s},Et=function(){function t(t,i,n){this.Gn=t,this.tM=[],this.tg=[],this.wi=[],this.iM=[],this.nM=null,this.rM=i,this.sM=n,this.eM=!1,this.Gs=new gt(g(t),this.el.bind(this)),this.hM=new wt,this.oM=Object.create(null),this.aM=this.Km.bind(this),this.uM=this.zv.bind(this),this.fM=this.Qm.bind(this),this.lM=this.ug.bind(this);var s=function(t){if(void 0!==ct)return ct;ct=!1;try{var i={get passive(){return ct=!0,!1}};t.addEventListener("test-options",null,i),t.removeEventListener("test-options",null,i)}catch(t){}return ct}(t.ownerDocument.defaultView);this.Gn.addEventListener("touchstart",this.aM,!!s&&{passive:!0}),this.Gn.addEventListener("touchend",this.uM),this.Gn.addEventListener("touchmove",this.fM,!!s&&{passive:!0}),this.Gn.addEventListener("touchcancel",this.lM),this.cM=!1}t.get=function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=i[zt];return h||(h=new t(i,n,s),i[zt]=h),h};var i=t.prototype;return i.cleanup=function(){this.Gn.removeEventListener("touchstart",this.aM),this.Gn.removeEventListener("touchend",this.uM),this.Gn.removeEventListener("touchmove",this.fM),this.Gn.removeEventListener("touchcancel",this.lM),delete this.Gn[zt],this.Gs.cancel()},i.onGesture=function(t,i){var n=new t(this),s=n.getType(),h=this.oM[s];return h||(this.tM.push(n),h=new wt,this.oM[s]=h),h.add(i)},i.removeGesture=function(t){var i=new t(this).getType(),n=this.oM[i];if(n){n.removeAll();var s=function(t,n){for(var s=0;s<t.length;s++)if(t[s].getType()==i)return s;return-1}(this.tM);return!(s<0||(this.tM.splice(s,1),this.wi.splice(s,1),this.iM.splice(s,1),this.tg.splice(s,1),delete this.oM[i],0))}return!1},i.onPointerDown=function(t){return this.hM.add(t)},i.Km=function(t){var i=Date.now();this.eM=!1,this.hM.fire(t);for(var n=0;n<this.tM.length;n++)this.wi[n]||(this.iM[n]&&this.iM[n]<i&&this.og(n),this.tM[n].onTouchStart(t)&&this.hg(n));this.mM(t)},i.Qm=function(t){for(var i=Date.now(),n=0;n<this.tM.length;n++)this.tg[n]&&(this.iM[n]&&this.iM[n]<i?this.og(n):this.tM[n].onTouchMove(t)||this.og(n));this.mM(t)},i.zv=function(t){for(var i=Date.now(),n=0;n<this.tM.length;n++)if(this.tg[n])if(this.iM[n]&&this.iM[n]<i)this.og(n);else{this.tM[n].onTouchEnd(t);var s=!this.iM[n],h=this.iM[n]<i;this.nM==this.tM[n]||!s&&!h||this.og(n)}this.mM(t)},i.ug=function(t){for(var i=0;i<this.tM.length;i++)this.pM(i);this.mM(t)},i.Vm=function(t,i){if(this.nM)t.acceptCancel();else{for(var n=Date.now(),s=0;s<this.tM.length;s++)this.tM[s]==t&&(this.wi[s]=n+i,this.iM[s]=0);this.cM=!0}},i.vM=function(t,i){if(this.nM)t.acceptCancel();else for(var n=Date.now(),s=0;s<this.tM.length;s++)this.tM[s]==t&&(this.iM[s]=n+i)},i.dM=function(t){this.nM==t&&(this.nM=null,this.eM=!0)},i.gM=function(t,i,n){st(this.nM==t);var s=this.oM[t.getType()];s&&s.fire(new xt(t.getType(),i,Date.now(),n))},i.mM=function(t){var i=!!this.nM||this.eM;if(this.eM=!1,!i)for(var n=Date.now(),s=0;s<this.tM.length;s++)if(this.wi[s]||this.iM[s]&&this.iM[s]>=n){i=!0;break}i?(t.stopPropagation(),this.rM||t.preventDefault()):this.sM&&t.stopPropagation(),this.cM&&(this.cM=!1,this.el())},i.el=function(){for(var t=Date.now(),i=-1,n=0;n<this.tM.length;n++)this.wi[n]?(-1==i||this.wi[n]>this.wi[i])&&(i=n):this.iM[n]&&this.iM[n]<t&&this.og(n);if(-1!=i){for(var s=0,h=0;h<this.tM.length;h++)!this.wi[h]&&this.tg[h]&&(s=Math.max(s,this.iM[h]-t));s<2?this.bM(i):this.Gs.schedule(s)}},i.bM=function(t){for(var i=this.tM[t],n=0;n<this.tM.length;n++)n!=t&&this.pM(n);this.wi[t]=0,this.iM[t]=0,this.nM=i,i.acceptStart()},i.hg=function(t){this.tg[t]=!0,this.iM[t]=0},i.og=function(t){this.tg[t]=!1,this.iM[t]=0,this.wi[t]||this.tM[t].acceptCancel()},i.pM=function(t){this.wi[t]=0,this.og(t)},t}(),St=function(){function t(t,i){this.wM=t,this.Sg=i}var i=t.prototype;return i.getType=function(){return this.wM},i.signalReady=function(t){this.Sg.Vm(this,t)},i.signalPending=function(t){this.Sg.vM(this,t)},i.signalEnd=function(){this.Sg.dM(this)},i.signalEmit=function(t,i){this.Sg.gM(this,t,i)},i.acceptStart=function(){},i.acceptCancel=function(){},i.onTouchStart=function(t){return!1},i.onTouchMove=function(t){return!1},i.onTouchEnd=function(t){},t}(),At=function(){},kt=.02,jt=Math.round(-16.67/Math.log(.95));function Dt(t,i,n){i<1&&(i=1);var s=t/i,h=.5+Math.min(i/33.34,.5);return s*h+n*(1-h)}var Ot=function(){function t(t,i,n,s,h,u,e){this.Iu=e||vt(self),this.mn=t,this.Wn=u,this.jM=i,this.AM=n,this.ND=s,this.GD=h,this.IM=0,this.OM=0;var o=new r;this.wf=o.promise,this.Dn=o.resolve,this.Af=o.reject,this.FD=!1}var i=t.prototype;return i.start=function(){return this.FD=!0,Math.abs(this.ND)<=kt&&Math.abs(this.GD)<=kt?(this.ZD(),this.$D(!0)):this.VD(),this},i.halt=function(){this.FD&&this.$D(!1)},i.then=function(t,i){return t||i?this.wf.then(t,i):this.wf},i.thenAlways=function(t){var i=t||At;return this.then(i,i)},i.VD=function(){this.IM=this.ND,this.OM=this.GD;var t=this.qD.bind(this),i=this.$D.bind(this,!0);return this.Iu.runAnimMutateSeries(this.mn,t,5e3).then(i,i)},i.qD=function(t,i){if(!this.FD)return!1;if(this.jM+=i*this.IM,this.AM+=i*this.OM,!this.ZD())return!1;var n=Math.exp(-t/jt);return this.IM=this.ND*n,this.OM=this.GD*n,Math.abs(this.IM)>kt||Math.abs(this.OM)>kt},i.$D=function(t){this.FD&&(this.FD=!1,this.ZD(),t?this.Dn():this.Af())},i.ZD=function(){return this.Wn(this.jM,this.AM)},t}(),Nt=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,"tap",t)).MM=0,n.kM=0,n.jM=0,n.AM=0,n.h=null,n}var s=n.prototype;return s.onTouchStart=function(t){var i=t.touches;return this.h=t.target,!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,0))},s.onTouchMove=function(t){var i=t.changedTouches||t.touches;if(i&&1==i.length){this.jM=i[0].clientX,this.AM=i[0].clientY;var n=Math.abs(this.jM-this.MM)>=8,s=Math.abs(this.AM-this.kM)>=8;if(n||s)return!1}return!0},s.onTouchEnd=function(t){this.signalReady(0)},s.acceptStart=function(){this.signalEmit({clientX:this.jM,clientY:this.AM,target:this.h},null),this.signalEnd()},n}(St),Rt=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,"doubletap",t)).MM=0,n.kM=0,n.jM=0,n.AM=0,n.JD=0,n.KD=null,n}var s=n.prototype;return s.onTouchStart=function(t){if(this.JD>1)return!1;var i=t.touches;return!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,this.jM=i[0].clientX,this.AM=i[0].clientY,0))},s.onTouchMove=function(t){var i=t.touches;if(i&&1==i.length){this.jM=i[0].clientX,this.AM=i[0].clientY;var n=Math.abs(this.jM-this.MM)>=8,s=Math.abs(this.AM-this.kM)>=8;return!n&&!s||(this.acceptCancel(),!1)}return!1},s.onTouchEnd=function(t){this.JD++,this.JD<2?this.signalPending(200):(this.KD=t,this.signalReady(0))},s.acceptStart=function(){this.JD=0,this.signalEmit({clientX:this.jM,clientY:this.AM},this.KD),this.signalEnd()},s.acceptCancel=function(){this.JD=0},n}(St),It=function(t){o(n,t);var i=l(n);function n(t){return i.call(this,"swipe-xy",t,!0,!0)}return n}(function(t){o(n,t);var i=l(n);function n(t,n,s,h){var r;return(r=i.call(this,t,n)).yM=s,r.xM=h,r.nM=!1,r.MM=0,r.kM=0,r.jM=0,r.AM=0,r.DM=0,r.SM=0,r.oc=0,r.EM=0,r.zM=0,r.IM=0,r.OM=0,r}var s=n.prototype;return s.onTouchStart=function(t){var i=t.touches;return!!(this.nM&&i&&i.length>1)||!(!i||1!=i.length)&&(this.oc=Date.now(),this.MM=i[0].clientX,this.kM=i[0].clientY,!0)},s.onTouchMove=function(t){var i=t.touches;if(i&&i.length>=1){var n=i[0],s=n.clientX,h=n.clientY;if(this.jM=s,this.AM=h,this.nM)this.PM(!1,!1,t);else{var r=Math.abs(s-this.MM),u=Math.abs(h-this.kM);if(this.yM&&this.xM)(r>=8||u>=8)&&this.signalReady(-10);else if(this.yM){if(r>=8&&r>u)this.signalReady(-10);else if(u>=8)return!1}else{if(!this.xM)return!1;if(u>=8&&u>r)this.signalReady(-10);else if(r>=8)return!1}}return!0}return!1},s.onTouchEnd=function(t){var i=t.touches;i&&0==i.length&&this.RM(t)},s.acceptStart=function(){this.nM=!0,this.DM=this.MM,this.SM=this.kM,this.zM=this.oc,this.MM=this.jM,this.kM=this.AM,this.PM(!0,!1,null)},s.acceptCancel=function(){this.nM=!1},s.PM=function(t,i,n){this.EM=Date.now();var s=this.EM-this.zM;if(!i&&s>4||i&&s>16){var h=Dt(this.jM-this.DM,s,this.IM),r=Dt(this.AM-this.SM,s,this.OM);(!i||s>32||0!=h||0!=r)&&(this.IM=Math.abs(h)>1e-4?h:0,this.OM=Math.abs(r)>1e-4?r:0),this.DM=this.jM,this.SM=this.AM,this.zM=this.EM}this.signalEmit({first:t,last:i,time:this.EM,deltaX:this.jM-this.MM,deltaY:this.AM-this.kM,startX:this.MM,startY:this.kM,lastX:this.jM,lastY:this.AM,velocityX:this.IM,velocityY:this.OM},n)},s.RM=function(t){this.nM&&(this.nM=!1,this.PM(!1,!0,t),this.signalEnd())},n}(St)),Pt=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,"pinch",t)).nM=!1,n.QD=0,n.MI=0,n.SI=0,n.AI=0,n.DI=0,n.kI=0,n.II=0,n.xI=0,n.XI=0,n.YI=0,n.zI=0,n.NI=0,n.oc=0,n.EM=0,n.zM=0,n.IM=0,n.OM=0,n}var s=n.prototype;return s.onTouchStart=function(t){var i=t.touches;return!!i&&(1==i.length||!!(this.nM&&i.length>2)||2==i.length&&(this.oc=Date.now(),this.QD=i[0].clientX,this.MI=i[0].clientY,this.SI=i[1].clientX,this.AI=i[1].clientY,!0))},s.onTouchMove=function(t){var i=t.touches;return!(!i||0==i.length||1!=i.length&&(this.DI=i[0].clientX,this.kI=i[0].clientY,this.II=i[1].clientX,this.xI=i[1].clientY,this.nM?(this.PM(!1,!1,t),0):this.CI()||(this._I()&&this.signalReady(0),0)))},s._I=function(){var t=this.DI-this.QD,i=this.kI-this.MI,n=this.II-this.SI,s=this.xI-this.AI,h=t*n<=0&&i*s<=0,r=Math.abs(t-n)>=4,u=Math.abs(i-s)>=4;return h&&(r||u)},s.CI=function(){var t=this.DI-this.QD,i=this.kI-this.MI,n=this.II-this.SI,s=this.xI-this.AI,h=t*n>0||i*s>0,r=Math.abs(t+n)>=10,u=Math.abs(i+s)>=10;return h&&(r||u)},s.onTouchEnd=function(t){var i=t.touches;i&&i.length<2&&this.RM(t)},s.acceptStart=function(){this.nM=!0,this.zM=this.oc,this.XI=0,this.YI=0,this.zI=.5*(this.QD+this.SI),this.NI=.5*(this.MI+this.AI),this.PM(!0,!1,null)},s.acceptCancel=function(){this.nM=!1},s.PM=function(t,i,n){this.EM=Date.now();var s=this.EM-this.zM,h=this.TI(),r=this.UI();(!i&&s>4||i&&s>16)&&(this.IM=Dt(h-this.XI,s,this.IM),this.OM=Dt(r-this.YI,s,this.OM),this.IM=Math.abs(this.IM)>1e-4?this.IM:0,this.OM=Math.abs(this.OM)>1e-4?this.OM:0,this.XI=h,this.YI=r,this.zM=this.EM);var u=this.GI(this.QD,this.SI,this.MI,this.AI),e=this.GI(this.DI,this.II,this.kI,this.xI);this.signalEmit({first:t,last:i,time:this.EM,centerClientX:this.zI,centerClientY:this.NI,dir:Math.sign(e-u),deltaX:.5*h,deltaY:.5*r,velocityX:.5*this.IM,velocityY:.5*this.OM},n)},s.RM=function(t){this.nM&&(this.nM=!1,this.PM(!1,!0,t),this.signalEnd())},s.GI=function(t,i,n,s){return(t-i)*(t-i)+(n-s)*(n-s)},s.TI=function(){return Math.abs(this.DI-this.QD-(this.II-this.SI))},s.UI=function(){return Math.abs(this.kI-this.MI-(this.xI-this.AI))},n}(St),Yt=['<div class="amp-pan-zoom-in-icon amp-pan-zoom-button"></div>'],Tt=d(.4,0,.2,1.4),Xt="amp-pan-zoom",_t=new Set(["svg","DIV","AMP-IMG","AMP-LAYOUT","AMP-SELECTOR","IMG"]),Ct=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,t)).bX=null,n.Ks=null,n.ZI=0,n.$I=0,n.LI=null,n.vY=null,n.VI=null,n.HI=1,n.JI=1,n.QI=1,n.DP=3,n.mY=0,n.dY=0,n.bY=1,n.MM=0,n.kM=0,n.XP=0,n.YP=0,n.NP=0,n.GP=0,n.FP=0,n.WP=0,n.MA=null,n.ZP=null,n.yY=!1,n.MY=null,n.wY=!1,n.HM=null,n.$M=null,n.qM=null,n.gY=0,n.zY=0,n.wE=n.wE.bind(u(n)),n}var s=n.prototype;return s.buildCallback=function(){var t,i,n,s=this;this.Ks=(t=this.element,i="action",ft(n=et(ut(t)),i)?ot(n,i):null);var h=function(t,i){for(var n=[],s=t.firstElementChild;s;s=s.nextElementSibling)void 0,u=void 0,e=void 0,v(r=h=s)?u=r:1==(null==(e=r)?void 0:e.nodeType)&&(u=r.tagName),!(u&&u.toLowerCase().startsWith("i-")||h.nodeType===Node.ELEMENT_NODE&&(h.hasAttribute("placeholder")||h.hasAttribute("fallback")||h.hasAttribute("overflow")))&&n.push(s);var h,r,u,e;return n}(this.element);ht(1==h.length,"%s should have its target element as its one and only child",Xt),ht(_t.has(h[0].tagName),"%s is not supported by %s",h[0].tagName,Xt),this.element.classList.add("i-amphtml-pan-zoom"),this.bX=h[0],this.bX.classList.add("i-amphtml-pan-zoom-child"),this.DP=this.xY("max-scale",3),this.bY=this.xY("initial-scale",1),this.mY=this.xY("initial-x",0),this.dY=this.xY("initial-y",0),this.yY=this.element.hasAttribute("reset-on-resize"),this.wY=this.element.hasAttribute("disable-double-tap"),this.registerAction("transform",(function(t){var i=t.args;if(i){var n=i.scale||1,h=i.x||0,r=i.y||0;return s.transform(h,r,n)}}))},s.transform=function(t,i,n){var s=this;this.QP(n);var h=this.lX(t,!1),r=this.vX(i,!1);return this.dX(n,h,r,!0).then((function(){return s.nX()}))},s.layoutCallback=function(){return this.EY(),lt(this.element).scheduleLayout(this.element,this.bX),this.SY().then(this.AY())},s.pauseCallback=function(){this.kY()},s.resumeCallback=function(){this.bX&&lt(this.element).scheduleLayout(this.element,this.bX),this.AY()},s.unlayoutCallback=function(){return this.kY(),!0},s.isLayoutSupported=function(t){return"fixed"==t||"fixed-height"==t||"fill"==t||"responsive"==t},s.wE=function(){this.yY&&this.SY()},s.EY=function(){var t,i,n=this;this.MY=(i=(t=this.element).ownerDocument||t,_&&_.ownerDocument===i||(_=i.createElement("div")),B)(Yt),this.MY.addEventListener("click",(function(){n.MY.classList.contains("amp-pan-zoom-in-icon")?(n.transform(0,0,n.DP),n.jY()):(n.transform(0,0,n.QI),n.DY())})),this.element.appendChild(this.MY)},s.xY=function(t,i){var n=this.element;return n.hasAttribute(t)?parseInt(n.getAttribute(t),10):i},s.OY=function(t){var i=this.LI.width/t,n=this.LI.height*t,s=Math.min(i,this.LI.height),h=Math.min(n,this.LI.width);Math.abs(h-this.ZI)<=16&&Math.abs(s-this.$I)<=16&&(h=this.ZI,s=this.$I),this.vY=S(0,0,Math.round(h),Math.round(s))},s.NY=function(t){var i=this.LI,n=i.height,s=i.width/n,h=Math.max(s/t,t/s);isNaN(h)||(this.DP=Math.max(this.DP,h))},s.iA=function(){this.ZI=this.bX.scrollWidth,this.$I=this.bX.scrollHeight;var t=this.ZI/this.$I;this.LI=this.getViewport().getLayoutRect(this.element),this.OY(t),this.NY(t),this.JI=this.HI=this.bY,this.MM=this.XP=this.mY,this.kM=this.YP=this.dY},s.SY=function(){var t=this;return this.mutateElement((function(){return t.RY()})).then((function(){return t.measureMutateElement((function(){return t.iA()}),(function(){return t.IY()}),t.bX)})).then((function(){return t.PY(),t.QP(t.HI),t.tX()}))},s.PY=function(){var t,i=(t=this.bX.getBoundingClientRect(),S(Number(t.left),Number(t.top),Number(t.width),Number(t.height)));this.vY.top=i.top-this.LI.top,this.vY.left=i.left-this.LI.left},s.IY=function(){P(this.bX,{width:Y(this.vY.width),height:Y(this.vY.height)})},s.RY=function(){P(this.bX,{width:"",height:""})},s.YY=function(t){return t-(this.LI.left-this.getViewport().getScrollLeft())},s.TY=function(t){return t-(this.LI.top-this.getViewport().getScrollTop())},s.AY=function(){var t=this;this.HP(),this.HM=Mt(this.element,"mousedown",(function(i){return t.kl(i)})),function(t,i,n){var s=t.ownerDocument.defaultView;if(s){var h=U.get(t);if(h||(h=[],U.set(t,h),W(s).observe(t)),!h.some((function(t){return t.callback===n&&0===t.type}))){h.push({type:0,callback:n});var r=H.get(t);r&&setTimeout((function(){return V(0,n,r)}))}}}(this.element,0,this.wE)},s.hb=function(t){t&&(t(),t=null)},s.kY=function(){this.JP(),this.hb(this.HM),this.hb(this.qM),this.hb(this.$M),function(t,i,n){var s=U.get(t);if(s&&(function(t,i){for(var s=[],h=0,r=0;r<t.length;r++){var u=t[r];(e=u).callback===n&&0===e.type?s.push(u):(h<r&&(t[h]=u),h++)}var e;h<t.length&&(t.length=h)}(s),0==s.length)){U.delete(t),H.delete(t);var h=t.ownerDocument.defaultView;h&&W(h).unobserve(t)}}(this.element,0,this.wE)},s.kl=function(t){var i=this;if(2!=t.button){t.preventDefault();var n=t.clientX,s=t.clientY;this.hb(this.qM),this.hb(this.$M),this.zY=n,this.gY=s,this.qM=Mt(this.element,"mousemove",(function(t){return i.Gl(t)})),this.$M=Mt(this.win,"mouseup",(function(t){return i.VA(t)}))}},s.Gl=function(t){t.preventDefault();var i=t.clientX,n=t.clientY,s=i-this.zY,h=n-this.gY;this.oX(s,h,!1)},s.VA=function(t){t.preventDefault(),this.mX(),this.hb(this.qM),this.hb(this.$M)},s.JP=function(){this.MA&&(this.MA.cleanup(),this.MA=null)},s.HP=function(){var t=this;this.MA||(this.MA=Et.get(this.element),this.MA.onPointerDown((function(){t.ZP&&t.ZP.halt()})),this.MA.onGesture(Pt,(function(i){return t.handlePinch(i.data)})),this.wY||(this.MA.onGesture(Rt,(function(i){return t.handleDoubleTap(i.data)})),this.MA.onGesture(Nt,(function(i){return t.XY(i.data)}))))},s.handleDoubleTap=function(t){var i=this,n=t.clientX,s=t.clientY;return this._Y(n,s).then((function(){return i.nX()}))},s.handlePinch=function(t){var i=this,n=t.centerClientX,s=t.centerClientY,h=t.deltaX,r=t.deltaY,u=t.dir,e=t.last;return this.uX(n,s,h,r,u).then((function(){if(e)return i.nX()}))},s.handleSwipe=function(t){var i=this,n=t.deltaX,s=t.deltaY,h=t.last,r=t.velocityX,u=t.velocityY;return this.oX(n,s,!1).then((function(){if(h)return i.fX(r,u)}))},s.XY=function(t){var i=yt(this.win,"click",null,{bubbles:!0});t.target.dispatchEvent(i)},s.CY=function(){var t=this;this.VI=this.MA.onGesture(It,(function(i){return t.handleSwipe(i.data)}))},s.LY=function(){this.VI&&(this.VI(),this.VI=null,this.MA.removeGesture(It))},s.cX=function(t,i){var n=i?.25:0;return Z(t,this.QI,this.DP,n)},s.lX=function(t,i){var n=.25*this.LI.width,s=i&&this.HI>1?n:0;return Z(t,this.NP,this.FP,s)},s.vX=function(t,i){var n=.25*this.LI.height,s=i&&this.HI>1?n:0;return Z(t,this.GP,this.WP,s)},s.QP=function(t){var i=this.vY,n=i.height,s=i.left,h=i.top,r=i.width,u=this.LI,e=u.height,o=u.width;this.NP=Math.min(0,o-(s+r*(t+1)/2)),this.FP=Math.max(0,(r*t-r)/2-s),this.GP=Math.min(0,e-(h+n*(t+1)/2)),this.WP=Math.max(0,(n*t-n)/2-h)},s.tX=function(){var t=this.bX,i=this.XP,n=this.YP,s=this.HI;return this.mutateElement((function(){var h;P(t,{transform:X(i,n)+" "+(h=s,"scale(".concat(h,")"))})}),t)},s.UY=function(t,i,n){var s=yt(this.win,"".concat(Xt,".transformEnd"),{"scale":t,"x":i,"y":n});this.Ks.trigger(this.element,"transformEnd",s,3),function(t,i,n,s){m(t.ownerDocument);var h=t.ownerDocument.createEvent("Event");h.data={};var r=x,u=E;h.initEvent("transformEnd",r,u),t.dispatchEvent(h)}(this.element)},s.oX=function(t,i,n){var s=this.lX(this.MM+t,!0),h=this.vX(this.kM+i,!0);return this.dX(this.HI,s,h,n)},s.fX=function(t,i){var n=this;return this.ZP=function(t,i,s,h,r,u,e){return new Ot(t,i,s,h,r,(function(t,i){var s=n.lX(t,!0),h=n.vX(i,!0);return!(Math.abs(s-n.XP)<1&&Math.abs(h-n.YP)<1||(n.dX(n.HI,s,h,!1),0))}),void 0).start()}(this.bX,this.XP,this.YP,t,i),this.ZP.thenAlways((function(){return n.ZP=null,n.mX()}))},s._Y=function(t,i){var n=this.HI==this.QI?this.DP:this.QI,s=this.LI.width/2-this.YY(t),h=this.LI.height/2-this.TY(i);return this.iX(n,s,h,!0)},s.uX=function(t,i,n,s,r){if(0==r)return h();var u=this.LI,e=u.height,o=u.width,f=$(n,s),a=this.JI*(1+r*f/100),c=o/2-this.YY(t),l=e/2-this.TY(i),v=Math.min(f/100,1)*c,p=Math.min(f/100,1)*l;return this.iX(a,v,p,!1)},s.iX=function(t,i,n,s){var r=this.cX(t,!0);if(r==this.HI)return h();this.QP(r);var u=this.lX(this.MM+i*r,!1),e=this.vX(this.kM+n*r,!1);return this.dX(r,u,e,s)},s.DY=function(){this.MY&&(this.MY.classList.add("amp-pan-zoom-in-icon"),this.MY.classList.remove("amp-pan-zoom-out-icon"))},s.jY=function(){this.MY&&(this.MY.classList.remove("amp-pan-zoom-in-icon"),this.MY.classList.add("amp-pan-zoom-out-icon"))},s.nX=function(){var t=this;return this.mX().then((function(){t.HI<=t.QI?(t.LY(),t.DY(),t.bX.classList.remove("i-amphtml-pan-zoom-scrollable")):(t.CY(),t.jY(),t.bX.classList.add("i-amphtml-pan-zoom-scrollable"))}))},s.dX=function(t,i,n,s){var h,r,u=this,e=t-this.HI,o=(h=this.XP,r=this.YP,$(i-h,n-r)),f=s?250*Math.min(1,Math.max(.01*o,Math.abs(e))):0;if(f>16&&s){var a=F(this.HI,t),c=F(this.XP,i),l=F(this.YP,n);return dt.animate(this.bX,(function(t){u.HI=a(t),u.XP=c(t),u.YP=l(t),u.tX()}),f,Tt).thenAlways((function(){u.HI=t,u.XP=i,u.YP=n,u.tX()}))}return this.HI=t,this.XP=i,this.YP=n,this.tX()},s.mX=function(){var t=this,i=this.cX(this.HI,!1);i!=this.HI&&this.QP(i);var n=this.lX(this.XP/this.HI*i,!1),s=this.vX(this.YP/this.HI*i,!1);return this.dX(i,n,s,!0).then((function(){t.JI=t.HI,t.MM=t.XP,t.kM=t.YP,t.UY(t.HI,t.XP,t.YP)}))},n}(t.BaseElement);t.registerElement(Xt,Ct,'.i-amphtml-pan-zoom{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.i-amphtml-pan-zoom-child{position:absolute}.i-amphtml-pan-zoom-scrollable{cursor:all-scroll}.amp-pan-zoom-button{position:absolute;right:12px;width:36px;height:36px;bottom:12px;background-repeat:no-repeat;background-position:50%;box-shadow:1px 1px 2px;background-color:#fff;border-radius:3px}.amp-pan-zoom-in-icon{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}.amp-pan-zoom-out-icon{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 13H5v-2h14z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}\n/*# sourceURL=/extensions/amp-pan-zoom/0.1/amp-pan-zoom.css*/')}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-pan-zoom-0.1.js.map