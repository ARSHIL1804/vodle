;
(self.AMP=self.AMP||[]).push({m:1,v:"2203281422000",n:"amp-byside-content",ev:"0.1",l:!0,f:function(t,n){(()=>{var{isArray:n}=Array;function e(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function i(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,{hasOwnProperty:o,toString:a}=Object.prototype;function s(t,n){try{return function(t){return JSON.parse(t)}(t)}catch(t){return null==n||n(t),null}}function l(t,n,e){return function(t,n){for(const e in n)t.setAttribute(e,n[e]);return t}(t.createElement(n),e)}function c(t,n){t.classList.add("i-amphtml-fill-content"),n&&t.classList.add("i-amphtml-replaced-content")}function u(t){const n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;const{message:e,stack:i}=t,r=new Error(e);for(const n in t)r[n]=t[n];return r.stack=i,r}function f(t){let n=null,e="";for(var r,o=i(arguments,!0);!(r=o()).done;){const t=r.value;t instanceof Error&&!n?n=u(t):(e&&(e+=" "),e+=t)}return n?e&&(n.message=e+": "+n.message):n=new Error(e),n}function d(t){var n,e;null===(n=(e=self).__AMP_REPORT_ERROR)||void 0===n||n.call(e,t)}var h=["Webkit","webkit","Moz","moz","ms","O","o"];function m(t,n,e,i,o){const a=function(t,n,e){if(n.startsWith("--"))return n;r||(r=Object.create(null));let i=r[n];if(!i||e){if(i=n,void 0===t[n]){const e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),r=function(t,n){for(let e=0;e<h.length;e++){const i=h[e]+n;if(void 0!==t[i])return i}return""}(t,e);void 0!==t[r]&&(i=r)}e||(r[n]=i)}return i}(t.style,n,o);if(!a)return;const s=i?e+i:e;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return h.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(a),s)}function p(t,n){for(const e in n)m(t,e,n[e])}var b=self.AMP_CONFIG||{},y=("string"==typeof b.thirdPartyFrameRegex?new RegExp(b.thirdPartyFrameRegex):b.thirdPartyFrameRegex,("string"==typeof b.cdnProxyRegex?new RegExp(b.cdnProxyRegex):b.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function g(t){if(!self.document||!self.document.head)return null;if(self.location&&y.test(self.location.origin))return null;const n=self.document.head.querySelector(`meta[name="${t}"]`);return n&&n.getAttribute("content")||null}b.thirdPartyUrl,b.thirdPartyFrameHost,b.cdnUrl||g("runtime-host"),b.errorReportingUrl,b.betaErrorReportingUrl,b.localDev,b.geoApiUrl||g("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var v=self.__AMP_LOG;function w(t){return function(t,n){throw new Error("failed to call initLogConstructor")}()}function x(t,n,e,i,r,o,a,s,l,c,u){return t}function E(t,n,e,i,r,o,a,s,l,c,u){return(v.user||(v.user=w()),void v.user.win?v.userForEmbed||(v.userForEmbed=w()):v.user).assert(t,n,e,i,r,o,a,s,l,c,u)}function _(t,n){return R(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function I(t,n){const e=function(t){const n=A(t);return n.isSingleDoc()?n.win:n}(A(t));return k(e,n)?R(e,n):null}function A(t){return t.nodeType?(n=t,e=(n.ownerDocument||n).defaultView,_(e,"ampdoc")).getAmpDoc(t):t;var n,e}function R(t,n){x(k(t,n));const e=function(t){let n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}(t)[n];return e.obj||(x(e.ctor),x(e.context),e.obj=new e.ctor(e.context),x(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function k(t,n){const e=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!e||!e.ctor)}var T;function P(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}function O(t){return t.data}function S(t,n){return T||(T=self.document.createElement("a")),function(t,n,e){return t.href="",new URL(n,t.href)}(T,t)}new Set(["c","v","a","ad"]);var C="unlisten";function M(t,n,e){const i=function(t,n){let{listeningFors:e}=t;return!e&&n&&(e=t.listeningFors=Object.create(null)),e||null}(t,e);if(!i)return i;let r=i[n];return!r&&e&&(r=i[n]=[]),r||null}function z(t,n){for(let e=n;e&&e!=e.parent;e=e.parent)if(e==t)return!0;return!1}function N(t){const n={"sentinel":C};for(let e=t.length-1;e>=0;e--){const i=t[e];if(!i.frame.contentWindow){t.splice(e,1);const{events:r}=i;for(const t in r)r[t].splice(0,1/0).forEach((t=>{t(n)}))}}}var U="amp-byside-content",$="main",j=0,V=class extends t.BaseElement{constructor(t){super(t),this.T_=[],this.Xw=null,this.Mv=null,this.q3=null,this.dft=$,this.bft="",this.Df="",this.yft="",this.gft="",this.vft="",this.h="",this.iP="",this.wft=function(t,n,e){let i=0,r=0,o=null;function a(){i=0;const e=100-(t.Date.now()-r);var s;e>0?i=t.setTimeout(a,e):(s=o,o=null,n.apply(null,s))}return function(...n){r=t.Date.now(),o=n,i||(i=t.setTimeout(a,100))}}(this.win,(t=>{this.Bv(t)}))}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}preconnectCallback(t){var n;this.h&&(n=this.win,_(n,"preconnect")).url(this.getAmpDoc(),this.h,t)}buildCallback(){this.bft=E(this.element.getAttribute("data-webcare-id"),"The data-webcare-id attribute is required for <%s> %s",U,this.element),this.vft=E(this.element.getAttribute("data-label"),"The data-label attribute is required for <%s> %s",U,this.element),this.dft=this.element.getAttribute("data-webcare-zone")||"main",this.Df=this.element.getAttribute("data-channel")||"",this.yft=this.element.getAttribute("data-lang")||"pt",this.gft=this.element.getAttribute("data-fid")||"",this.h=this.xft(),this.iP=this.h+"/BWA"+encodeURIComponent(this.bft)+"/amp/"}createPlaceholderCallback(){const t=this.win.document.createElement("div");return t.setAttribute("placeholder",""),t.appendChild(this.Eft()),c(t),t}layoutCallback(){const t=this.element.ownerDocument.createElement("iframe");return this.Mv=t,t.name="amp_byside_content_iframe"+j++,t.setAttribute("title",this.element.getAttribute("title")||""),t.setAttribute("scrolling","no"),t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),t.setAttribute("allowfullscreen","true"),t.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups"),p(t,{"opacity":0}),this.element.appendChild(this.dlt()),c(t),this._ft().then((n=>{this.Xw=function(t,n,e="source"){return E(null!=t,"%s %s must be available",n,e),E("https:"==(i=(t=>"string"==typeof t?S(t):t)(i=t)).protocol||"localhost"==i.hostname||"127.0.0.1"==i.hostname||function(t,n){const e=t.length-n.length;return e>=0&&t.indexOf(n,e)==e}(i.hostname,".localhost")||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,e,t),t;var i}(n,this.element,this.Xi()),t.src=this.Xw;const e=function(t,n,e,i,r,o){x(t.src),x(!t.parentNode),x(e);const a=t.ownerDocument.defaultView;!function(t){t.listeningFors||t.addEventListener("message",(function(n){if(!O(n))return;const e=function(t){return"string"==typeof t&&(t="{"==t.charAt(0)?s(t,(t=>{}))||null:P(t)?function(t){if(!P(t))return null;const n=t.indexOf("{");return s(t.substr(n),(n=>{!function(t){const n=f.apply(null,arguments);setTimeout((()=>{throw d(n),n}))}(new Error(`MESSAGING: Failed to parse message: ${t}\n${n.message}`))}))}(t):null),t}(O(n));if(!e||!e.sentinel)return;const i=function(t,n,e,i){const r=M(t,n);if(!r)return r;let o;for(let t=0;t<r.length;t++){const n=r[t],{contentWindow:e}=n.frame;if(e){if(i==e||z(e,i)){o=n;break}}else setTimeout(N,0,r)}return o?o.events:null}(t,e.sentinel,n.origin,n.source);if(!i)return;let r=i[e.type];if(r){r=r.slice();for(let t=0;t<r.length;t++)(0,r[t])(e,n.source,n.origin,n)}}))}(a);const l=function(t,n,e){const i=M(t,"amp",!0);let r;for(let t=0;t<i.length;t++){const e=i[t];if(e.frame===n){r=e;break}}return r||(r={frame:n,events:Object.create(null)},i.push(r)),r.events}(a,t),c=S(t.src).origin;let u,h=l["embed-size"]||(l["embed-size"]=[]),m=function(n,i,r,o){if("amp"==n.sentinel){if(i!=t.contentWindow)return;const n="null"==r&&undefined;if(c!=r&&!n)return}i==t.contentWindow&&(n.sentinel!=C?e(n,i,r,o):u())};return h.push(m),u=function(){if(m){const t=h.indexOf(m);t>-1&&h.splice(t,1),m=null,h=null,e=null}}}(t,0,this.wft);return this.T_.push(e),this.element.appendChild(t),this.q3=this.loadPromise(t)})).then((()=>{this.getVsync().mutate((()=>{p(t,{"opacity":1})}))}))}xft(){const t=this.dft===$?"webcare":this.dft;return"https://"+encodeURIComponent(t)+".byside.com"}_ft(){const t=function(t,e){return function(t,n,e){if(!n)return t;const i=t.split("#",2),r=i[0].split("?",2);let o=r[0]+(r[1]?`?${r[1]}&${n}`:`?${n}`);return o+=i[1]?`#${i[1]}`:"",o}(t,function(t){const e=[];for(const a in t){let s=t[a];if(null!=s){s=n(o=s)?o:[o];for(let t=0;t<s.length;t++)e.push((i=a,r=s[t],`${encodeURIComponent(i)}=${encodeURIComponent(r)}`))}}var i,r,o;return e.join("&")}(e))}(this.iP+"placeholder.php",{"label":this.vft,"webcare_id":this.bft,"bwch":this.Df||"","lang":this.yft||"","fid":this.gft||"","bwit":this.gft?"I":"A","tuid":"CLIENT_ID(byside_webcare_tuid)","suid":"","puid":"PAGE_VIEW_IDpTIMESTAMP","referrer":"DOCUMENT_REFERRER","page":"SOURCE_URL","amppage":"AMPDOC_URL","bwpt":"TITLE","bres":"VIEWPORT_WIDTHxVIEWPORT_HEIGHT","res":"SCREEN_WIDTHxSCREEN_HEIGHT","v":"v20171116a","ampv":"AMP_VERSION","viewer":"VIEWER","ua":"USER_AGENT","r":"RANDOM","_resize":"1"});return(e=this.element,I(e,"url-replace")).expandUrlAsync(t);var e}Xi(){let t=this.bft||"";return t+=t&&this.vft?": ":"",t+=this.vft||"","amp-byside-content: "+(t||"<unknown tag>")}dlt(){const t=this.element.ownerDocument,n=l(t,"div",{"class":"i-amphtml-byside-content-overflow","overflow":""}),e=l(t,"div",{"class":"i-amphtml-byside-content-overflow-content"}),i=l(t,"div",{"class":"i-amphtml-byside-content-arrow-down"});return e.appendChild(i),n.appendChild(e),n}Eft(){const t=this.element.ownerDocument,n=l(t,"div",{"class":"i-amphtml-byside-content-loading-container"}),e=l(t,"div",{"class":"i-amphtml-byside-content-loading-animation"});return n.appendChild(e),n}Bv(t){this.getVsync().measure((()=>{let n,e;const i=parseInt(t.height,10);isNaN(i)||(n=Math.max(i+(this.element.offsetHeight-this.Mv.offsetHeight),i));const r=parseInt(t.width,10);isNaN(r)||(e=Math.max(r+(this.element.offsetWidth-this.Mv.offsetWidth),r)),void 0===n&&void 0===e||this.attemptChangeSize(n,e).then((()=>{void 0!==n&&this.element.setAttribute("height",n),void 0!==e&&this.element.setAttribute("width",e)}),(()=>{}))}))}unlayoutCallback(){var t,n;return this.T_.forEach((t=>t())),this.T_.length=0,this.Mv&&(null===(n=(t=this.Mv).parentElement)||void 0===n||n.removeChild(t),this.Mv=null,this.q3=null),!0}};t.registerElement("amp-byside-content",V,'.i-amphtml-byside-content-overflow{position:relative;top:100%;width:100%;height:100px;margin-top:-100px;text-align:center;background:linear-gradient(180deg,hsla(0,0%,100%,0) 0%,#fff 75%)}.i-amphtml-byside-content-overflow,.i-amphtml-byside-content-overflow .i-amphtml-byside-content-overflow-content{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.i-amphtml-byside-content-overflow .i-amphtml-byside-content-overflow-content{width:100px;height:30px;border-radius:15px;background-color:#093c71;border:1px solid #093c71;color:#fff}.i-amphtml-byside-content-arrow-down{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #fff}.i-amphtml-byside-content-loading-container{background-color:rgba(0,0,0,0.02);display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation{display:block;text-align:center;position:relative;height:16px;width:40px;margin:4px auto;background:transparent}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:after,.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:before{content:"";position:absolute;top:0;left:0;z-index:9;width:16px;height:16px;border-radius:50%;opacity:0.95;animation-name:i-amphtml-byside-content-loading-translate,i-amphtml-byside-content-loading-zindex;animation-delay:0;animation-duration:0.8s;animation-direction:alternate;animation-timing-function:linear;animation-iteration-count:infinite}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:before{background:#093c71}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:after{background:#e75204;z-index:0;animation-name:i-amphtml-byside-content-loading-translate-inverse,i-amphtml-byside-content-loading-zindex-inverse;animation-delay:0s,0.6s}@keyframes i-amphtml-byside-content-loading-translate{0%{transform:translate(-12px)}to{transform:translate(12px)}}@keyframes i-amphtml-byside-content-loading-zindex{0%{z-index:9}to{z-index:0}}@keyframes i-amphtml-byside-content-loading-translate-inverse{0%{transform:translate(12px)}to{transform:translate(-12px)}}@keyframes i-amphtml-byside-content-loading-zindex-inverse{0%{z-index:0}to{z-index:9}}\n/*# sourceURL=/extensions/amp-byside-content/0.1/amp-byside-content.css*/')})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-byside-content-0.1.mjs.map