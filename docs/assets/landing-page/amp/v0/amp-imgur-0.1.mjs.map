{"version":3,"file":"amp-imgur-0.1.mjs","mappings":"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","names":["hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","value","call","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","opt_element","getUserLogger","win","ownerDocument","defaultView","isFromEmbed","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","optsSupported","Services","window","holder","id","devAssert","service","__AMP_SERVICES","ctor","isServiceRegistered","s","services","getServices","obj","context","resolve","getServiceInternal","TAG","AmpImgur","AMP","BaseElement","constructor","element","super","this","iframe_","unlistenMessage_","resolveReceivedMessage_","isLayoutSupported","layout","isLayoutSizeDefined","buildCallback","dataset","imgurId","assert","layoutCallback","eventType","listener","opt_evtListenerOpts","localElement","localListener","wrapped","event","e","__AMP_REPORT_ERROR","undefined","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","internalListenImplementation","handleImgurMessages_","bind","sanitizedId","replace","unusedMatch","aSlash","rest","encodeURIComponent","insertLoadIframe_","catch","startsWith","idWithPrefix","then","error","iframe","doc","attributes","scrolling","frameborder","allowfullscreen","title","attr","setAttribute","addAttributesToElement","createElement","src","removeChild","appendChild","opt_replacedContent","classList","add","applyFillContent","promise","Promise","res","rej","reject","loadPromise","timeoutPromise","source","contentWindow","eventData","data","getData","isObject","json","opt_onFailed","JSON","parse","parseJson","tryParseJson","height","attemptChangeHeight","unlayoutCallback","_element$parentElemen","parentElement","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/data-structures/promise.js","src/core/types/object/index.js","src/core/dom/layout/index.js","src/config.js","src/utils/log.js","src/service/index.js","src/core/dom/event-helper-listen.js","src/service-helpers.js","extensions/amp-imgur/0.1/amp-imgur.js","src/utils/event-helper.js","src/core/dom/index.js","src/core/types/object/json.js"]}
