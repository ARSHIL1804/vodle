{"version":3,"file":"amp-vk-0.1.js","mappings":"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","names":["o","p","_setPrototypeOf","Object","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","obj","_typeof","Symbol","iterator","constructor","prototype","self","call","TypeError","ReferenceError","assertThisInitialized","isArray","Array","_Object$prototype","hasOwnProperty","toString","env","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","getUserLogger","win","assert","id","getServiceInternal","__AMP_TOP","getTopWindow","nodeOrDoc","nodeType","node","ownerDocument","defaultView","getService","getAmpDoc","holder","devAssert","service","__AMP_SERVICES","ctor","isServiceRegistered","s","services","getServices","context","resolve","optsSupported","Services","elementOrAmpDoc","getAmpdoc","ampdoc","isSingleDoc","getServiceForDoc","url","paramString","opt_addToFront","mainAndFragment","split","mainAndQuery","params","appendEncodedParamStringToUrl","key","value","arrayOrSingleItem","k","v","i","length","push","encodeURIComponent","join","serializeQueryString","Set","EmbedType","AmpVk","subClass","superClass","create","writable","configurable","_inherits","Derived","hasNativeReflectConstruct","_super","AmpVk2","Reflect","construct","sham","Proxy","Boolean","valueOf","e","isNativeReflectConstruct","result","Super","NewTarget","this","arguments","apply","possibleConstructorReturn","element","_this","iframe_","widgetHeight_","unlistenMessage_","embedType_","ownerId_","postId_","hash_","apiId_","pollId_","preconnectCallback","opt_onLayout","window","_proto","getIFrameSrc_","iframeSrcPromise","createdTime","Date","now","getVkPostIFrameSrc_","getVkPollIFrameSrc_","then","iframeSrc","getReferrerUrl","ref","startWidth","_this2","offsetWidth","pageUrl","getUrl","addParamsToUrl","app","width","_ver","owner_id","post_id","hash","amp","referrer","title","_this3","poll_id","description","buildCallback","userAssert","postBuildCallback_","pollBuildCallback_","layoutCallback","eventType","listener","opt_evtListenerOpts","localElement","localListener","wrapped","_this4","iframe","createElement","handleVkIframeMessage_","bind","event","__AMP_REPORT_ERROR","undefined","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","src","setAttribute","opt_replacedContent","classList","add","applyFillContent","appendChild","loadPromise","source","contentWindow","eventData","data","matches","exec","newHeight","parseInt","forceChangeHeight","isLayoutSupported","layout","unlayoutOnPause","unlayoutCallback","_element$parentElemen","parentElement","removeChild","AMP","BaseElement","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","src/core/types/array.js","src/core/types/object/index.js","src/core/dom/layout/index.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","src/core/dom/event-helper-listen.js","src/url.js","extensions/amp-vk/0.1/amp-vk.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/createSuper.js","node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","src/utils/event-helper.js","src/core/dom/index.js"]}
