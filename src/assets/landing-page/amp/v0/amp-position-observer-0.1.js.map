{"version":3,"file":"amp-position-observer-0.1.js","mappings":"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","names":["o","p","_setPrototypeOf","Object","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","obj","_typeof","Symbol","iterator","constructor","prototype","self","call","TypeError","ReferenceError","assertThisInitialized","array","shouldRemove","removed","index","i","length","item","push","Array","isArray","val","value","nodeType","tagName","toLowerCase","id","shouldBeTruthy","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","sentinel","arguments","indexOf","splitMessage","split","message","shift","messageArray","subValue","nextConstant","elementStringOrPassThru","trim","error","Error","remove","x","__AMP_REPORT_ERROR","assertions","userAssert","test","_Object$prototype","hasOwnProperty","toString","RelativePositions_Enum","left","top","width","height","bottom","right","y","r1","r2","env","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","levelFunc","opt_suffix","opt_element","getUserLogger","win","ownerDocument","defaultView","isFromEmbed","suffix","callLogConstructor","shouldBeTrueish","assert","getServiceInternal","__AMP_TOP","getTopWindow","elementOrAmpDoc","getAmpdocServiceHolder","getAmpdoc","nodeOrDoc","node","getService","getAmpDoc","ampdoc","isSingleDoc","holder","devAssert","isServiceRegistered","s","getServices","ctor","context","resolve","services","__AMP_SERVICES","service","Services","getServiceForDoc","PositionObserverWorker","element","fidelity","handler","this","handler_","turn","Math","floor","random","prevPosition_","viewport_","trigger_","position","prevPos","layoutRectEquals","positionRect","viewportRect","relativePos","layoutRectsRelativePos","_proto","update","opt_force","viewportSize","getSize","viewportBox","layoutRectLtwh","getClientRectAsync","then","elementBox","_this","PositionObserverWorker2","PositionObserver","ampdoc_","win_","workers_","vsync_","unlisteners_","inScroll_","measure_","callbackStarted_","boundStopScroll_","callback","minInterval","locker","timestamp","nextCallArgs","args","remaining","Date","now","setTimeout","waiter","apply","_key3","debounce","observe","worker","startCallback_","_this2","removeWorker_","unobserve","splice","stopCallback_","onScroll","_this3","onScrollHandler_","onResize","onResizeHandler_","pop","unlisten","updateAllEntries","schedulePass_","measure","_this4","PositionObserver2","type","detail","opt_eventInit","eventInit","assign","CustomEvent","e","createEvent","initCustomEvent","bubbles","cancelable","TAG","AmpVisibilityObserver","subClass","superClass","create","writable","configurable","_inherits","Derived","hasNativeReflectConstruct","_super","AmpVisibilityObserver2","Reflect","construct","sham","Proxy","Boolean","valueOf","isNativeReflectConstruct","result","Super","NewTarget","possibleConstructorReturn","action_","positionObserver_","isVisible_","topRatio_","bottomRatio_","topMarginExpr_","bottomMarginExpr_","resolvedTopMargin_","resolvedBottomMargin_","viewportRect_","targetId_","initialViewportHeight_","scrollProgress_","remainingScrollToExit_","runOnce_","firstIterationComplete_","buildCallback","whenFirstVisible","init_","bind","hasAttribute","parseAttributes_","maybeInstallPositionObserver_","whenReady","scene","discoverScene_","positionChanged_","triggerEnter_","event","createCustomEvent","trigger","triggerExit_","triggerScroll_","scrolltop","getScrollTop","positionObserverData","percent","entry","wasVisible","prevViewportHeight","adjustForSmallViewportResize_","recalculateMargins_","relPos","adjViewportRect","applyMargins_","updateVisibility_","updateScrollProgress_","adjustedViewportRect","ratioToUse","offset","totalProgressOffset","totalProgress","topOffset","abs","ratios","topBottom","validateAndResolveRatio_","margins","assertElement","getElementById","parentNode","body","documentElement","validateAndResolveMargin_","res","unit","assertLength","m","exec","getLengthUnits","num","parseFloat","isFinite","undefined","rect","viewportHeightChangeDelta","resizeOffset","opt_override","opt_sharedInstance","promise","reject","sharedInstance","registerServiceInternal","maybeUninstallPositionObserver_","AMP","BaseElement","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","src/core/types/array.js","src/core/types/object/index.js","src/core/error/message-helpers.js","src/core/types/index.js","src/core/assert/user.js","src/core/assert/base.js","src/core/dom/layout/index.js","src/core/dom/layout/rect.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","src/service/position-observer/position-observer-worker.js","src/service/position-observer/position-observer-impl.js","src/core/types/function/index.js","src/utils/event-helper.js","extensions/amp-position-observer/0.1/amp-position-observer.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/createSuper.js","node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","src/core/constants/action-constants.js"]}
