;
(self.AMP=self.AMP||[]).push({m:1,v:"2203281422000",n:"amp-tiktok",ev:"0.1",l:!0,f:function(t,n){(()=>{var n,i,{hasOwnProperty:e,toString:o}=Object.prototype;function r(t,n,i,e,o,r,l,s,c,h,u){return t}function l(t){r(/^[\w-]+$/.test(t))}function s(t,n){return t.querySelector(function(t,n){return t.replace(/^|,/g,"$&:scope ")}(n))}function c(t,n,i){return function(t,n){for(const i in n)t.setAttribute(i,n[i]);return t}(t.createElement(n),i)}function h(t){return function(t,n){r(1===n.length),t.innerHTML=n[0];const i=t.firstElementChild;return r(i),r(!i.nextElementSibling),t.removeChild(i),i}(n,t)}var u=["Webkit","webkit","Moz","moz","ms","O","o"];function a(t,n,e,o,r){const l=function(t,n,e){if(n.startsWith("--"))return n;i||(i=Object.create(null));let o=i[n];if(!o||e){if(o=n,void 0===t[n]){const i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),e=function(t,n){for(let i=0;i<u.length;i++){const e=u[i]+n;if(void 0!==t[e])return e}return""}(t,i);void 0!==t[e]&&(o=e)}e||(i[n]=o)}return o}(t.style,n,r);if(!l)return;const s=o?e+o:e;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return u.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(l),s)}function f(t,n){for(const i in n)a(t,i,n[i])}function p(t){return`${t}px`}var d=self.AMP_CONFIG||{},m=("string"==typeof d.thirdPartyFrameRegex?new RegExp(d.thirdPartyFrameRegex):d.thirdPartyFrameRegex,("string"==typeof d.cdnProxyRegex?new RegExp(d.cdnProxyRegex):d.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function v(t){if(!self.document||!self.document.head)return null;if(self.location&&m.test(self.location.origin))return null;const n=self.document.head.querySelector(`meta[name="${t}"]`);return n&&n.getAttribute("content")||null}function k(t,n,i,e,o,r,l,s,c,h,u){return t}function g(t,n){return w(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function w(t,n){k(function(t,n){const i=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!i||!i.ctor)}(t,n));const i=function(t){let n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}(t)[n];return i.obj||(k(i.ctor),k(i.context),i.obj=new i.ctor(i.context),k(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}d.thirdPartyUrl,d.thirdPartyFrameHost,d.cdnUrl||v("runtime-host"),d.errorReportingUrl,d.betaErrorReportingUrl,d.localDev,d.geoApiUrl||v("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var x,b=['<svg width=38 height=38 viewBox="0 0 72 72" fill=none style="margin: 17px;" xmlns=http://www.w3.org/2000/svg><path d="M22.96.04C25.35 0 27.72.02 30.09 0c.14 2.8 1.14 5.67 3.18 7.65 2.04 2.03 4.93 2.96 7.73 3.28v7.38a19.26 19.26 0 01-10.6-3.48c-.02 5.36.01 10.7-.04 16.04a14.01 14.01 0 01-2.47 7.23 13.55 13.55 0 01-10.77 5.88A13.2 13.2 0 019.7 42.1a13.82 13.82 0 01-6.65-10.47c-.04-.92-.06-1.84-.02-2.73a13.77 13.77 0 014.7-9.1 13.5 13.5 0 0111.21-3.16c.04 2.72-.07 5.43-.07 8.15a6.32 6.32 0 00-5.5.68 6.35 6.35 0 00-2.49 3.2c-.38.94-.27 1.97-.25 2.96.44 3 3.31 5.53 6.38 5.26a6.14 6.14 0 005.05-2.95c.34-.6.73-1.23.75-1.95.18-3.28.1-6.54.13-9.82.01-7.4-.02-14.76.03-22.13z" fill=#fff></path></svg>'],F=['<svg width=38 height=38 viewBox="0 0 72 72" fill=none style="margin: 17px;"><g clip-path=url(#clip0)><path d="M30.976 15.93a17.366 17.366 0 0010.122 3.233v-7.25a10.26 10.26 0 01-2.126-.223v5.708a17.37 17.37 0 01-10.121-3.234v14.797c0 7.402-6.011 13.402-13.425 13.402-2.767 0-5.338-.834-7.474-2.267a13.395 13.395 0 009.599 4.033c7.415 0 13.426-6 13.426-13.403V15.93zM33.6 8.614a10.098 10.098 0 01-2.623-5.916v-.933h-2.014a10.151 10.151 0 004.637 6.85zM12.64 34.416a6.099 6.099 0 01-1.252-3.711c0-3.386 2.749-6.13 6.14-6.13.633 0 1.261.096 1.864.287v-7.413a13.565 13.565 0 00-2.125-.122v5.77a6.154 6.154 0 00-1.864-.288 6.129 6.129 0 00-2.763 11.607z" fill=#FF004F></path><path d="M28.85 14.164a17.37 17.37 0 0010.122 3.234V11.69a10.165 10.165 0 01-5.374-3.076 10.151 10.151 0 01-4.636-6.849H23.67v28.96a6.137 6.137 0 01-6.142 6.11 6.136 6.136 0 01-4.888-2.419 6.13 6.13 0 012.763-11.606c.65 0 1.276.1 1.863.287v-5.77c-7.284.15-13.142 6.092-13.142 13.399 0 3.648 1.46 6.955 3.827 9.37a13.378 13.378 0 007.474 2.268c7.414 0 13.425-6 13.425-13.403V14.164z" fill=#000></path><path d="M38.973 11.69v-1.543c-1.9.003-3.763-.528-5.374-1.533a10.154 10.154 0 005.374 3.076zM28.962 1.765a10.326 10.326 0 01-.111-.832V0h-7.306v28.96a6.136 6.136 0 01-6.141 6.11 6.125 6.125 0 01-2.763-.654 6.136 6.136 0 004.889 2.42 6.137 6.137 0 006.14-6.11V1.766h5.292zM17.268 17.327v-1.643a13.576 13.576 0 00-1.842-.125C8.01 15.56 2 21.56 2 28.961c0 4.64 2.362 8.73 5.952 11.135a13.345 13.345 0 01-3.826-9.37c0-7.307 5.858-13.249 13.142-13.4z" fill=#00F2EA></path></g><defs><clipPath id=clip0><path fill=#fff d="M0 0h44v44H0z"></path></clipPath></defs></svg>'],y=0,M=class extends t.BaseElement{constructor(t){super(t),this.Mv=null,this.wI=null,this.Xg=null,this.ZU=null,this.JU=null,this.XU=null,this.GU=this.KU(),this.QU=775.25,this.YU=t=>{!function(t,n){for(let i=0;i<n.length;i++)a(t,n[i],null)}(this.Mv,["width","height","position","opacity","pointer-events"]),this.Mv.removeAttribute("aria-hidden"),this.Mv.title=this.element.title||"TikTok",this.Mv.classList.remove("i-amphtml-tiktok-unresolved"),this.Mv.classList.add("i-amphtml-tiktok-centered"),this.forceChangeHeight(t)},this.vq=function(t,n,i){let e=0,o=0,r=null;function l(){e=0;const i=1e3-(t.Date.now()-o);var s;i>0?e=t.setTimeout(l,i):(s=r,r=null,n.apply(null,s))}return function(...n){o=t.Date.now(),r=n,e||(e=t.setTimeout(l,1e3))}}(this.win,(t=>{this.YU(t)}))}static createLoaderLogoCallback(t){const i=function(t){const i=t.ownerDocument||t;return n&&n.ownerDocument===i||(n=i.createElement("div")),h}(t);var e;return e=t,l("placeholder"),s(e,"> [placeholder]")?{color:"#FFFFFF",content:i(b)}:{color:"#FFFFFF",content:i(F)}}preconnectCallback(t){var n;(n=this.win,g(n,"preconnect")).url(this.getAmpDoc(),"https://www.tiktok.com",t)}buildCallback(){const{src:t}=this.element.dataset;if(t){const n=/^((.+\/)?)(\d+)\/?$/;this.wI=t.replace(n,"$3"),this.ZU=this.wI===t?null:t}else{var n,i;const t=(e=this.element,l("blockquote"),s(e,"> blockquote"));if(!t||!t.hasAttribute("placeholder")||!t.dataset.videoId)return;this.wI=null==t||null===(n=t.dataset)||void 0===n?void 0:n.videoId,this.ZU=null==t||null===(i=t.dataset)||void 0===i?void 0:i.cite}var e}layoutCallback(){const{locale:t="en-US"}=this.element.dataset,n=`https://www.tiktok.com/embed/v2/${encodeURIComponent(this.wI)}?lang=${encodeURIComponent(t)}`,i=c(this.element.ownerDocument,"iframe",{"src":n,"name":this.GU,"aria-hidden":"true","frameborder":"0","class":"i-amphtml-tiktok-unresolved"});this.Mv=i,this.Xg=function(t,n,i,e){let o=t,r=i,l=t=>{try{return r(t)}catch(t){var n,i;throw null===(n=(i=self).__AMP_REPORT_ERROR)||void 0===n||n.call(i,t),t}};const s=function(){if(void 0!==x)return x;x=!1;try{const t={get capture(){return x=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return x}();return o.addEventListener(n,l,!!s&&e),()=>{null==o||o.removeEventListener(n,l,!!s&&e),r=null,o=null,l=null}}(this.win,"message",this.kq.bind(this),void 0);const{promise:e,resolve:o}=new class{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}};return this.XU=o,Promise.resolve(this.JU).then((t=>{null!=t&&t.title&&(i.title=`TikTok: ${t.title}`)})),this.element.appendChild(i),this.loadPromise(i).then((()=>{var t;(t=this.win,w(t,"timer")).timeoutPromise(1e3,e).catch((()=>{this.YU(this.QU),f(this.Mv,{"width":p(325),"height":p(this.QU)})}))}))}kq(t){if("https://www.tiktok.com"!=t.origin||t.source!=this.Mv.contentWindow)return;const n=function(t,n){try{return function(t){return JSON.parse(t)}(t)}catch(t){return null}}(function(t){return t.data}(t));n&&n.height&&(this.XU&&this.XU(),this.vq(n.height),f(this.Mv,{"width":p(n.width),"height":p(n.height)}))}createPlaceholderCallback(){if(!this.ZU)return;const t=c(this.element.ownerDocument,"div",{"placeholder":""}),n=c(this.element.ownerDocument,"div",{"class":"i-amphtml-tiktok-placeholder-image-container"}),i=encodeURIComponent(this.ZU);return this.JU=(e=this.win,g(e,"xhr")).fetchJson(`https://www.tiktok.com/oembed?url=${i}`).then((t=>t.json())).then((i=>{const{"thumbnail_url":e}=i;if(e){const i=c(this.element.ownerDocument,"img",{"src":e,"placeholder":e,"class":"i-amphtml-tiktok-centered i-amphtml-tiktok-placeholder-image"});t.parentElement&&(n.appendChild(i),t.appendChild(n))}return i})),t;var e}unlayoutCallback(){var t,n;return this.Mv&&(null===(n=(t=this.Mv).parentElement)||void 0===n||n.removeChild(t),this.Mv=null),this.Xg&&this.Xg(),!0}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}KU(){let t=(y++).toString();for(;t.length<17;)t="0"+t;return"__tt_embed__v"+t}};t.registerElement("amp-tiktok",M,".i-amphtml-tiktok-centered{height:100%;left:50%;width:325px;transform:translateX(-50%);position:absolute}.i-amphtml-tiktok-unresolved{position:fixed;opacity:0;pointer-events:none;width:325px;height:1000px}.i-amphtml-tiktok-placeholder-image{height:578px;top:1px;border-radius:8px 8px 0px 0px}.i-amphtml-tiktok-placeholder-image-container{height:100%;background:hsla(0,0%,86%,0.6)}\n/*# sourceURL=/extensions/amp-tiktok/0.1/amp-tiktok.css*/")})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-tiktok-0.1.mjs.map