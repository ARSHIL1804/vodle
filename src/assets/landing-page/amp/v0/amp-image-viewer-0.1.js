;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-image-viewer",ev:"0.1",l:!0,f:function(t,i){!function(){function i(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function n(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return i(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r;function s(){return r||(r=Promise.resolve(void 0))}var h=function(){var t=this;this.promise=new Promise((function(i,n){t.resolve=i,t.reject=n}))};function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e(t,i){return(e=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function o(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&e(t,i)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,i){if(i&&("object"===a(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function l(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(i){var s=f(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return c(this,n)}}var v=Array.isArray;function d(t,i){for(var n=[],r=0,s=0;s<t.length;s++){var h=t[s];i(h,s,t)?n.push(h):(r<s&&(t[r]=h),r++)}return r<t.length&&(t.length=r),n}function m(t){return"string"==typeof t}var p=Object.prototype;function M(t){return 1==(null==t?void 0:t.nodeType)}function b(t,i,n,r){return function(s){return y.solveYValueFromXValue(s,0,0,t,i,n,r,1,1)}}p.hasOwnProperty,p.toString;var w,y=function(){function t(){}return t.solveYValueFromXValue=function(i,n,r,s,h,u,e,o,f){return t.vf(t.df(i,n,s,u,o),r,h,e,f)},t.df=function(i,n,r,s,h){var u=1e-6,e=(i-n)/(h-n);if(e<=0)return 0;if(e>=1)return 1;for(var o=0,f=1,a=0,c=0;c<8;c++){a=t.mf(e,n,r,s,h);var l=(t.mf(e+u,n,r,s,h)-a)/u;if(Math.abs(a-i)<u)return e;if(Math.abs(l)<u)break;a<i?o=e:f=e,e-=(a-i)/l}for(var v=0;Math.abs(a-i)>u&&v<8;v++)a<i?(o=e,e=(e+f)/2):(f=e,e=(e+o)/2),a=t.mf(e,n,r,s,h);return e},t.mf=function(i,n,r,s,h){if(0==i)return n;if(1==i)return h;var u=t.pf(n,r,i),e=t.pf(r,s,i),o=t.pf(s,h,i);return u=t.pf(u,e,i),e=t.pf(e,o,i),t.pf(u,e,i)},t.vf=function(i,n,r,s,h){if(0==i)return n;if(1==i)return h;var u=t.pf(n,r,i),e=t.pf(r,s,i),o=t.pf(s,h,i);return u=t.pf(u,e,i),e=t.pf(e,o,i),t.pf(u,e,i)},t.pf=function(t,i,n){return t+n*(i-t)},t}(),g={LINEAR:function(t){return t},EASE:function(t){return y.solveYValueFromXValue(t,0,0,.25,.1,.25,1,1,1)},EASE_IN:function(t){return y.solveYValueFromXValue(t,0,0,.42,0,1,1,1,1)},EASE_OUT:function(t){return y.solveYValueFromXValue(t,0,0,0,0,.58,1,1,1)},EASE_IN_OUT:function(t){return y.solveYValueFromXValue(t,0,0,.42,0,.58,1,1,1)}},E={"linear":g.LINEAR,"ease":g.EASE,"ease-in":g.EASE_IN,"ease-out":g.EASE_OUT,"ease-in-out":g.EASE_IN_OUT};function S(t){if(!t)return null;if(m(t)){if(-1!=(t=t).indexOf("cubic-bezier")){var i=t.match(/cubic-bezier\((.+)\)/);if(i){var n=i[1].split(",").map(parseFloat);if(4==n.length){for(var r=0;r<4;r++)if(isNaN(n[r]))return null;return b(n[0],n[1],n[2],n[3])}}return null}return E[t]}return t}function A(t){return M(t)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t}function D(t,i,n,r,s,h,u,e,o,f,a){return t}function j(t,i,n,r,s,h,u,e,o,f,a){return function(t,i){var n,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(i)return i;t&&-1==s.indexOf(t)&&(s+=t);for(var h=3,u=s.split("%s"),e=u.shift(),o=[e];u.length;){var f=arguments[h++],a=u.shift();e+=A(f)+a,o.push(f,a.trim())}var c=new Error(e);throw c.messageArray=d(o,(function(t){return""!==t})),null===(n=(r=self).__AMP_REPORT_ERROR)||void 0===n||n.call(r,c),c}("​​​",t,i,n,r,s,h,u,e,o,f,a)}function O(t,i,n,r){return{left:t,top:i,width:n,height:r,bottom:i+r,right:t+n,x:t,y:i}}function k(t){var i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;var n=t.message,r=t.stack,s=new Error(n);for(var h in t)s[h]=t[h];return s.stack=r,s}function I(t){for(var i,r=null,s="",h=n(arguments,!0);!(i=h()).done;){var u=i.value;u instanceof Error&&!r?r=k(u):(s&&(s+=" "),s+=u)}return r?s&&(r.message=s+": "+r.message):r=new Error(s),r}function x(t){var i,n;null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t)}function P(t){var i=I.apply(null,arguments);setTimeout((function(){throw x(i),i}))}function X(t){try{for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.apply(null,n)}catch(t){P(t)}}var Y=["Webkit","webkit","Moz","moz","ms","O","o"],z={"getPropertyPriority":function(){return""},"getPropertyValue":function(){return""}};function N(t,i,n,r,s){var h=function(t,i,n){if(i.startsWith("--"))return i;var r;w||(r=Object.create(null),w=r);var s=w[i];if(!s||n){if(s=i,void 0===t[i]){var h=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),u=function(t,i){for(var n=0;n<Y.length;n++){var r=Y[n]+i;if(void 0!==t[r])return r}return""}(t,h);void 0!==t[u]&&(s=u)}n||(w[i]=s)}return s}(t.style,i,s);if(h){var u,e=r?n+r:n;t.style.setProperty((u=h.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),Y.some((function(t){return u.startsWith(t+"-")}))?"-".concat(u):u),e)}}function R(t,i){for(var n in i)N(t,n,i[n])}function C(t){return"".concat(t,"px")}function _(t,i){return"number"==typeof t?i(t):t}function T(t){return(t.ownerDocument||t).defaultView}var U=/vertical/,G=new WeakMap,F=new WeakMap,W=new WeakMap;function Z(t){var i=G.get(t);return i||(i=new t.ResizeObserver($),G.set(t,i)),i}function $(t){for(var i=new Set,n=t.length-1;n>=0;n--){var r=t[n],s=r.target;if(!i.has(s)){i.add(s);var h=F.get(s);if(h){W.set(s,r);for(var u=0;u<h.length;u++){var e=h[u],o=e.callback;L(e.type,o,r)}}}}}function L(t,i,n){if(0==t){var r=n.contentRect,s=r.height;X(i,{width:r.width,height:s})}else if(1==t){var h,u=n.borderBoxSize;if(u)h=u.length>0?u[0]:{inlineSize:0,blockSize:0};else{var e,o,f=n.target,a=T(f),c=U.test(function(t,i){return t.getComputedStyle(i)||z}(a,f).writingMode),l=f,v=l.offsetHeight,d=l.offsetWidth;c?(o=d,e=v):(e=d,o=v),h={inlineSize:e,blockSize:o}}X(i,h)}}function B(t,i,r,s){for(var h,u,e=n(v(h=t)?h:[h],!0);!(u=e()).done;){var o=u.value,f=i.getAttribute(o);null!==f?r.setAttribute(o,f):s&&r.removeAttribute(o)}}function V(t,i){return t.closest?t.closest(i):function(t,i,n){var r;for(r=t;r&&void 0!==r;r=r.parentElement)if(i(r))return r;return null}(t,(function(t){return function(t,i){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,i)}(t,i)}))}var q=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g,H=function(){function t(t){j(t.length>0,"Srcset must have at least one source"),this.ox=t;for(var i=!1,n=!1,r=0;r<t.length;r++){var s=t[r];i=i||!!s.width,n=n||!!s.dpr}j(!(i===n),"Srcset must have width or dpr sources, but not both"),t.sort(i?J:K),this.ux=i}var i=t.prototype;return i.select=function(t,i){var n;return D(t),D(i),n=this.ux?this.sx(t*i):this.lx(i),this.ox[n].url},i.sx=function(t){for(var i=this.ox,n=0,r=1/0,s=1/0,h=0;h<i.length;h++){var u,e=null!==(u=i[h].width)&&void 0!==u?u:0,o=Math.abs(e-t);if(!(o<=1.1*r||t/s>1.2))break;n=h,r=o,s=e}return n},i.lx=function(t){for(var i=this.ox,n=0,r=1/0,s=0;s<i.length;s++){var h=Math.abs(i[s].dpr-t);if(!(h<=r))break;n=s,r=h}return n},i.getUrls=function(){return this.ox.map((function(t){return t.url}))},i.stringify=function(t){for(var i=[],n=this.ox,r=0;r<n.length;r++){var s=n[r],h=s.url;t&&(h=t(h)),this.ux?h+=" ".concat(s.width,"w"):h+=" ".concat(s.dpr,"x"),i.push(h)}return i.join(", ")},t}();function J(t,i){return j(t.width!=i.width,"Duplicate width: %s",t.width),t.width-i.width}function K(t,i){return j(t.dpr!=i.dpr,"Duplicate dpr: %s",t.dpr),t.dpr-i.dpr}function Q(t,i){return function(n){return t+(i-t)*n}}function tt(t,i,n,r){return D(i<=n),function(t,i,n){return D(i<=n),Math.min(Math.max(t,i),n)}(t,i-r,n+r)}function it(t,i){return Math.sqrt(t*t+i*i)}var nt=function(){function t(){}return t.getTop=function(t){return t.top},t.getLocation=function(t){return t.location},t.getDocumentReferrer=function(t){return t.document.referrer},t.getHostname=function(t){return t.location.hostname},t.getUserAgent=function(t){return t.navigator.userAgent},t.getUserLanguage=function(t){return t.navigator.userLanguage||t.navigator.language},t.getDevicePixelRatio=function(){return self.devicePixelRatio||1},t.getSendBeacon=function(t){if(t.navigator.sendBeacon)return t.navigator.sendBeacon.bind(t.navigator)},t.getXMLHttpRequest=function(t){return t.XMLHttpRequest},t.getImage=function(t){return t.Image},t}(),rt=self.AMP_CONFIG||{},st=("string"==typeof rt.thirdPartyFrameRegex?new RegExp(rt.thirdPartyFrameRegex):rt.thirdPartyFrameRegex,("string"==typeof rt.cdnProxyRegex?new RegExp(rt.cdnProxyRegex):rt.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function ht(t){if(!self.document||!self.document.head)return null;if(self.location&&st.test(self.location.origin))return null;var i=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return i&&i.getAttribute("content")||null}rt.thirdPartyUrl,rt.thirdPartyFrameHost,rt.cdnUrl||ht("runtime-host"),rt.errorReportingUrl,rt.betaErrorReportingUrl,rt.localDev,rt.geoApiUrl||ht("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var ut=self.__AMP_LOG;function et(t,i){throw new Error("failed to call initLogConstructor")}function ot(t){return ut.user||(ut.user=ft()),function(t,i){return i&&i.ownerDocument.defaultView!=t}(ut.user.win,t)?ut.userForEmbed||(ut.userForEmbed=ft()):ut.user}function ft(t){return et()}function at(){return ut.dev||(ut.dev=et())}function ct(t,i,n,r,s,h,u,e,o,f,a){return t}function lt(t,i,n,r,s,h,u,e,o,f,a){return ot().assert(t,i,n,r,s,h,u,e,o,f,a)}function vt(t,i){return mt(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function dt(t){return t.nodeType?(i=T(t),vt(i,"ampdoc")).getAmpDoc(t):t;var i}function mt(t,i){ct(function(t,i){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}(t,i));var n=function(t){var i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}(t)[i];return n.obj||(ct(n.ctor),ct(n.context),n.obj=new n.ctor(n.context),ct(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}var pt,Mt,bt=function(t){return function(t,i){return mt((n=dt(t),(r=dt(n)).isSingleDoc()?r.win:r),i);var n,r}(t,"owners")},wt=function(t){return vt(t,"vsync")},yt="Animation",gt=function(){},Et=function(){function t(t,i){this.mn=t,this.Iu=i||wt(self),this.bf=null,this.gf=[]}t.animate=function(i,n,r,s){return new t(i).setCurve(s).add(0,n,1).start(r)};var i=t.prototype;return i.setCurve=function(t){return t&&(this.bf=S(t)),this},i.add=function(t,i,n,r){return this.gf.push({delay:t,func:i,duration:n,curve:S(r)}),this},i.start=function(t){return new St(this.Iu,this.mn,this.gf,this.bf,t)},t}(),St=function(){function t(t,i,n,r,s){this.Iu=t,this.mn=i,this.gf=[];for(var u=0;u<n.length;u++){var e=n[u];this.gf.push({delay:e.delay,func:e.func,duration:e.duration,curve:e.curve||r,started:!1,completed:!1})}this.yf=s,this.oc=Date.now(),this.Vn=!0,this.Pi={};var o=new h;this.wf=o.promise,this.Dn=o.resolve,this.Af=o.reject,this.Ef=this.Iu.createAnimTask(this.mn,{mutate:this.xf.bind(this)}),this.Iu.canAnimate(this.mn)?this.Ef(this.Pi):(at().warn(yt,"cannot animate"),this.Of(!1,0))}var i=t.prototype;return i.then=function(t,i){return t||i?this.wf.then(t,i):this.wf},i.thenAlways=function(t){var i=t||gt;return this.then(i,i)},i.halt=function(t){this.Of(!1,t||0)},i.Of=function(t,i){if(this.Vn){if(this.Vn=!1,0!=i){this.gf.length>1&&this.gf.sort((function(t,i){return t.delay+t.duration-(i.delay+i.duration)}));try{if(i>0)for(var n=0;n<this.gf.length;n++)this.gf[n].func(1,!0);else for(var r=this.gf.length-1;r>=0;r--)this.gf[r].func(0,!1)}catch(i){at().error(yt,"completion failed: "+i,i),t=!1}}t?this.Dn():this.Af()}},i.xf=function(t){if(this.Vn){for(var i=Date.now(),n=Math.min((i-this.oc)/this.yf,1),r=0;r<this.gf.length;r++){var s=this.gf[r];!s.started&&n>=s.delay&&(s.started=!0)}for(var h=0;h<this.gf.length;h++){var u=this.gf[h];u.started&&!u.completed&&this.Tf(u,n)}1==n?this.Of(!0,0):this.Iu.canAnimate(this.mn)?this.Ef(this.Pi):(at().warn(yt,"cancel animation"),this.Of(!1,0))}},i.Tf=function(t,i){var n,r;if(t.duration>0){if(r=n=Math.min((i-t.delay)/t.duration,1),t.curve&&1!=r)try{r=t.curve(n)}catch(t){return at().error(yt,"step curve failed: "+t,t),void this.Of(!1,0)}}else n=1,r=1;1==n&&(t.completed=!0);try{t.func(r,t.completed)}catch(t){return at().error(yt,"step mutate failed: "+t,t),void this.Of(!1,0)}},t}();function At(t,i,n,r){var s=n,h=function(t,i,n,r){var s=t,h=n,u=function(t){try{return h(t)}catch(t){var i,n;throw null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t),t}},e=function(){if(void 0!==pt)return pt;pt=!1;try{var t={get capture(){return pt=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return pt}(),o=!(null==r||!r.capture);return s.addEventListener(i,u,e?r:o),function(){null==s||s.removeEventListener(i,u,e?r:o),h=null,s=null,u=null}}(t,i,(function(t){try{s(t)}finally{s=null,h()}}),r);return h}function Dt(t){return"AUDIO"===t.tagName||"VIDEO"===t.tagName}var jt=function(){function t(){this.vt=null}var i=t.prototype;return i.add=function(t){var i=this;return this.vt||(this.vt=[]),this.vt.push(t),function(){i.remove(t)}},i.remove=function(t){var i,n,r;this.vt&&(n=t,-1!=(r=(i=this.vt).indexOf(n))&&i.splice(r,1))},i.removeAll=function(){this.vt&&(this.vt.length=0)},i.fire=function(t){if(this.vt)for(var i,r=n(this.vt.slice(),!0);!(i=r()).done;)(0,i.value)(t)},i.getHandlerCount=function(){var t,i;return null!==(t=null===(i=this.vt)||void 0===i?void 0:i.length)&&void 0!==t?t:0},t}(),Ot=function(){function t(t,i,n){var r=this;this.js=mt(t,"timer"),this.Ds=i,this.zs=n||0,this.Ls=-1,this.Us=0,this.Vn=!1,this.Hs=function(){r.Gs()}}var i=t.prototype;return i.isPending=function(){return-1!=this.Ls},i.schedule=function(t){var i=t||this.zs;this.Vn&&i<10&&(i=10);var n=Date.now()+i;return(!this.isPending()||n-this.Us<-10)&&(this.cancel(),this.Us=n,this.Ls=this.js.delay(this.Hs,i),!0)},i.Gs=function(){this.Ls=-1,this.Us=0,this.Vn=!0,this.Ds(),this.Vn=!1},i.cancel=function(){this.isPending()&&(this.js.cancel(this.Ls),this.Ls=-1)},t}(),kt="__AMP_Gestures",It=function(t,i,n,r){this.type=t,this.data=i,this.time=n,this.event=r},xt=function(){function t(t,i,n){this.Gn=t,this.tM=[],this.tg=[],this.wi=[],this.iM=[],this.nM=null,this.rM=i,this.sM=n,this.eM=!1,this.Gs=new Ot(T(t),this.el.bind(this)),this.hM=new jt,this.oM=Object.create(null),this.aM=this.Km.bind(this),this.uM=this.zv.bind(this),this.fM=this.Qm.bind(this),this.lM=this.ug.bind(this);var r=function(t){if(void 0!==Mt)return Mt;Mt=!1;try{var i={get passive(){return Mt=!0,!1}};t.addEventListener("test-options",null,i),t.removeEventListener("test-options",null,i)}catch(t){}return Mt}(t.ownerDocument.defaultView);this.Gn.addEventListener("touchstart",this.aM,!!r&&{passive:!0}),this.Gn.addEventListener("touchend",this.uM),this.Gn.addEventListener("touchmove",this.fM,!!r&&{passive:!0}),this.Gn.addEventListener("touchcancel",this.lM),this.cM=!1}t.get=function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=i[kt];return s||(s=new t(i,n,r),i[kt]=s),s};var i=t.prototype;return i.cleanup=function(){this.Gn.removeEventListener("touchstart",this.aM),this.Gn.removeEventListener("touchend",this.uM),this.Gn.removeEventListener("touchmove",this.fM),this.Gn.removeEventListener("touchcancel",this.lM),delete this.Gn[kt],this.Gs.cancel()},i.onGesture=function(t,i){var n=new t(this),r=n.getType(),s=this.oM[r];return s||(this.tM.push(n),s=new jt,this.oM[r]=s),s.add(i)},i.removeGesture=function(t){var i=new t(this).getType(),n=this.oM[i];if(n){n.removeAll();var r=function(t,n){for(var r=0;r<t.length;r++)if(t[r].getType()==i)return r;return-1}(this.tM);return!(r<0||(this.tM.splice(r,1),this.wi.splice(r,1),this.iM.splice(r,1),this.tg.splice(r,1),delete this.oM[i],0))}return!1},i.onPointerDown=function(t){return this.hM.add(t)},i.Km=function(t){var i=Date.now();this.eM=!1,this.hM.fire(t);for(var n=0;n<this.tM.length;n++)this.wi[n]||(this.iM[n]&&this.iM[n]<i&&this.og(n),this.tM[n].onTouchStart(t)&&this.hg(n));this.mM(t)},i.Qm=function(t){for(var i=Date.now(),n=0;n<this.tM.length;n++)this.tg[n]&&(this.iM[n]&&this.iM[n]<i?this.og(n):this.tM[n].onTouchMove(t)||this.og(n));this.mM(t)},i.zv=function(t){for(var i=Date.now(),n=0;n<this.tM.length;n++)if(this.tg[n])if(this.iM[n]&&this.iM[n]<i)this.og(n);else{this.tM[n].onTouchEnd(t);var r=!this.iM[n],s=this.iM[n]<i;this.nM==this.tM[n]||!r&&!s||this.og(n)}this.mM(t)},i.ug=function(t){for(var i=0;i<this.tM.length;i++)this.pM(i);this.mM(t)},i.Vm=function(t,i){if(this.nM)t.acceptCancel();else{for(var n=Date.now(),r=0;r<this.tM.length;r++)this.tM[r]==t&&(this.wi[r]=n+i,this.iM[r]=0);this.cM=!0}},i.vM=function(t,i){if(this.nM)t.acceptCancel();else for(var n=Date.now(),r=0;r<this.tM.length;r++)this.tM[r]==t&&(this.iM[r]=n+i)},i.dM=function(t){this.nM==t&&(this.nM=null,this.eM=!0)},i.gM=function(t,i,n){ct(this.nM==t);var r=this.oM[t.getType()];r&&r.fire(new It(t.getType(),i,Date.now(),n))},i.mM=function(t){var i=!!this.nM||this.eM;if(this.eM=!1,!i)for(var n=Date.now(),r=0;r<this.tM.length;r++)if(this.wi[r]||this.iM[r]&&this.iM[r]>=n){i=!0;break}i?(t.stopPropagation(),this.rM||t.preventDefault()):this.sM&&t.stopPropagation(),this.cM&&(this.cM=!1,this.el())},i.el=function(){for(var t=Date.now(),i=-1,n=0;n<this.tM.length;n++)this.wi[n]?(-1==i||this.wi[n]>this.wi[i])&&(i=n):this.iM[n]&&this.iM[n]<t&&this.og(n);if(-1!=i){for(var r=0,s=0;s<this.tM.length;s++)!this.wi[s]&&this.tg[s]&&(r=Math.max(r,this.iM[s]-t));r<2?this.bM(i):this.Gs.schedule(r)}},i.bM=function(t){for(var i=this.tM[t],n=0;n<this.tM.length;n++)n!=t&&this.pM(n);this.wi[t]=0,this.iM[t]=0,this.nM=i,i.acceptStart()},i.hg=function(t){this.tg[t]=!0,this.iM[t]=0},i.og=function(t){this.tg[t]=!1,this.iM[t]=0,this.wi[t]||this.tM[t].acceptCancel()},i.pM=function(t){this.wi[t]=0,this.og(t)},t}(),Pt=function(){function t(t,i){this.wM=t,this.Sg=i}var i=t.prototype;return i.getType=function(){return this.wM},i.signalReady=function(t){this.Sg.Vm(this,t)},i.signalPending=function(t){this.Sg.vM(this,t)},i.signalEnd=function(){this.Sg.dM(this)},i.signalEmit=function(t,i){this.Sg.gM(this,t,i)},i.acceptStart=function(){},i.acceptCancel=function(){},i.onTouchStart=function(t){return!1},i.onTouchMove=function(t){return!1},i.onTouchEnd=function(t){},t}(),Xt=function(){},Yt=.02,zt=Math.round(-16.67/Math.log(.95));function Nt(t,i,n){i<1&&(i=1);var r=t/i,s=.5+Math.min(i/33.34,.5);return r*s+n*(1-s)}function Rt(t,i,n,r,s,h,u){return new Ct(t,i,n,r,s,h,u).start()}var Ct=function(){function t(t,i,n,r,s,u,e){this.Iu=e||wt(self),this.mn=t,this.Wn=u,this.jM=i,this.AM=n,this.ND=r,this.GD=s,this.IM=0,this.OM=0;var o=new h;this.wf=o.promise,this.Dn=o.resolve,this.Af=o.reject,this.FD=!1}var i=t.prototype;return i.start=function(){return this.FD=!0,Math.abs(this.ND)<=Yt&&Math.abs(this.GD)<=Yt?(this.ZD(),this.$D(!0)):this.VD(),this},i.halt=function(){this.FD&&this.$D(!1)},i.then=function(t,i){return t||i?this.wf.then(t,i):this.wf},i.thenAlways=function(t){var i=t||Xt;return this.then(i,i)},i.VD=function(){this.IM=this.ND,this.OM=this.GD;var t=this.qD.bind(this),i=this.$D.bind(this,!0);return this.Iu.runAnimMutateSeries(this.mn,t,5e3).then(i,i)},i.qD=function(t,i){if(!this.FD)return!1;if(this.jM+=i*this.IM,this.AM+=i*this.OM,!this.ZD())return!1;var n=Math.exp(-t/zt);return this.IM=this.ND*n,this.OM=this.GD*n,Math.abs(this.IM)>Yt||Math.abs(this.OM)>Yt},i.$D=function(t){this.FD&&(this.FD=!1,this.ZD(),t?this.Dn():this.Af())},i.ZD=function(){return this.Wn(this.jM,this.AM)},t}(),_t=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,"tap",t)).MM=0,n.kM=0,n.jM=0,n.AM=0,n.h=null,n}var r=n.prototype;return r.onTouchStart=function(t){var i=t.touches;return this.h=t.target,!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,0))},r.onTouchMove=function(t){var i=t.changedTouches||t.touches;if(i&&1==i.length){this.jM=i[0].clientX,this.AM=i[0].clientY;var n=Math.abs(this.jM-this.MM)>=8,r=Math.abs(this.AM-this.kM)>=8;if(n||r)return!1}return!0},r.onTouchEnd=function(t){this.signalReady(0)},r.acceptStart=function(){this.signalEmit({clientX:this.jM,clientY:this.AM,target:this.h},null),this.signalEnd()},n}(Pt),Tt=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,"doubletap",t)).MM=0,n.kM=0,n.jM=0,n.AM=0,n.JD=0,n.KD=null,n}var r=n.prototype;return r.onTouchStart=function(t){if(this.JD>1)return!1;var i=t.touches;return!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,this.jM=i[0].clientX,this.AM=i[0].clientY,0))},r.onTouchMove=function(t){var i=t.touches;if(i&&1==i.length){this.jM=i[0].clientX,this.AM=i[0].clientY;var n=Math.abs(this.jM-this.MM)>=8,r=Math.abs(this.AM-this.kM)>=8;return!n&&!r||(this.acceptCancel(),!1)}return!1},r.onTouchEnd=function(t){this.JD++,this.JD<2?this.signalPending(200):(this.KD=t,this.signalReady(0))},r.acceptStart=function(){this.JD=0,this.signalEmit({clientX:this.jM,clientY:this.AM},this.KD),this.signalEnd()},r.acceptCancel=function(){this.JD=0},n}(Pt),Ut=function(t){o(n,t);var i=l(n);function n(t){return i.call(this,"swipe-xy",t,!0,!0)}return n}(function(t){o(n,t);var i=l(n);function n(t,n,r,s){var h;return(h=i.call(this,t,n)).yM=r,h.xM=s,h.nM=!1,h.MM=0,h.kM=0,h.jM=0,h.AM=0,h.DM=0,h.SM=0,h.oc=0,h.EM=0,h.zM=0,h.IM=0,h.OM=0,h}var r=n.prototype;return r.onTouchStart=function(t){var i=t.touches;return!!(this.nM&&i&&i.length>1)||!(!i||1!=i.length)&&(this.oc=Date.now(),this.MM=i[0].clientX,this.kM=i[0].clientY,!0)},r.onTouchMove=function(t){var i=t.touches;if(i&&i.length>=1){var n=i[0],r=n.clientX,s=n.clientY;if(this.jM=r,this.AM=s,this.nM)this.PM(!1,!1,t);else{var h=Math.abs(r-this.MM),u=Math.abs(s-this.kM);if(this.yM&&this.xM)(h>=8||u>=8)&&this.signalReady(-10);else if(this.yM){if(h>=8&&h>u)this.signalReady(-10);else if(u>=8)return!1}else{if(!this.xM)return!1;if(u>=8&&u>h)this.signalReady(-10);else if(h>=8)return!1}}return!0}return!1},r.onTouchEnd=function(t){var i=t.touches;i&&0==i.length&&this.RM(t)},r.acceptStart=function(){this.nM=!0,this.DM=this.MM,this.SM=this.kM,this.zM=this.oc,this.MM=this.jM,this.kM=this.AM,this.PM(!0,!1,null)},r.acceptCancel=function(){this.nM=!1},r.PM=function(t,i,n){this.EM=Date.now();var r=this.EM-this.zM;if(!i&&r>4||i&&r>16){var s=Nt(this.jM-this.DM,r,this.IM),h=Nt(this.AM-this.SM,r,this.OM);(!i||r>32||0!=s||0!=h)&&(this.IM=Math.abs(s)>1e-4?s:0,this.OM=Math.abs(h)>1e-4?h:0),this.DM=this.jM,this.SM=this.AM,this.zM=this.EM}this.signalEmit({first:t,last:i,time:this.EM,deltaX:this.jM-this.MM,deltaY:this.AM-this.kM,startX:this.MM,startY:this.kM,lastX:this.jM,lastY:this.AM,velocityX:this.IM,velocityY:this.OM},n)},r.RM=function(t){this.nM&&(this.nM=!1,this.PM(!1,!0,t),this.signalEnd())},n}(Pt)),Gt=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,"tapzoom",t)).nM=!1,n.MM=0,n.kM=0,n.jM=0,n.AM=0,n.JD=0,n.DM=0,n.SM=0,n.EM=0,n.zM=0,n.IM=0,n.OM=0,n}var r=n.prototype;return r.onTouchStart=function(t){if(this.nM)return!1;var i=t.touches;return!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,0))},r.onTouchMove=function(t){var i=t.touches;if(i&&1==i.length){if(this.jM=i[0].clientX,this.AM=i[0].clientY,this.nM)this.PM(!1,!1,t);else{var n=Math.abs(this.jM-this.MM)>=8,r=Math.abs(this.AM-this.kM)>=8;if(n||r){if(0==this.JD)return this.acceptCancel(),!1;this.signalReady(0)}}return!0}return!1},r.onTouchEnd=function(t){this.nM?this.RM(t):(this.JD++,1!=this.JD?this.acceptCancel():this.signalPending(400))},r.acceptStart=function(){this.JD=0,this.nM=!0,this.PM(!0,!1,null)},r.acceptCancel=function(){this.JD=0,this.nM=!1},r.PM=function(t,i,n){this.EM=Date.now(),t?this.IM=this.OM=0:this.EM-this.zM>2&&(this.IM=Nt(this.jM-this.DM,this.EM-this.zM,this.IM),this.OM=Nt(this.AM-this.SM,this.EM-this.zM,this.OM)),this.DM=this.jM,this.SM=this.AM,this.zM=this.EM,this.signalEmit({first:t,last:i,centerClientX:this.MM,centerClientY:this.kM,deltaX:this.jM-this.MM,deltaY:this.AM-this.kM,velocityX:this.IM,velocityY:this.OM},n)},r.RM=function(t){this.nM&&(this.nM=!1,this.PM(!1,!0,t),this.signalEnd())},n}(Pt),Ft=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,"pinch",t)).nM=!1,n.QD=0,n.MI=0,n.SI=0,n.AI=0,n.DI=0,n.kI=0,n.II=0,n.xI=0,n.XI=0,n.YI=0,n.zI=0,n.NI=0,n.oc=0,n.EM=0,n.zM=0,n.IM=0,n.OM=0,n}var r=n.prototype;return r.onTouchStart=function(t){var i=t.touches;return!!i&&(1==i.length||!!(this.nM&&i.length>2)||2==i.length&&(this.oc=Date.now(),this.QD=i[0].clientX,this.MI=i[0].clientY,this.SI=i[1].clientX,this.AI=i[1].clientY,!0))},r.onTouchMove=function(t){var i=t.touches;return!(!i||0==i.length||1!=i.length&&(this.DI=i[0].clientX,this.kI=i[0].clientY,this.II=i[1].clientX,this.xI=i[1].clientY,this.nM?(this.PM(!1,!1,t),0):this.CI()||(this._I()&&this.signalReady(0),0)))},r._I=function(){var t=this.DI-this.QD,i=this.kI-this.MI,n=this.II-this.SI,r=this.xI-this.AI,s=t*n<=0&&i*r<=0,h=Math.abs(t-n)>=4,u=Math.abs(i-r)>=4;return s&&(h||u)},r.CI=function(){var t=this.DI-this.QD,i=this.kI-this.MI,n=this.II-this.SI,r=this.xI-this.AI,s=t*n>0||i*r>0,h=Math.abs(t+n)>=10,u=Math.abs(i+r)>=10;return s&&(h||u)},r.onTouchEnd=function(t){var i=t.touches;i&&i.length<2&&this.RM(t)},r.acceptStart=function(){this.nM=!0,this.zM=this.oc,this.XI=0,this.YI=0,this.zI=.5*(this.QD+this.SI),this.NI=.5*(this.MI+this.AI),this.PM(!0,!1,null)},r.acceptCancel=function(){this.nM=!1},r.PM=function(t,i,n){this.EM=Date.now();var r=this.EM-this.zM,s=this.TI(),h=this.UI();(!i&&r>4||i&&r>16)&&(this.IM=Nt(s-this.XI,r,this.IM),this.OM=Nt(h-this.YI,r,this.OM),this.IM=Math.abs(this.IM)>1e-4?this.IM:0,this.OM=Math.abs(this.OM)>1e-4?this.OM:0,this.XI=s,this.YI=h,this.zM=this.EM);var u=this.GI(this.QD,this.SI,this.MI,this.AI),e=this.GI(this.DI,this.II,this.kI,this.xI);this.signalEmit({first:t,last:i,time:this.EM,centerClientX:this.zI,centerClientY:this.NI,dir:Math.sign(e-u),deltaX:.5*s,deltaY:.5*h,velocityX:.5*this.IM,velocityY:.5*this.OM},n)},r.RM=function(t){this.nM&&(this.nM=!1,this.PM(!1,!0,t),this.signalEnd())},r.GI=function(t,i,n,r){return(t-i)*(t-i)+(n-r)*(n-r)},r.TI=function(){return Math.abs(this.DI-this.QD-(this.II-this.SI))},r.UI=function(){return Math.abs(this.kI-this.MI-(this.xI-this.AI))},n}(Pt),Wt=b(.4,0,.2,1.4),Zt="amp-image-viewer",$t=["aria-label","aria-describedby","aria-labelledby"],Lt=new Set(["AMP-IMG","AMP-ANIM","IMG"]),Bt=function(t){o(n,t);var i=l(n);function n(t){var n;return(n=i.call(this,t)).FI=null,n.WI=null,n.ZI=0,n.$I=0,n.LI=null,n.BI=null,n.VI=null,n.qI=null,n.HI=1,n.JI=1,n.KI=1,n.QI=1,n.DP=2,n.MM=0,n.kM=0,n.XP=0,n.YP=0,n.NP=0,n.GP=0,n.FP=0,n.WP=0,n.MA=null,n.ZP=null,n.LP=null,n.Ui=null,n.wE=n.wE.bind(u(n)),n}var r=n.prototype;return r.buildCallback=function(){this.element.classList.add("i-amphtml-image-viewer");var t=function(t,i){for(var n=[],r=t.firstElementChild;r;r=r.nextElementSibling)void 0,u=void 0,m(h=s=r)?u=h:M(h)&&(u=h.tagName),!(u&&u.toLowerCase().startsWith("i-")||s.nodeType===Node.ELEMENT_NODE&&(s.hasAttribute("placeholder")||s.hasAttribute("fallback")||s.hasAttribute("overflow")))&&n.push(r);var s,h,u;return n}(this.element);lt(1==t.length,"%s should have its target element as its one and only child",Zt),lt(this.BP(t[0]),"%s is not supported by %s",t[0].tagName,Zt),this.LP=t[0],bt(this.element).setOwner(this.LP,this.element)},r.layoutCallback=function(){var t=this;if(this.Ui)return this.Ui;if(V(this.element,"[i-amphtml-scale-animation]"))return s();var i=this.LP,n=!!this.FI,r=n?s():"IMG"===i.tagName?function(t){var i,n;if(function(t){return!!(t.complete||"complete"==t.readyState||Dt(t)&&t.readyState>0||t.document&&"complete"==t.document.readyState)}(t))return Promise.resolve(t);var r=Dt(t);return r&&t.__AMP_MEDIA_LOAD_FAILURE_SRC===t.currentSrc?Promise.reject(t):new Promise((function(s,h){if(i=r?At(t,"loadedmetadata",s,{capture:!0}):At(t,"load",s),t.tagName){var u=t;if(r&&!t.hasAttribute("src")&&!(u=function(t,i){for(var n=t.lastElementChild;n;n=n.previousElementSibling)if(i(n))return n;return null}(t,(function(t){return"SOURCE"===t.tagName}))))return h(new Error("Media has no source."));n=At(u,"error",h)}})).then((function(){return n&&n(),t}),(function(){i&&i(),function(t){Dt(t)&&(t.__AMP_MEDIA_LOAD_FAILURE_SRC=t.currentSrc||!0);var i=t;throw i&&i.src&&(i=i.src),ot().createError("Failed to load:",i)}(t)}))}(i):i.signals().whenSignal("load-end");return n||bt(this.element).scheduleLayout(this.element,i),this.Ui=r.then((function(){return t.zo()})).then((function(){return t.VP()})).then((function(){return t.HP()})),this.Ui},r.pauseCallback=function(){var t=this;this.Ui&&this.Ui.then((function(){t.VP(),t.JP()}))},r.resumeCallback=function(){var t=this;this.Ui&&this.Ui.then((function(){t.VP(),t.HP()}))},r.unlayoutCallback=function(){return this.JP(),this.Ui=null,function(t,i,n){var r=F.get(t);if(r&&(d(r,(function(t){return t.callback===n&&0===t.type})),0==r.length)){F.delete(t),W.delete(t);var s=t.ownerDocument.defaultView;s&&Z(s).unobserve(t)}}(this.element,0,this.wE),!0},r.isLayoutSupported=function(t){return"fill"==t},r.getImageBox=function(){return this.BI},r.getImage=function(){return this.FI},r.getImageBoxWithOffset=function(){if(0==this.XP&&0==this.YP||!this.BI)return this.BI;var t,i,n,r=(this.HI-1)/2;return function(t,i,n){return 0==i&&0==n||0==t.width&&0==t.height?t:O(t.left+i,t.top+n,t.width,t.height)}((i=r,n=r,O((t=this.BI).left-t.width*i,t.top-t.height*n,t.width*(1+2*i),t.height*(1+2*n))),this.XP,this.YP)},r.BP=function(t){return Lt.has(t.tagName)},r.KP=function(t){var i,n=this,r=(i=t,D(/^[\w-]+$/.test("img")),i.querySelector("img"));this.measureElement((function(){r?(n.ZI=r.naturalWidth||t.offsetWidth,n.$I=r.naturalHeight||t.offsetHeight):(n.ZI=t.offsetWidth,n.$I=t.offsetHeight)}))},r.zo=function(){var t=this;if(this.FI)return s();this.FI=this.element.ownerDocument.createElement("img"),this.FI.classList.add("i-amphtml-image-viewer-image");var i=this.LP;return this.KP(i),this.WI=function(t){var i=t.getAttribute("srcset");if(i)return function(t){for(var i,n=[];i=q.exec(t);){var r=i[1],s=void 0,h=void 0;if(i[2]){var u=i[3].toLowerCase();if("w"==u)s=parseInt(i[2],10);else{if("x"!=u)continue;h=parseFloat(i[2])}}else h=1;n.push({url:r,width:s,dpr:h})}return new H(n)}(i);var n=t.getAttribute("src");return j(n,'Either non-empty "srcset" or "src" attribute must be specified: %s',t),new H([{url:n,width:void 0,dpr:1}])}(i),function(t,i,n){var r=t.ownerDocument.defaultView;if(r){var s=F.get(t);if(s||(s=[],F.set(t,s),Z(r).observe(t)),!s.some((function(t){return t.callback===n&&0===t.type}))){s.push({type:0,callback:n});var h=W.get(t);h&&setTimeout((function(){return L(0,n,h)}))}}}(this.element,0,this.wE),this.mutateElement((function(){var n,r;return R(t.FI,{top:0,left:0,width:0,height:0}),n=i,void 0===(r=!1)&&(r=n.hasAttribute("hidden")),r?n.removeAttribute("hidden"):n.setAttribute("hidden",""),t.element.appendChild(t.FI),"IMG"===i.tagName?(B($t,i,t.FI),s()):i.getImpl().then((function(i){return B($t,i.element,t.FI)}))}))},r.wE=function(){V(this.element,"[i-amphtml-scale-animation]")||this.VP()},r.iA=function(){var t;this.LI=(t=this.element.getBoundingClientRect(),O(Number(t.left),Number(t.top),Number(t.width),Number(t.height)));var i=this.ZI/this.$I,n=Math.min(this.LI.width/i,this.LI.height),r=Math.min(this.LI.height*i,this.LI.width);Math.abs(r-this.ZI)<=16&&Math.abs(n-this.$I<=16)&&(r=this.ZI,n=this.$I),this.BI=O(Math.round((this.LI.width-r)/2),Math.round((this.LI.height-n)/2),Math.round(r),Math.round(n));var s=this.LI.width/this.LI.height,h=Math.max(s/i,i/s);this.DP=Math.max(2,h),this.JI=this.HI=1,this.MM=this.XP=0,this.kM=this.YP=0,this.QP(this.HI)},r.VP=function(){var t=this;return this.measureElement((function(){return t.iA()})).then((function(){var i=t.FI;return t.mutateElement((function(){R(i,{top:C(t.BI.top),left:C(t.BI.left),width:C(t.BI.width),height:C(t.BI.height)}),t.tX()}),i)})).then((function(){return t.$S()}))},r.$S=function(){var t=this;if(!this.WI)return s();this.KI=Math.max(this.KI,this.HI);var i=Math.max(this.BI.width*this.KI,this.ZI),n=this.WI.select(i,nt.getDevicePixelRatio());return n==this.FI.getAttribute("src")?s():this.mutateElement((function(){t.FI.setAttribute("src",n)}),this.FI)},r.JP=function(){this.MA&&(this.MA.cleanup(),this.MA=null)},r.HP=function(){var t=this;this.MA=xt.get(this.element),this.MA.onGesture(Tt,(function(i){var n=i.data,r=1==t.HI?t.DP:t.QI,s=t.LI.width/2-n.clientX,h=t.LI.height/2-n.clientY;t.iX(r,s,h,!0).then((function(){return t.nX()}))})),this.MA.onGesture(_t,(function(i){t.rX(i.data.target)})),this.MA.onGesture(Gt,(function(i){var n=i.data;t.sX(n.centerClientX,n.centerClientY,n.deltaX,n.deltaY),n.last&&t.hX(n.centerClientX,n.centerClientY,n.deltaX,n.deltaY,n.velocityY,n.velocityY)})),this.MA.onGesture(Ft,(function(i){var n=i.data;t.uX(n.centerClientX,n.centerClientY,n.deltaX,n.deltaY,n.dir),n.last&&t.nX()}))},r.rX=function(t){var i=function(t,i,n,r){var s={detail:null};if(Object.assign(s,{bubbles:!0}),"function"==typeof t.CustomEvent)return new t.CustomEvent(i,s);var h=t.document.createEvent("CustomEvent");return h.initCustomEvent(i,!!s.bubbles,!!s.cancelable,null),h}(this.win,"click");t.dispatchEvent(i)},r.eX=function(){var t=this;this.VI=this.MA.onGesture(Ut,(function(i){var n=i.data;t.oX(n.deltaX,n.deltaY,!1),n.last&&t.fX(n.velocityX,n.velocityY)})),this.qI=this.MA.onPointerDown((function(){t.ZP&&t.ZP.halt()}))},r.aX=function(){this.VI&&(this.VI(),this.VI=null,this.MA.removeGesture(Ut)),this.qI&&(this.qI(),this.qI=null)},r.cX=function(t,i){return tt(t,this.QI,this.DP,i?.25:0)},r.lX=function(t,i){return tt(t,this.NP,this.FP,i&&this.HI>1?.25*this.LI.width:0)},r.vX=function(t,i){return tt(t,this.GP,this.WP,i?.25*this.LI.height:0)},r.QP=function(t){var i=0,n=0,r=this.LI.height-this.BI.height*t;r>=0?n=i=0:i=-(n=r/2);var s=0,h=0,u=this.LI.width-this.BI.width*t;u>=0?h=s=0:s=-(h=u/2),this.NP=h,this.GP=n,this.FP=s,this.WP=i},r.tX=function(){var t,i,n;R(this.FI,{transform:(i=this.XP,n=this.YP,(null==n?"translate(".concat(_(i,C),")"):"translate(".concat(_(i,C),", ").concat(_(n,C),")"))+" "+(t=this.HI,"scale(".concat(t,")")))})},r.oX=function(t,i,n){var r=this.lX(this.MM+t,!1),s=this.vX(this.kM+i,!1);this.dX(this.HI,r,s,n)},r.fX=function(t,i){var n=this;this.ZP=Rt(this.FI,this.XP,this.YP,t,i,(function(t,i){var r=n.lX(t,!1),s=n.vX(i,!1);return!(Math.abs(r-n.XP)<1&&Math.abs(s-n.YP)<1||(n.dX(n.HI,r,s,!1),0))})),this.ZP.thenAlways((function(){return n.ZP=null,n.mX()}))},r.uX=function(t,i,n,r,s){this.pX(t,i,n,r,s)},r.sX=function(t,i,n,r){var s=Math.abs(r)>Math.abs(n)?Math.sign(r):Math.sign(-n);this.pX(t,i,n,r,s)},r.pX=function(t,i,n,r,s){if(0!=s){var h=it(n,r),u=this.JI*(1+s*h/100),e=this.LI.width/2-t,o=this.LI.height/2-i;n=Math.min(e,e*(h/100)),r=Math.min(o,o*(h/100)),this.iX(u,n,r,!1)}},r.iX=function(t,i,n,r){var s=this.cX(t,!0);if(s!=this.HI){this.QP(s);var h=this.lX(this.MM+i*s,!1),u=this.vX(this.kM+n*s,!1);return this.dX(s,h,u,r)}},r.hX=function(t,i,n,r,h,u){var e=this;return(0==h&&0==u?s():Rt(this.FI,n,r,h,u,(function(n,r){return e.sX(t,i,n,r),!0})).thenAlways()).then((function(){e.nX()}))},r.nX=function(){var t=this,i=this.HI>this.JI;return this.mX().then((function(){i&&t.$S(),t.HI>1?t.eX():t.aX()}))},r.dX=function(t,i,n,r){var h,u,e,o=this,f=t-this.HI,a=(h=this.XP,u=this.YP,it(i-h,n-u)),c=0;if(r&&(c=Math.min(250,Math.max(250*a*.01,250*Math.abs(f)))),c>16&&r){var l=Q(this.HI,t),v=Q(this.XP,i),d=Q(this.YP,n);e=Et.animate(this.FI,(function(t){o.HI=l(t),o.XP=v(t),o.YP=d(t),o.tX()}),c,Wt).thenAlways((function(){o.HI=t,o.XP=i,o.YP=n,o.tX()}))}else this.HI=t,this.XP=i,this.YP=n,this.tX(),e=r?s():void 0;return e},r.mX=function(){var t=this,i=this.cX(this.HI,!1);i!=this.HI&&this.QP(i);var n=this.lX(this.XP/this.HI*i,!1),r=this.vX(this.YP/this.HI*i,!1);return this.dX(i,n,r,!0).then((function(){t.JI=t.HI,t.MM=t.XP,t.kM=t.YP}))},n}(t.BaseElement);t.registerElement(Zt,Bt,".i-amphtml-image-viewer-image{position:absolute;-o-object-fit:contain;object-fit:contain}.i-amphtml-image-viewer{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;transform:translateZ(0)}.i-amphtml-image-viewer>amp-img{min-width:1px;min-height:1px}\n/*# sourceURL=/extensions/amp-image-viewer/0.1/amp-image-viewer.css*/")}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-image-viewer-0.1.js.map