;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-video-docking",ev:"0.1",l:!0,f:function(t,i){!function(){function i(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}function n(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,o)}return n}function o(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,o=new Array(i);n<i;n++)o[n]=t[n];return o}function r(t,i){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return o(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e;function s(){return e||(e=Promise.resolve(void 0))}Array.isArray;var a=Object.prototype;function u(t){var i=Object.create(null);return t&&Object.assign(i,t),i}function c(t,i,n,o,r,e,s,a,u,c,h){return t}a.hasOwnProperty,a.toString;var h,d,l,v=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function f(t,i,n,o,r){return r||(i?"ï¿½":o?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function m(t,i){return t.replace(/^|,/g,"$&".concat(i," "))}function p(t,i){t.insertBefore(i,t.firstChild)}function g(t,i){t.classList.add("i-amphtml-fill-content"),i&&t.classList.add("i-amphtml-replaced-content")}function k(t,i,n,o){return{left:t,top:i,width:n,height:o,bottom:i+o,right:t+n,x:t,y:i}}function b(t){var i=t.ownerDocument||t;return d&&d.ownerDocument===i||(d=i.createElement("div")),w}function w(t){return function(t,i){c(1===i.length),t.innerHTML=i[0];var n=t.firstElementChild;return c(n),c(!n.nextElementSibling),t.removeChild(n),n}(d,t)}function x(t){for(var i=t.querySelectorAll("[ref]"),n=u(),o=0;o<i.length;o++){var r=i[o],e=r.getAttribute("ref");c(e),r.removeAttribute("ref"),c(void 0===n[e]),n[e]=r}return n}function y(t){var i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;var n=t.message,o=t.stack,r=new Error(n);for(var e in t)r[e]=t[e];return r.stack=o,r}function z(t){for(var i,n=null,o="",e=r(arguments,!0);!(i=e()).done;){var s=i.value;s instanceof Error&&!n?n=y(s):(o&&(o+=" "),o+=s)}return n?o&&(n.message=o+": "+n.message):n=new Error(o),n}function M(t){var i,n;null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t)}function H(t){var i=z.apply(null,arguments);return i.expected=!0,i}var j=["Webkit","webkit","Moz","moz","ms","O","o"];function O(t){var i=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return j.some((function(t){return i.startsWith(t+"-")}))?"-".concat(i):i}function V(t,i,n){if(i.startsWith("--"))return i;l||(l=u());var o=l[i];if(!o||n){if(o=i,void 0===t[i]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),e=function(t,i){for(var n=0;n<j.length;n++){var o=j[n]+i;if(void 0!==t[o])return o}return""}(t,r);void 0!==t[e]&&(o=e)}n||(l[i]=o)}return o}function B(t,i){var n=t.style;for(var o in i)n.setProperty(O(V(n,o)),String(i[o]),"important")}function A(t,i,n,o,r){var e=V(t.style,i,r);if(e){var s=o?n+o:n;t.style.setProperty(O(e),s)}}function L(t,i){void 0===i&&(i=t.hasAttribute("hidden")),i?t.removeAttribute("hidden"):t.setAttribute("hidden","")}function E(t){return"".concat(t,"px")}function S(t,i){return"number"==typeof t?i(t):t}function C(t,i){return null==i?"translate(".concat(S(t,E),")"):"translate(".concat(S(t,E),", ").concat(S(i,E),")")}function N(t,i){for(var n=0;n<i.length;n++)A(t,i[n],null)}function R(t){return t.querySelector("video, iframe")}function W(t){var i=!1,n=null,o=t;return function(){if(!i){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];n=o.apply(self,r),i=!0,o=null}return n}}var _=self.AMP_CONFIG||{},I=("string"==typeof _.thirdPartyFrameRegex?new RegExp(_.thirdPartyFrameRegex):_.thirdPartyFrameRegex,("string"==typeof _.cdnProxyRegex?new RegExp(_.cdnProxyRegex):_.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function P(t){if(!self.document||!self.document.head)return null;if(self.location&&I.test(self.location.origin))return null;var i=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return i&&i.getAttribute("content")||null}_.thirdPartyUrl,_.thirdPartyFrameHost,_.cdnUrl||P("runtime-host"),_.errorReportingUrl,_.betaErrorReportingUrl,_.localDev,_.geoApiUrl||P("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var $=self.__AMP_LOG;function T(t){return $.user||($.user=Y()),function(t,i){return i&&i.ownerDocument.defaultView!=t}($.user.win,t)?$.userForEmbed||($.userForEmbed=Y()):$.user}function Y(t){return function(t,i){throw new Error("failed to call initLogConstructor")}()}function Z(t,i,n,o,r,e,s,a,u,c,h){return t}function U(t,i,n,o,r,e,s,a,u,c,h){return T().assert(t,i,n,o,r,e,s,a,u,c,h)}function X(t,i){return G(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function D(t,i){return G(q(F(t)),i)}function F(t){return t.nodeType?(n=t,i=(n.ownerDocument||n).defaultView,X(i,"ampdoc")).getAmpDoc(t):t;var i,n}function q(t){var i=F(t);return i.isSingleDoc()?i.win:i}function G(t,i){Z(J(t,i));var n=function(t){var i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}(t)[i];return n.obj||(Z(n.ctor),Z(n.context),n.obj=new n.ctor(n.context),Z(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function J(t,i){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}var K,Q=function(t){return X(t,"platform")},tt=function(t){return G(t,"timer")},it=function(t){return D(t,"video-manager")};function nt(t,i,n,o){var r=t,e=n,s=function(t){try{return e(t)}catch(t){var i,n;throw null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t),t}},a=function(){if(void 0!==K)return K;K=!1;try{var t={get capture(){return K=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return K}(),u=!(null==o||!o.capture);return r.addEventListener(i,s,a?o:u),function(){null==r||r.removeEventListener(i,s,a?o:u),e=null,r=null,s=null}}function ot(t,i,n,o){var r={detail:n};if(Object.assign(r,o),"function"==typeof t.CustomEvent)return new t.CustomEvent(i,r);var e=t.document.createEvent("CustomEvent");return e.initCustomEvent(i,!!r.bubbles,!!r.cancelable,n),e}function rt(t,i,n,o){return nt(t,i,n,o)}function et(t,i,n,o){var r=n,e=nt(t,i,(function(t){try{r(t)}finally{r=null,e()}}),o);return e}function st(t,i,n){n=n.sort((function(t,i){return i.minWidth-t.minWidth}));var o=-1;n.forEach((function(n){var r=n.className,e=n.minWidth;e<=i&&e>o?(t.classList.add(r),o=e):t.classList.remove(r)}))}var at="dock-dismiss-on-tap",ut="dock-scroll-back";function ct(t){var i=t.touches?t.touches[0]:t;return{x:"x"in i?i.x:i.clientX,y:"y"in i?i.y:i.clientY}}var ht=function(){function t(t,i){this.js=tt(t),this.Ds=i,this.Ei=null}var i=t.prototype;return i.trigger=function(t){for(var i=this,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];this.cancel(),this.Ei=this.js.delay((function(){return i.Ds.apply(null,o)}),t)},i.cancel=function(){null!==this.Ei&&(this.js.cancel(this.Ei),this.Ei=null)},i.isWaiting=function(){return null!==this.Ei},t}(),dt="dock",lt="registered",vt="playing_manual",ft=["<div class=i-amphtml-video-docked-overlay hidden></div>"],mt=['<div class=amp-video-docked-controls hidden><div class="amp-video-docked-main-button-group amp-video-docked-control-set-playback"><div class=amp-video-docked-button-group><div role=button ref=playButton class=amp-video-docked-play></div><div role=button ref=pauseButton class=amp-video-docked-pause></div></div><div class=amp-video-docked-button-group><div role=button ref=muteButton class=amp-video-docked-mute></div><div role=button ref=unmuteButton class=amp-video-docked-unmute></div></div><div class=amp-video-docked-button-group><div role=button ref=fullscreenButton class=amp-video-docked-fullscreen></div></div></div><div class="amp-video-docked-main-button-group amp-video-docked-control-set-scroll-back" hidden><div class=amp-video-docked-button-group><div role=button ref=scrollBackButton class=amp-video-docked-scroll-back></div></div></div><div class=amp-video-docked-button-dismiss-group ref=dismissContainer><div role=button ref=dismissButton class=amp-video-docked-dismiss></div></div></div>'],pt="playback",gt="scroll-back",kt=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:300}];function bt(t,i){L(t,!1),L(i,!0)}var wt=function(){function t(t){var i=this;this.qi=t;var n=b(t.getBody());this.container=function(t){return t(mt)}(n),this.overlay=function(t){return t(ft)}(n);var o=x(this.container),r=function(t){return o[t]};this.zz=r("dismissButton"),this.Mz=r("playButton"),this.Oz=r("pauseButton"),this.Vz=r("muteButton"),this.Bz=r("unmuteButton"),this.Lz=r("fullscreenButton"),this.Sz=r("scrollBackButton"),this.Cz=r("dismissContainer"),this.Nz=this.container.querySelectorAll(".amp-video-docked-main-button-group"),this.Wz=!1,this._z=!1,this.Iz=W((function(){return new ht(i.qi.win,(function(){i.hide(!0)}))})),this.Pz=[],this.$z=null,this.Tz=null,this.Yz=null,this.lO=null,this.Zz(),this.Uz()}var i=t.prototype;return i.disable=function(){this.Wz=!0},i.enable=function(){this.Wz=!1},i.setVideo=function(t,i){this.Yz=i,this.lO!==t&&(this.lO=t,this.Xz(t))},i.Dz=function(t){var i="amp-video-docked-control-set-".concat(t);!function(t,n){for(var o=t.length,r=0;r<o;r++)L(e=t[r],e.classList.contains(i));var e}(this.Nz)},i.Xz=function(t){var i=this;this.hb();var n="click",o=t.element;this.Pz.push(this.Fz(this.zz,n,(function(){i.qz(at)})),this.Fz(this.Mz,n,(function(){!function(t,i){var n;(n=function(){return t.play(!1)},new Promise((function(t){t(n())}))).catch((function(t){!function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];M(H.apply(null,n))}("TRYPLAY",t)}))}(t)})),this.Fz(this.Oz,n,(function(){t.pause()})),this.Fz(this.Vz,n,(function(){t.mute()})),this.Fz(this.Bz,n,(function(){t.unmute()})),this.Fz(this.Lz,n,(function(){t.fullscreenEnter()})),this.Fz(this.Sz,n,(function(){i.qz(ut)})),rt(this.container,"mouseup",(function(){return i.hideOnTimeout(800)})),rt(o,"playing",(function(){return i.Gz()})),rt(o,"pause",(function(){return i.Jz()})),rt(o,"muted",(function(){return i.Kz()})),rt(o,"unmuted",(function(){return i.Qz()})),rt(o,"ad_start",(function(){return i.Dz(gt)})),rt(o,"ad_end",(function(){return i.Dz(pt)})))},i.qz=function(t){this.container.dispatchEvent(ot(this.qi.win,t,void 0))},i.Gz=function(){var t=this.Oz,i=this.Mz;this._z=!1,bt(i,t)},i.Jz=function(){var t=this.Oz,i=this.Mz;this._z=!0,bt(t,i)},i.Kz=function(){bt(this.Vz,this.Bz)},i.Qz=function(){var t=this.Vz;bt(this.Bz,t)},i.Fz=function(t,i,n){var o=this;return rt(t,i,(function(){o.Wz||n()}))},i.hb=function(){for(;this.Pz.length>0;)this.Pz.pop().call()},i.hideOnTimeout=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1200;this.Iz().trigger(t)},i.Uz=function(){var t=this,i=this.overlay,n=function(){return t.tH()};this.Fz(i,"click",n),this.Fz(i,"mouseover",n)},i.tH=function(){var t=this;this.qi.win.requestAnimationFrame((function(){t.iH()}))},i.iH=function(){var t=it(this.qi),i=Z(this.lO),n=t.isRollingAd(i),o=t.isMuted(i),r="paused"!==t.getPlayingState(i),e=this.container,s=this.overlay;L(e,!0),e.classList.add("amp-video-docked-controls-shown"),s.classList.add("amp-video-docked-controls-bg"),this.Dz(n?gt:pt),L(this.Mz,!r),L(this.Oz,r),L(this.Vz,!o),L(this.Bz,o),this.nH(),this.hideOnTimeout()},i.positionOnVsync=function(t,i,n,o,r){this.Yz=k(i,n,o*t,r*t);var e=this.container,s=t/2,a=i+o*s,u=n+r*s;st(e,t*o,kt),B(e,{"transform":C(a,u)});var c=o*s-4-40,h=-(r*s-4-40);B(this.Cz,{"transform":C(c,h)})},i.Zz=function(){var t=this;rt(this.qi.getRootNode(),"mousedown",(function(i){t.oH(i.target)||t.hide(!0)}))},i.oH=function(t){return t==this.overlay||(".amp-video-docked-controls",!!((i=t).closest?i.closest(".amp-video-docked-controls"):function(t,i,n){var o;for(o=t;o&&void 0!==o;o=o.parentElement)if(i(o))return o;return null}(i,(function(t){return function(t,i){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,".amp-video-docked-controls")}(t)}))));var i},i.hide=function(t,i){var n="amp-video-docked-controls-shown",o=this.container,r=this.overlay;o.classList.contains(n)&&(t&&this._z||(i&&(L(o,!1),L(r,!1)),r.classList.remove("amp-video-docked-controls-bg"),o.classList.remove(n)))},i.nH=function(){var t=this;this.$z||(this.$z=rt(this.overlay,"mousemove",(function(){t.tH()})),this.Tz=rt(this.overlay,"mouseout",(function(i){Z(t.Yz);var n=ct(i),o=n.x,r=n.y,e=t.Yz,s=e.bottom,a=e.left,u=e.right,c=e.top;(o<a||o>u||r<c||r>s)&&(t.hide(!0),t.rH())})))},i.rH=function(){this.$z&&(this.$z(),this.$z=null),this.Tz&&(this.Tz(),this.Tz=null)},i.reset=function(){var t=this.container,i=this.overlay,n=[i,t];L(i,!1),this.hide();for(var o=0;o<n.length;o++)N(n[o],["transform","transition","width","height"])},t}(),xt="left",yt="right",zt="bottom",Mt=.02;function Ht(t,i,n,o){return o*(t-i-2*n)}function jt(t,i,n,o){return Ht(t,i,n,o)}function Ot(t,i,n,o){return Ht(t,i,n,-o)}var Vt=function(t,i,n){return 1,(o=t)<0?o=0:o>1&&(o=1),(o-0)*(n-(r=i))/1+r;var o,r};function Bt(t,i,n,o,r,e,s){var a=i.width,u=Math.min(s,e*a),c=t.width/t.height,h=Math.max(r,a*o),d=h/c;return k(n==yt?i.right-u-h:i.left+u,u,h,d)}var At=function(t){return t.width>0&&t.height>0},Lt=function(t){return{get:t,configurable:!1,enumerable:!0}};function Et(t,i,n){if(i[n])return i[n];var o=t.querySelector("style[".concat(n,"], link[").concat(n,"]"));return o?(i[n]=o,o):null}var St=["<div class=amp-video-docked-shadow hidden></div>"],Ct=["<div class=amp-video-docked-placeholder-background><div class=amp-video-docked-placeholder-background-poster ref=poster></div><div class=amp-video-docked-placeholder-icon ref=icon></div></div>"],Nt=.85,Rt=[{className:"amp-small",minWidth:0},{className:"amp-large",minWidth:420}],Wt="i-amphtml-video-docked",_t="slot",It=function(t,i,n){return"translate(".concat(t,"px, ").concat(i,"px) scale(").concat(n,")")};function Pt(t,i){var n=!1;return function(){for(var o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];n||(n=!0,t.requestAnimationFrame((function(){i.apply(null,r),n=!1})))}}var $t=function(){function t(t){var i,n,o,r=this;this.qi=t,this.Sg=W((function(){return it(t)})),this.Tu=D(t,"viewport"),this.ur=(i=this.Tu,n=Lt((function(){return i.getSize().width})),o=Lt((function(){return i.getSize().height})),Object.defineProperties(k(0,0,0,0),{width:n,height:o,right:n,bottom:o})),this.eH=null,this.sH=null;var e=b(this.aH());this.uH=W((function(){return r.yP(function(t){return t(St)}(e))})),this.cH=W((function(){return r.hH()})),this.dH=W((function(){return r.yP(function(t){return t(Ct)}(e))})),this.lH=W((function(){return x(r.dH())})),this.vH=null,this.fH=null,this.mH=null,this.pH=null,this.dA=this.Tu.getScrollTop(),this.gH=!1,this.kH=0,this.bH=0,this.wH=0,this.Wi=[],this._A=W((function(){var t=r.qi;r.Tu.onScroll(Pt(t.win,(function(){return r.xH()}))),r.Tu.onResize((function(){return r.yH()})),function(t,i,n,o,r){var e=t.getHeadNode();!function(t,i,n,o){var r=t.__AMP_CSS_SM;r||(r=t.__AMP_CSS_SM=u());var e="amp-extension=".concat(o);if(e){var s=Et(t,r,e);if(s)return"STYLE"==s.tagName&&s.textContent!==i&&(s.textContent=i),s}var a=(t.ownerDocument||t).createElement("style");a.textContent=i;a.setAttribute("amp-extension",o),function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n){var o=n.nextSibling;t.insertBefore(i,o)}else p(t,i)}(t,a,Et(t,r,"amp-runtime")),e&&(r[e]=a)}(e,function(t,i){var n=t.__AMP_CSS_TR;return n?n(i):i}(e,'.amp-video-docked-controls{direction:ltr!important;opacity:0;pointer-events:none!important;transition:opacity 0.3s ease;height:120px}.amp-video-docked-main-button-group{height:40px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:-20px 0 0 -60px}.amp-large>.amp-video-docked-main-button-group{margin-left:-70px}.amp-large>.amp-video-docked-main-button-group>.amp-video-docked-button-group{margin-right:10px}.amp-large>.amp-video-docked-control-set-scroll-back,.amp-small>.amp-video-docked-control-set-scroll-back{margin-left:-32px}.amp-large>.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group{margin-right:0}.amp-large>.amp-video-docked-button-dismiss-group{margin:6px 0 0 -6px}.amp-small>.amp-video-docked-button-dismiss-group,.amp-small>.amp-video-docked-button-dismiss-group>div[role=button]{min-width:32px;height:32px;border-radius:32px;background-size:20px 20px}.amp-small>.amp-video-docked-button-dismiss-group{margin-left:8px}.amp-video-docked-controls-shown{opacity:1;pointer-events:initial!important}.amp-video-docked-button-group{margin:0}.amp-video-docked-button-dismiss-group,.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button]{min-width:40px;height:40px;border-radius:40px}.amp-video-docked-button-dismiss-group:active,.amp-video-docked-button-group:active{background-color:hsla(0,0%,100%,0.7)}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group,.amp-video-docked-button-group>div[role=button],.amp-video-docked-controls,.i-amphtml-video-docked-overlay{-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.amp-video-docked-button-dismiss-group>div[role=button],.amp-video-docked-button-group>div[role=button]{background-repeat:no-repeat;background-position:50%}.amp-video-docked-shadow{box-shadow:0px 0 20px 6px rgba(0,0,0,0.2);transition-property:transform,opacity!important}.amp-video-docked-controls-bg{background:hsla(0,0%,90%,0.6)}.amp-video-docked-mute{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}.amp-video-docked-unmute{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}.amp-video-docked-pause{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}.amp-video-docked-play{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}.amp-video-docked-fullscreen{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>\')}.amp-video-docked-dismiss{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}.amp-video-docked-scroll-back{background-size:50%}.amp-rtl .amp-video-docked-scroll-back,.amp-video-docked-scroll-back{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M-4-4h48v48H-4z"/><path d="M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z" fill="%23000" fill-rule="nonzero"/></g></svg>\')}.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group,.amp-video-docked-control-set-scroll-back>.amp-video-docked-button-group>div[role=button]{min-width:64px;height:64px}.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{margin:0!important}.i-amphtml-video-docked{transition-property:transform!important}.amp-video-docked-controls,.amp-video-docked-shadow,.i-amphtml-video-docked,.i-amphtml-video-docked-overlay{position:fixed!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;padding:0!important;min-width:0!important;min-height:0!important;max-width:auto!important;max-height:auto!important;transform-origin:left top!important;will-change:width,height,transition,transform,opacity;transition:transform 0.05s}.i-amphtml-video-docked-overlay{opacity:0;transition:opacity 0.3s ease;contain:strict!important}.amp-video-docked-controls-bg{opacity:1}.i-amphtml-video-docked-overlay.amp-video-docked-almost-dismissed{opacity:1;background:hsla(0,0%,39%,0.1)}.i-amphtml-video-docked-shadow.amp-video-docked-almost-dismissed,.i-amphtml-video-docked.amp-video-docked-almost-dismissed{opacity:0.3}.amp-video-docked-button-dismiss-group{position:absolute;top:-40px}.amp-video-docked-placeholder-background{background:hsla(0,0%,78%,0.5);transition-property:opacity;overflow:hidden;pointer-events:none;z-index:0;opacity:0}.amp-video-docked-placeholder-icon{-webkit-mask-image:url(\'data:image/svg+xml;charset=utf-8,<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h48v48H0z"/><path d="M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z" fill="%23000" fill-rule="nonzero"/></g></svg>\');mask-image:url(\'data:image/svg+xml;charset=utf-8,<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h48v48H0z"/><path d="M40 4H16c-2.2 0-4 1.8-4 4v24c0 2.2 1.8 4 4 4h24c2.2 0 4-1.8 4-4V8c0-2.2-1.8-4-4-4zM8 12H4v28c0 2.2 1.8 4 4 4h28v-4H8V12zm28 3.868L23.382 28.486l-2.828-2.828L33.212 13H25V9h15v15h-4v-8.132z" fill="%23000" fill-rule="nonzero"/></g></svg>\');-webkit-mask-size:48px 48px;mask-size:48px 48px;height:48px;width:48px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:bottom left;mask-position:bottom left;background:hsla(0,0%,39%,0.8);transition-property:opacity,transform;will-change:opacity,transform;position:absolute;bottom:40px;left:40px}.amp-video-docked-placeholder-icon.amp-rtl{-webkit-mask-image:url(\'data:image/svg+xml;charset=utf-8,<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M-4-4h48v48H-4z"/><path d="M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z" fill="%23000" fill-rule="nonzero"/></g></svg>\');mask-image:url(\'data:image/svg+xml;charset=utf-8,<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M-4-4h48v48H-4z"/><path d="M36 0c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4H12c-2.2 0-4-1.8-4-4V4c0-2.2 1.8-4 4-4h24zM16 11.868l12.618 12.618 2.829-2.828L18.789 9H27V5H12v15h4v-8.132zM4 8H0v28c0 2.2 1.8 4 4 4h28v-4H4V8z" fill="%23000" fill-rule="nonzero"/></g></svg>\');left:auto;right:40px}.amp-video-docked-placeholder-icon.amp-small{-webkit-mask-size:32px 32px;mask-size:32px 32px;width:32px;height:32px;bottom:20px;left:20px}.amp-video-docked-placeholder-icon.amp-rtl.amp-small{left:auto;right:20px}.amp-video-docked-placeholder-background-poster{background-size:cover;background-repeat:no-repeat;filter:blur(20px);transform:scale(1.1);opacity:0.3}.amp-video-docked-controls{z-index:2147483646!important}.i-amphtml-video-docked-overlay{z-index:2147483645!important}.i-amphtml-video-docked{z-index:2147483644!important}.amp-video-docked-shadow{z-index:2147483643!important}\n/*# sourceURL=/extensions/amp-video-docking/0.1/amp-video-docking.css*/'),0,"amp-video-docking")}(t)})),this.zH=W((function(){return r.MH()})),this.mb=null,this.HH=!1,this.jH()}var o=t.prototype;return o.jH=function(){var t=this;if(this.OH()){for(var i=this.qi,n="[".concat(String(dt).replace(v,f),"]"),o=i.getRootNode().querySelectorAll(n),r=0;r<o.length;r++){var e=o[r];e.signals&&e.signals().get(lt)&&this.registerElement(e)}rt(i.getBody(),lt,(function(i){var n=i.target;(function(t){return t.hasAttribute(dt)})(n)&&t.registerElement(n)}))}},o.OH=function(){return!Q(this.qi.win).isIos()||!(t=this.qi,D(t,"viewer")).isEmbedded();var t},o.MH=function(){var t=this.qi.getRootNode(),i=t.querySelector("[dock]");U(i.signals().get(lt),"`dock` attribute can only be set on video components.");var n=i.getAttribute("dock").trim();if(""==n)return null;var o=t.querySelector(n);return o&&U("amp-layout"==o.tagName.toLowerCase(),"Dock slot must be an <amp-layout> element."),o},o.yH=function(){var t,i=this;this.ur.width!==(null===(t=this.eH)||void 0===t?void 0:t.viewportRect.width)&&this.Wi.forEach((function(t){return i.VH(t)}))},o.BH=function(){var t=this.AH();return t?t.getBoundingClientRect().top:0},o.register=function(t){var i=this;this._A(),this.mb||(this.mb=new IntersectionObserver((function(t){for(var n=[],o=function(o){var r=t[o],e=r.boundingClientRect,s=r.target;n.indexOf(s)<0&&(s.getImpl().then((function(t){i.LH(t,e)})),n.push(s))},r=t.length-1;r>=0;r--)o(r)}),{threshold:[0,.1,.2,.8,.9,1]})),this.mb.observe(t.element),this.Wi.push(t)},o.registerElement=function(t){var i=this;t.getImpl().then((function(t){return i.register(t)}))},o.xH=function(){var t=this.Tu.getScrollTop();if(!(Math.abs(t-this.dA)<5)){var i=t>this.dA?"top":zt;this.pH=i,this.dA=t}},o.aH=function(){var t=this.qi.getRootNode();return t.ownerDocument||t},o.yP=function(t){return(this.aH().body||this.aH()).appendChild(t)},o.EH=function(t){var i=this,n=function(t){return i.My(t)};return rt(t,"touchstart",n),rt(t,"mousedown",n),t},o.hH=function(){var t=this,i=new wt(this.qi),n=i.container,o=i.overlay;return rt(n,at,(function(){t.SH()})),rt(n,ut,(function(){t.CH()})),this.EH(n),this.EH(o),this.yP(n),this.yP(o),i},o.SH=function(){this.cH().hide(!1,!0),this.NH(this.RH())},o.RH=function(){return Z(this.eH).video},o.WH=function(t,i){if(this.gH||!this._H(t,i)||this.IH(t)||this.PH(t))return null;var n=t.element,o=function(t){for(var i=-1/0,n=1/0,o=-1/0,r=1/0,e=0;e<arguments.length;e++){var s=arguments[e];if(s&&(i=Math.max(i,s.left),n=Math.min(n,s.left+s.width),o=Math.max(o,s.top),r=Math.min(r,s.top+s.height),n<i||r<o))return null}return n==1/0?null:k(i,o,n-i,r-o)}(i||n.getBoundingClientRect(),this.ur);return o&&At(o)?o.top>this.BH()?null:this.$H(t,i):null},o.TH=function(t){return(t=t.element||t).getBoundingClientRect()},o.VH=function(t){var i=this;this.vl((function(){var n=i.WH(t);n?i.YH(t,n,1):i.ZH(t)&&i.NH(t)}))},o.vl=function(t){this.qi.win.requestAnimationFrame(t)},o.LH=function(t,i){if(!this.HH)if("top"==this.pH){var n=this.WH(t,i);n&&this.UH(t,n,i)}else if(this.pH==zt){if(!this.eH)return;t===this.RH()&&this.xe(t,Nt,i)&&this.NH(t,!1,i)}},o.PH=function(t){return!this.eH&&!this.Zn(t)},o.IH=function(t){return!!this.eH&&!this.ZH(t)},o._H=function(t,i){var n,o,r=i||t.element.getBoundingClientRect(),e=r.height;return r.width/e<.98?(o=(n=t.element).tagName.toUpperCase(),T().error(o,"Minimize-to-corner (`dock`) does not support portrait video.",n),!1):this.ur.width>=320&&this.ur.height>=e*Nt},o.Zn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=t||this.RH();return this.Sg().getPlayingState(i)==vt},o.UH=function(t,i,n){this.XH(t)||this.eH||this.DH(t,i,n)},o.DH=function(t,i,n){var o=this;return this.YH(t,i,.05,n,!0).then((function(){return new Promise((function(r){o.vl((function(){o.YH(t,i,1,n).then(r)}))}))}))},o.YH=function(t,i,n,o,r){var e=this,s=t.element;this.YO(s);var a=this.FH(t,i,n,o),u=a.relativeX,c=a.scale,h=a.x,d=a.y;t.hideControls();var l=this.qH(n);return this.GH(t,i,n),this.JH(t,h,d,c,n,l,u,o).then((function(){r||e.cH().enable()}))},o.Ns=function(t,i){var n=i&&i.slot||this.AH()||this.RH().element,o=ot(this.qi.win,t,{});(function(t){return i="action",J(n=q(F(t)),i)?G(n,i):null;var i,n})(n).trigger(n,t,o,1)},o.XH=function(t){return this.vH==t&&(this.xe(t.element,Mt)&&this.KH(),!0)},o.KH=function(){this.vH=null},o.qH=function(t){return this.eH?300*Math.abs(t-this.eH.step):0},o.QH=function(t,i,n){return!!this.fH&&this.fH.x==t&&this.fH.y==i&&this.fH.scale==n},o.JH=function(t,i,n,o,r,e,a,u){var c=this,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"fixed";if(this.QH(i,n,o))return s();this.HH=!0;var d=t.element,l=u||t.element.getBoundingClientRect(),v=l.height,f=l.width;this.fH={x:i,y:n,scale:o};var m=r>0?"ease-out":"ease-in",p=R(d),k=this.uH(),b=this.cH(),w=b.overlay,x=this.dH(),y=this.lH().icon,z=void 0!==a,M=a==xt;z&&(st(y,f,Rt),y.classList.toggle("amp-rtl",M),this.cH().container.classList.toggle("amp-rtl",M));var H=this.tV(f,v),j=function(t){H&&B(t,{"width":E(f),"height":E(v),"min-width":E(f),"min-height":E(v)})},O=function(t){return B(t,{"opacity":r})},V=function(t){return B(t,{"transition-duration":"".concat(e,"ms"),"transition-timing-function":m})},A=y.classList.contains("amp-small"),S=A?32:48,C=A?20:40,N=M?Ot:jt,W=N(f,S,C,r);return t.mutateElement((function(){p.classList.add(Wt),B(d,{"overflow":"visible"}),L(k,!0),L(w,!0),g(c.lH().poster),g(x),c.iV(t),d.appendChild(x),c.vl((function(){t.mutateElement((function(){O(x),V(x),V(y),z&&B(y,{"transform":It(W,0,1)})}))}));var r=0,e=0,s=0,a=0;"absolute"===h&&(r=l.left,e=l.top,s=d.offsetLeft,a=d.offsetTop),c.nV(t).forEach((function(t){var u=Number(t!==p),c=u*a-e;B(t,{"position":h,"left":E(u*s-r),"top":E(c),"transform":It(i,n,o)}),V(t),j(t)})),O(k),c.cH().positionOnVsync(o,i,n,f,v)})),this.oV().promise(e).then((function(){c.HH=!1}))},o.oV=function(){return tt(this.qi.win)},o.nV=function(t){return[R(t.element),this.uH(),this.cH().overlay]},o.iV=function(t){var i=this.lH().poster,n=function(t){var i=t.getAttribute("poster")||t.getAttribute("data-poster");if(i)return i;var n=function(t,i){if(void 0!==h?h:h=function(t){try{var i=t.ownerDocument,n=i.createElement("div"),o=i.createElement("div");return n.appendChild(o),n.querySelector(":scope div")===o}catch(t){return!1}}(t))return t.querySelector(m(i,":scope"));var n=function(t,i){var n=t.classList,o="i-amphtml-scoped";n.add(o);var r=m("amp-img[placeholder],img[placeholder],[placeholder] amp-img",".".concat(o)),e=t.querySelectorAll(r);return n.remove(o),e}(t)[0];return void 0===n?null:n}(t,"amp-img[placeholder],img[placeholder],[placeholder] amp-img");return n?n.getAttribute("src"):void 0}(t.element);n?(L(i,!0),function(t,i){for(var n in i)A(t,n,i[n])}(i,{"background-image":"url(".concat(n,")")})):L(i,!1)},o.tV=function(t,i){var n=!this.mH||this.mH.width!=t||this.mH.height!=i;return n&&(this.mH={width:t,height:i}),n},o.ZH=function(t){return!!this.eH&&this.eH.video==t},o.GH=function(t,o,r){var e,s,a=this.eH,u=function(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(Object(r),!0).forEach((function(n){i(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))}))}return t}({},this.ur);this.eH={video:t,target:o,step:r,viewportRect:u},a&&a.video==t&&(e=o.rect,s=a.target.rect,e&&s&&e.left==s.left&&e.top==s.top&&e.width==s.width&&e.height==s.height)||(this.cH().setVideo(t,o.rect),this.Ns("dock",o))},o.rV=function(t){var i=this.RH(),n=this.eH.target,o=this.FH(i,n,1),r=o.scale,e=o.x,s=o.y,a=this.eV(t),u=this.sV(a);this.wH=t-this.bH,this.bH=t,this.JH(i,e+t,s,r,1,0,u)},o.xe=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,o=n||this.TH(t);if(!At(o))return 0;var r=Math.min(o.bottom,this.ur.bottom)-Math.max(o.top,this.ur.top),e=Math.max(0,r/o.height);return e>i-Mt},o.My=function(t){var i=this;if(this.eH&&!this.aV(_t)&&!this.HH){this.kH=0;var n=ct(t).x,o=this.eH.target.directionX,r=Pt(this.qi.win,(function(t){return i.uV(t,o,n)})),e=function(){return i.cV(a)},s=this.qi.getRootNode(),a=[this.hV(),this.dV(),this.lV(),rt(s,"touchmove",r),rt(s,"mousemove",r),et(s,"touchend",e),et(s,"mouseup",e)]}},o.aV=function(t){return!!this.eH&&this.eH.target.type===t},o.dV=function(){var t=this.aH().documentElement,i="i-amphtml-select-disabled";return t.classList.add(i),function(){return t.classList.remove(i)}},o.hV=function(){return this.Tu.disableScroll(),this.Tu.resetScroll.bind(this.Tu)},o.uV=function(t,i,n){if(this.eH.target.directionX===i){var o=ct(t).x-n;this.kH=o,o<=10||(t.preventDefault(),t.stopPropagation(),this.cH().hide(!1,!0),this.gH=!0,this.cH().disable(),this.rV(o))}},o.lV=function(){var t=this.qi.win;if(!Q(t).isIos())return function(){};var i=function(t){return t.preventDefault()};return t.addEventListener("touchmove",i,{passive:!1}),function(){return t.removeEventListener("touchmove",i)}},o.cV=function(t){t.forEach((function(t){return t.call()})),this.gH=!1,this.cH().enable(),Math.abs(this.wH)<40?this.vV(this.kH):this.fV(this.bH,Math.sign(this.wH)),this.wH=0,this.bH=0,this.kH=0},o.fV=function(t,i){var n=this;Z(1==Math.abs(i));var o=this.RH();if(o.pause(),this.xe(o,.2))this.mV(o,t,i);else{var r=Z(this.eH).target,e=r.rect,s=e.width,a=e.x,u=e.y,c=this.FH(o,r,1).scale,h=a+t,d=1==i?this.ur.right:this.ur.left-s,l=this.pV(d-h);this.gV(),o.showControls(),this.JH(o,d,u,c,0,l).then((function(){n.kV(o)}))}},o.mV=function(t,i,n){var o=this;Z(1==Math.abs(n));var r=Z(this.eH).target,e=r.rect,s=e.width,a=e.x,u=e.y,c=this.FH(t,r,1).scale,h=this.ur.width,d=a+i,l=1==n?jt(h,s,0,1):Ot(h,s,0,1),v=this.pV(l-d);this.gV(),this.JH(t,l,u,c,0,v).then((function(){o.NH(t,!0),t.showControls()}))},o.pV=function(t){return Math.min(300,Math.abs(t)/2)},o.eV=function(t){var i=this.eH,n=i.step,o=i.target,r=this.RH(),e=r.element.getBoundingClientRect().width,s=this.FH(r,o,n),a=s.scale;return s.x+t+e*a/2},o.vV=function(t){var i=this.RH(),n=this.eH.step,o=this.sV(t);this.sH=o;var r=this.$H(i);this.eH.target=r;var e=this.FH(i,r,n),s=e.scale,a=e.x,u=e.y;this.JH(i,a,u,s,n,200,o)},o.sV=function(t){return this.eV(t)>=this.ur.width/2?yt:xt},o.FH=function(t,i,n,o){return function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=i.x<t.x?xt:yt,r=Vt(n,t.x,i.x),e=Vt(n,t.y,i.y),s=Vt(n,t.width,i.width)/t.width;return{x:r,y:e,scale:s,relativeX:o}}(o||this.TH(t),i.rect,n)},o.NH=function(t,i,n){var o=this,r=this.xe(t,Nt,n);r||(t.pause(),t.showControls()),i||this.gV();var e=Z(this.eH).target,s=this.FH(t,e,0),a=s.relativeX,u=s.scale,c=s.x,h=s.y,d=r?this.qH(0):0;return this.JH(t,c,h,u,0,d,a,n,"absolute").then((function(){t.showControls(),o.kV(t)}))},o.gV=function(){this.cH().disable(),this.cH().hide(!1,!0),this.Ns("undock")},o.kV=function(t){var i=this,n=R(t.element);return t.mutateElement((function(){n.classList.remove(Wt);var t=i.uH(),o=i.lH().icon,r=i.dH();L(t,!1),i.cH().reset(),[n,t,r,o].forEach((function(t){N(t,["transform","transition","min-width","min-height","width","height","opacity","overflow","position","left","top"])})),i.fH=null,i.mH=null,i.eH=null}))},o.YO=function(t){var i,n,o=t.querySelector(".i-amphtml-android-poster-bug");o&&(null===(n=(i=o).parentElement)||void 0===n||n.removeChild(i))},o.CH=function(){this.eH&&this.Tu.animateScrollIntoView(this.RH().element,"center")},o.$H=function(t,i){var n,o,r,e,s,a,u,c,h,d,l,v,f=this.AH(),m=i||t.element.getBoundingClientRect();return f?{type:_t,rect:(n=m,o=f.getBoundingClientRect(),a=n.height,u=n.width,c=o.height,h=o.left,d=o.top,l=o.width,u/a>l/c?(e=d+c/2-a*(s=l/u)/2,r=h):(r=h+l/2-u*(s=c/a)/2,e=d),k(r,e,u*s,a*s)),slot:f}:(null===this.sH&&(this.sH="rtl"==((v=this.aH()).body.getAttribute("dir")||v.documentElement.getAttribute("dir")||"ltr")?xt:yt),{type:"corner",rect:Bt(m,this.ur,this.sH,.3,180,.04,30),directionX:this.sH})},o.AH=function(){var t=this.zH();return t&&At(t.getBoundingClientRect())?t:null},t}();t.registerServiceForDoc("video-docking",$t)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-video-docking-0.1.js.map