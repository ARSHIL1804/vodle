;
!function(t){var e=self.BENTO=self.BENTO||{};(e.bento=e.bento||[]).push((function(t){"use strict";function e(t,r){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,r)}function r(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&e(t,r)}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=n(t);if(e){var i=n(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return a(this,r)}}function u(t,e){for(var r=[],n=0,o=0;o<t.length;o++){var a=t[o];e(a,o,t)?r.push(a):(n<o&&(t[n]=a),n++)}return n<t.length&&(t.length=n),r}function l(t){return t.replace("-","_")}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function f(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=s(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Array.isArray;var d=Object.prototype;function v(t){return 1==(null==(e=t)?void 0:e.nodeType)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var e}function m(t,e,r,n,o,a,i,l,c,s,f){return function(t,e){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(e)return e;t&&-1==o.indexOf(t)&&(o+=t);for(var a=3,i=o.split("%s"),l=i.shift(),c=[l];i.length;){var s=arguments[a++],f=i.shift();l+=v(s)+f,c.push(s,f.trim())}var d=new Error(l);throw d.messageArray=u(c,(function(t){return""!==t})),null===(r=(n=self).__AMP_REPORT_ERROR)||void 0===r||r.call(n,d),d}("​​​",t,e,r,n,o,a,i,l,c,s,f)}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}function w(t){var e=Object.getOwnPropertyDescriptor(t,"message");if(null!=e&&e.writable)return t;var r=t.message,n=t.stack,o=new Error(r);for(var a in t)o[a]=t[a];return o.stack=n,o}function j(t){for(var e,r=null,n="",o=f(arguments,!0);!(e=o()).done;){var a=e.value;a instanceof Error&&!r?r=w(a):(n&&(n+=" "),n+=a)}return r?n&&(r.message=n+": "+r.message):r=new Error(n),r}function S(t){var e,r;null===(e=(r=self).__AMP_REPORT_ERROR)||void 0===e||e.call(r,t)}function O(t,e){try{return function(t){return JSON.parse(t)}(t)}catch(t){return null==e||e(t),null}}d.hasOwnProperty,d.toString;var x;var A="unload",k=(b(x={},"auto",0),b(x,"lazy",1),b(x,"eager",2),b(x,A,3),"loading"),E="complete",R=["allow","allowFullScreen","iframeStyle","name","title","matchesMessagingOrigin","messageHandler","ready","loading","onReadyState","sandbox","src"],F=function(){return!1},P=(0,t.forwardRef)((function(e,r){var n=e.allow,o=e.allowFullScreen,a=e.iframeStyle,i=e.name,u=e.title,l=e.matchesMessagingOrigin,c=void 0===l?F:l,s=e.messageHandler,f=e.ready,d=void 0===f||f,v=e.loading,m=e.onReadyState,b=e.sandbox,h=e.src,y=g(e,R),w=(0,t.useAmpContext)().playable,j=(0,t.useLoading)(v),S=j!==A,O=(0,t.useRef)(!1),x=(0,t.useValueRef)(m),P=(0,t.useCallback)((function(t){if(t!==O.current){O.current=t;var e=x.current;null==e||e(t?E:k)}}),[x]),z=(0,t.useRef)(null);return(0,t.useImperativeHandle)(r,(function(){return{get readyState(){return O.current?E:k},get node(){return z.current}}}),[]),(0,t.useLayoutEffect)((function(){S||P(!1)}),[S,P]),(0,t.useEffect)((function(){var t=z.current;!w&&t&&(function(t){return!(!t||"about:blank"==t||t.includes("#"))}(t.src)?t.src=t.src:t.parentNode.insertBefore(t,t.nextSibling))}),[w]),(0,t.useLayoutEffect)((function(){var t=z.current;if(t&&S){var e=function(t){var e=z.current;e&&t.source==e.contentWindow&&c(t.origin)&&s(t)},r=t.ownerDocument.defaultView;return r.addEventListener("message",e),function(){return r.removeEventListener("message",e)}}}),[c,s,S,d]),(0,t.createElement)(t.ContainWrapper,p(p({},y),{},{layout:!0,size:!0,paint:!0}),S&&d&&(0,t.createElement)("iframe",{allow:n,allowFullScreen:o,frameBorder:"0",loading:j,name:i,onLoad:function(){return P(!0)},part:"iframe",ref:z,sandbox:b,scrolling:"no",src:h,style:p(p({},a),{},{width:"100%",height:"100%",contentVisibility:"auto"}),title:u}))}));P.displayName="IframeEmbed";var z=self.AMP_CONFIG||{},C=("string"==typeof z.thirdPartyFrameRegex?new RegExp(z.thirdPartyFrameRegex):z.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,H=("string"==typeof z.cdnProxyRegex?new RegExp(z.cdnProxyRegex):z.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function I(t){if(!self.document||!self.document.head)return null;if(self.location&&H.test(self.location.origin))return null;var e=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return e&&e.getAttribute("content")||null}var T={thirdParty:z.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:z.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:C,cdn:z.cdnUrl||I("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:H,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:z.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:z.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:z.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:z.geoApiUrl||I("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var B,$,_=function(){function t(t){this.St=t,this.It=0,this.Ct=0,this.Ot=Object.create(null)}var e=t.prototype;return e.has=function(t){return!!this.Ot[t]},e.get=function(t){var e=this.Ot[t];if(e)return e.access=++this.Ct,e.payload},e.put=function(t,e){this.has(t)||this.It++,this.Ot[t]={payload:e,access:this.Ct},this.Rt()},e.Rt=function(){if(!(this.It<=this.St)){var t,e=this.Ot,r=this.Ct+1;for(var n in e){var o=e[n].access;o<r&&(r=o,t=n)}void 0!==t&&(delete e[t],this.It--)}},t}();function L(t){return"".concat(T.thirdParty,"/").concat("2203281422000","/vendor/").concat(t).concat(".js")}function M(t){var e;if(t.crypto&&t.crypto.getRandomValues){var r=new Uint32Array(2);t.crypto.getRandomValues(r),e=String(r[0])+r[1]}else e=String(t.Math.random()).substr(2)+"0";return e}new Set(["c","v","a","ad"]);var N=["allow","excludeSandbox","name","messageHandler","options","sandbox","src","type","title"],D={},G="sync-xhr 'none'",J=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"].join(" ")+" "+["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"].join(" "),U=(0,t.forwardRef)((function(e,r){var n,o,a=e.allow,i=void 0===a?G:a,u=e.excludeSandbox,l=e.name,c=e.messageHandler,s=e.options,f=e.sandbox,d=void 0===f?J:f,v=e.src,m=e.type,b=e.title,h=void 0===b?m:b,w=g(e,N);if("number"!=typeof o&&(o=0),o+G.length>(n=i).length||-1===n.indexOf("sync-xhr 'none'",o))throw new Error("'allow' prop must contain \"".concat(G,'". Found "').concat(i,'".'));var j=(0,t.useRef)(null),S=(0,t.useRef)(null),O=(0,t.useMemo)((function(){var t;return D[m]||(D[m]=(t=0,function(){return String(++t)})),D[m]()}),[m]),x=y((0,t.useState)({name:l,src:v}),2),A=x[0],k=x[1],E=A.name,R=A.src,F=(0,t.useRef)(null);return(0,t.useLayoutEffect)((function(){var t,e,r,n,o,a,i,u=null===(t=j.current)||void 0===t||null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView,c=null!=v?v:u?(o=n||"frame",(r=u).__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN=r.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN||"d-"+M(r),"https://"+r.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN+".".concat(T.thirdPartyFrameHost,"/").concat("2203281422000","/")+"".concat(o,".html")):"about:blank";if(l)k({name:l,src:c});else if(u){F.current||(F.current=function(t){for(var e=0,r=t;r&&r!=r.parent;r=r.parent)e++;return String(e)+"-"+M(t)}(u));var f=Object.assign({"location":{"href":u.location.href},"sentinel":F.current}),d=p({"title":h,"type":m,"_context":f},s);k({name:JSON.stringify({"host":(a=c,B||(B=self.document.createElement("a"),$=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new _(100))),function(t,e,r){if(r&&r.has(e))return r.get(e);t.href=e,t.protocol||(t.href=t.href);var n,o={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==o.pathname[0]&&(o.pathname="/"+o.pathname),("http:"==o.protocol&&80==o.port||"https:"==o.protocol&&443==o.port)&&(o.port="",o.host=o.hostname),n=t.origin&&"null"!=t.origin?t.origin:"data:"!=o.protocol&&o.host?o.protocol+"//"+o.host:o.href,o.origin=n;var a=o;return r&&r.put(e,a),a}(B,a,i?null:$)).hostname,"bootstrap":L(m),"type":m,"count":O,"attributes":d}),src:c})}}),[O,l,s,v,h,m]),(0,t.useEffect)((function(){var t,e=null===(t=S.current)||void 0===t?void 0:t.node;e&&e.parentNode.insertBefore(e,e.nextSibling)}),[E]),(0,t.useImperativeHandle)(r,(function(){return{get readyState(){var t;return null===(t=S.current)||void 0===t?void 0:t.readyState},get node(){var t;return null===(t=S.current)||void 0===t?void 0:t.node}}}),[]),(0,t.createElement)(P,p(p({},w),{},{allow:i,contentRef:j,messageHandler:c,name:E,ref:S,ready:!!E,sandbox:u?void 0:d,src:R,title:h}))}));U.displayName="ProxyIframeEmbed";var V=["action","colorscheme","embedAs","hideCover","hideCta","href","includeCommentParent","kdSite","layout","locale","numPosts","onLoad","orderBy","refLabel","requestResize","share","showFacepile","showText","size","smallHeader","style","tabs","title"],q=function(){return!0},Z=(0,t.forwardRef)((function(e,r){var n=e.action,o=e.colorscheme,a=e.embedAs,i=e.hideCover,u=e.hideCta,c=e.href,s=e.includeCommentParent,f=e.kdSite,d=e.layout,v=e.locale,m=e.numPosts,b=e.onLoad,h=e.orderBy,w=e.refLabel,x=e.requestResize,A=e.share,k=e.showFacepile,E=e.showText,R=e.size,F=e.smallHeader,P=e.style,z=e.tabs,C=e.title,H=void 0===C?"Facebook comments":C,I=g(e,V),T=y((0,t.useState)(null),2),B=T[0],$=T[1],_=(0,t.useValueRef)(b),L=(0,t.useCallback)((function(t){var e,r,n=null!==(e=O(t.data))&&void 0!==e?e:function(t){if(!function(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}(t))return null;var e=t.indexOf("{");return O(t.substr(e),(function(e){!function(t){var e=j.apply(null,arguments);setTimeout((function(){throw S(e),e}))}(new Error("MESSAGING: Failed to parse message: ".concat(t,"\n").concat(e.message)))}))}(t.data);if("ready"==n.action&&(null===(r=_.current)||void 0===r||r.call(_)),"embed-size"==n.type){var o=n.height;x?(x(o),$("100%")):$(o)}}),[x,_]),M=y((0,t.useState)(v),2),N=M[0],D=M[1];(0,t.useLayoutEffect)((function(){var t,e;if(v)D(v);else{var n=null==r||null===(t=r.current)||void 0===t||null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView;n&&D(l(n.navigator.language))}}),[v,r]);var G=(0,t.useMemo)((function(){return{action:n,colorscheme:o,embedAs:a,hideCover:i,hideCta:u,href:c,includeCommentParent:s,"kd_site":f,layout:d,locale:N,numPosts:m,orderBy:h,ref:w,share:A,showFacepile:k,showText:E,size:R,smallHeader:F,tabs:z}}),[n,o,a,i,u,c,s,f,d,N,m,h,w,A,k,E,R,F,z]);return(0,t.createElement)(U,p(p({options:G,ref:r,title:H},I),{},{excludeSandbox:!0,matchesMessagingOrigin:q,messageHandler:L,type:"facebook",style:B?p(p({},P),{},{height:B}):P}))}));Z.displayName="BentoFacebook";var K=function(t){r(n,t);var e=i(n);function n(){return e.apply(this,arguments)}return n}(t.PreactBaseElement);K.Component=Z,K.loadable=!0,K.props={"title":{attr:"title"},"href":{attr:"data-href"},"locale":{attr:"data-locale",default:l(window.navigator.language)},"loading":{attr:"data-loading"},"allowFullScreen":{attr:"data-allowfullscreen"},"embedAs":{attrs:["data-embed-as"],parseAttrs:function(t){var e=t.getAttribute("data-embed-as");return m(!e||-1!==["post","video","comments","like","page"].indexOf(e),'Attribute data-embed-as for <amp-facebook> value is wrong, should be "post", "video", "comments", "like", or "page", but was: %s',e),e}},"includeCommentParent":{attr:"data-include-comment-parent",type:"boolean",default:!1},"showText":{attr:"data-show-text"},"numPosts":{attr:"data-numposts"},"orderBy":{attr:"data-order-by"},"colorscheme":{attr:"data-colorscheme"},"action":{attr:"data-action"},"kdSite":{attr:"data-kd_site"},"layout":{attr:"data-layout"},"refLabel":{attr:"data-ref"},"share":{attr:"data-share"},"size":{attr:"data-size"},"hideCover":{attr:"data-hide-cover"},"hideCta":{attr:"data-hide-cta"},"showFacepile":{attr:"data-show-facepile"},"smallHeader":{attr:"data-small-header"},"tabs":{attr:"data-tabs"}},K.layoutSizeDefined=!0,K.usesShadowDom=!0;var Q=function(t){r(n,t);var e=i(n);function n(){return e.apply(this,arguments)}return n}(K);Q.staticProps={"embedAs":"comments"};var W=function(t){r(n,t);var e=i(n);function n(){return e.apply(this,arguments)}return n}(K);W.staticProps={"embedAs":"like"};var X,Y=function(t){r(n,t);var e=i(n);function n(){return e.apply(this,arguments)}return n}(K);Y.staticProps={"embedAs":"page"},(0,t.defineBentoElement)("bento-facebook",K,X),(0,t.defineBentoElement)("bento-facebook-comments",Q,void 0),(0,t.defineBentoElement)("bento-facebook-like",W,void 0),(0,t.defineBentoElement)("bento-facebook-page",Y,void 0)}))}();
//# sourceMappingURL=bento-facebook-1.0.js.map