;
var t={};!function(t){var n=Object.prototype.toString,e=Array.isArray||function(t){return"[object Array]"===n.call(t)};function r(t){return"function"==typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,n){return null!=t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,n)}var u=RegExp.prototype.test,a=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},f=/\s*/,c=/\s+/,l=/\s*=/,m=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function d(t){this.string=t,this.tail=t,this.pos=0}function p(t,n){this.view=t,this.cache={".":this.view},this.parent=n}function v(){this.cache={}}d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(t){var n=this.tail.match(t);if(!n||0!==n.index)return"";var e=n[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e},d.prototype.scanUntil=function(t){var n,e=this.tail.search(t);switch(e){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=n.length,n},p.prototype.push=function(t){return new p(t,this)},p.prototype.lookup=function(t){var n,e=this.cache;if(e.hasOwnProperty(t))n=e[t];else{for(var o,u,a=this,s=!1;a;){if(t.indexOf(".")>0)for(n=a.view,o=t.split("."),u=0;null!=n&&u<o.length;){if(!i(n,o[u])){n=null;break}u===o.length-1&&(s=!0),n=n[o[u++]]}else i(a.view,t)?(n=a.view[t],s=!0):n=null;if(s)break;a=a.parent}e[t]=n}return r(n)&&(n=n.call(this.view)),n},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(n,r){var i=this.cache,s=i[n];return null==s&&(s=i[n]=function(n,r){if(!n)return[];var i,s,p,v,b=[],y=[],w=[],g=!1,j=!1;function O(){if(g&&!j)for(;w.length;)delete y[w.pop()];else w=[];g=!1,j=!1}!function(t){if("string"==typeof t&&(t=t.split(c,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(o(t[0])+"\\s*"),s=new RegExp("\\s*"+o(t[1])),p=new RegExp("\\s*"+o("}"+t[1]))}(r||t.tags);for(var N,E,S,T,x,I,Z=new d(n);!Z.eos();){if(N=Z.pos,S=Z.scanUntil(i))for(var k=0,D=S.length;k<D;++k)v=T=S.charAt(k),function(t,n){return u.call(t,n)}(a,v)?j=!0:w.push(y.length),y.push(["text",T,N,N+1]),N+=1,"\n"===T&&O();if(!Z.scan(i))break;if(g=!0,E=Z.scan(h)||"name",Z.scan(f),"="===E?(S=Z.scanUntil(l),Z.scan(l),Z.scanUntil(s)):"{"===E?(S=Z.scanUntil(p),Z.scan(m),Z.scanUntil(s),E="&"):S=Z.scanUntil(s),!Z.scan(s))throw new Error("Unclosed tag at "+Z.pos);if(x=[E,S,N,Z.pos],y.push(x),"#"===E||"^"===E)b.push(x);else if("/"===E){if(!(I=b.pop()))throw new Error('Unopened section "'+S+'" at '+N);if(I[1]!==S)throw new Error('Unclosed section "'+I[1]+'" at '+N)}else"name"!==E&&"{"!==E&&"&"!==E||(j=!0)}if(I=b.pop())throw new Error('Unclosed section "'+I[1]+'" at '+Z.pos);return function(t){for(var n,e=[],r=e,o=[],i=0,u=t.length;i<u;++i)switch((n=t[i])[0]){case"#":case"^":r.push(n),o.push(n),r=n[4]=[];break;case"/":o.pop()[5]=n[2],r=o.length>0?o[o.length-1][4]:e;break;default:r.push(n)}return e}(function(t){for(var n,e,r=[],o=0,i=t.length;o<i;++o)(n=t[o])&&("text"===n[0]&&e&&"text"===e[0]?(e[1]+=n[1],e[3]=n[3]):(r.push(n),e=n));return r}(y))}(n,r)),s},v.prototype.render=function(t,n,e){var r=this.parse(t),o=n instanceof p?n:new p(n);return this.renderTokens(r,o,e,t)},v.prototype.renderTokens=function(t,n,e,r){for(var o,i,u,a="",s=0,f=t.length;s<f;++s)u=void 0,"#"===(i=(o=t[s])[0])?u=this.renderSection(o,n,e,r):"^"===i?u=this.renderInverted(o,n,e,r):">"===i?u=this.renderPartial(o,n,e,r):"&"===i?u=this.unescapedValue(o,n):"name"===i?u=this.escapedValue(o,n):"text"===i&&(u=this.rawValue(o)),void 0!==u&&(a+=u);return a},v.prototype.renderSection=function(t,n,o,i){var u=this,a="",s=n.lookup(t[1]);if(s){if(e(s))for(var f=0,c=s.length;f<c;++f)a+=this.renderTokens(t[4],n.push(s[f]),o,i);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(t[4],n.push(s),o,i);else if(r(s)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(n.view,i.slice(t[3],t[5]),(function(t){return u.render(t,n,o)})))&&(a+=s)}else a+=this.renderTokens(t[4],n,o,i);return a}},v.prototype.renderInverted=function(t,n,r,o){var i=n.lookup(t[1]);if(!i||e(i)&&0===i.length)return this.renderTokens(t[4],n,r,o)},v.prototype.renderPartial=function(t,n,e){if(e){var o=r(e)?e(t[1]):e[t[1]];return null!=o?this.renderTokens(this.parse(o),n,e,o):void 0}},v.prototype.unescapedValue=function(n,e){var r=e.lookup(n[1]);if(null!=r)return t.sanitizeUnescaped?t.sanitizeUnescaped(r):r},v.prototype.escapedValue=function(n,e){var r=e.lookup(n[1]);if(null!=r)return t.escape(r)},v.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.0",t.tags=["{{","}}"];var b=new v;t.clearCache=function(){return b.clearCache()},t.parse=function(t,n){return b.parse(t,n)},t.render=function(t,n,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return b.render(t,n,r)},t.to_html=function(n,e,o,i){var u=t.render(n,e,o);if(!r(i))return u;i(u)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return s[t]}))},t.sanitizeUnescaped=null,t.setUnescapedSanitizer=function(n){t.sanitizeUnescaped=n},t.Scanner=d,t.Context=p,t.Writer=v}(t);var n=t;function e(t,n){const e=[];let r=0;for(let o=0;o<t.length;o++){const i=t[o];n(i,o,t)?e.push(i):(r<o&&(t[r]=i),r++)}return r<t.length&&(t.length=r),e}function r(t,n){return n.toUpperCase()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var{hasOwnProperty:i,toString:u}=Object.prototype;function a(t){return 1==(null==(n=t)?void 0:n.nodeType)?(t=t).tagName.toLowerCase()+(t.id?`#${t.id}`:""):t;var n}function s(t,n,r,o,i,u,s,f,c,l,m){return function(t,n,r="Assertion failed",o){var i,u;if(n)return n;t&&-1==r.indexOf(t)&&(r+=t);let s=3;const f=r.split("%s");let c=f.shift();const l=[c];for(;f.length;){const t=arguments[s++],n=f.shift();c+=a(t)+n,l.push(t,n.trim())}const m=new Error(c);throw m.messageArray=e(l,(t=>""!==t)),null===(i=(u=self).__AMP_REPORT_ERROR)||void 0===i||i.call(u,m),m}("​​​",t,n,r,o,i,u,s,f,c,l,m)}import{defineBentoElement as f}from"../bento.mjs";function c(t){if(!t)return null;if("now"===t.toLowerCase())return Date.now();const n=Date.parse(t);return isNaN(n)?null:n}var l={"datetime":t=>{const n=c(t);return s(n,"Invalid date: %s",t),n},"end-date":t=>{const n=c(t);return s(n,"Invalid date: %s",t),n},"timeleft-ms":t=>Date.now()+Number(t),"timestamp-ms":t=>Number(t),"timestamp-seconds":t=>1e3*Number(t)};import{PreactBaseElement as m}from"../bento.mjs";function h(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function d(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function p(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?d(Object(e),!0).forEach((function(n){h(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}import{createElement as v}from"../bento.mjs";import{Slot as b,createSlot as y}from"../bento.mjs";import{createElement as w}from"../bento.mjs";import{useMemo as g}from"../bento.mjs";import{Wrapper as j}from"../bento.mjs";import{useLayoutEffect as O,useState as N}from"../bento.mjs";import{useCallback as E,useLayoutEffect as S}from"../bento.mjs";import{useAmpContext as T}from"../bento.mjs";var x=self.AMP_CONFIG||{},I=("string"==typeof x.thirdPartyFrameRegex?new RegExp(x.thirdPartyFrameRegex):x.thirdPartyFrameRegex,("string"==typeof x.cdnProxyRegex?new RegExp(x.cdnProxyRegex):x.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function Z(t){if(!self.document||!self.document.head)return null;if(self.location&&I.test(self.location.origin))return null;const n=self.document.head.querySelector(`meta[name="${t}"]`);return n&&n.getAttribute("content")||null}x.thirdPartyUrl,x.thirdPartyFrameHost,x.cdnUrl||Z("runtime-host"),x.errorReportingUrl,x.betaErrorReportingUrl,x.localDev,x.geoApiUrl||Z("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var k=self.__AMP_LOG;function D(t){return function(t,n){throw new Error("failed to call initLogConstructor")}()}function A(t,n,e,r="long"){var i,u;if(null===(i=Intl)||void 0===i||!i.DateTimeFormat)return"";const a=new Intl.DateTimeFormat(n,{timeZone:null==e?void 0:e.timeZone,timeZoneName:r});for(var s,f=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||t&&"number"==typeof t.length){e&&(t=e);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}((null===(u=a.formatToParts)||void 0===u?void 0:u.call(a,t))||[]);!(s=f()).done;){const t=s.value;if("timeZoneName"===t.type)return t.value}return""}var U=["datetime","displayIn","locale","localeOptions","render"],C="local",$="en",R={"year":"numeric","month":"short","day":"numeric","hour":"numeric","minute":"numeric"},_=t=>t.localeString;function M(t){return t>9?t.toString():"0"+t}function P(t,n,e){try{return t.toLocaleString(n,e)}catch(t){(k.user||(k.user=D()),void k.user.win?k.userForEmbed||(k.userForEmbed=D()):k.user).error("amp-date-display","localeOptions",t)}}var L=class extends m{};L.Component=function(t){let{datetime:n,displayIn:e=C,locale:r=$,localeOptions:o,render:i=_}=t,u=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,U);const a=(s=n)?"number"==typeof s?s:"string"==typeof s?c(s):(s=s).getTime():null;var s;const f=g((()=>function(t,n,e,r){return function(t){const n=t.hour%12||12;return p(p({},t),{},{"yearTwoDigit":M(t.year%100),"monthTwoDigit":M(t.month),"dayTwoDigit":M(t.day),"hourTwoDigit":M(t.hour),"hour12":n,"hour12TwoDigit":M(n),"minuteTwoDigit":M(t.minute),"secondTwoDigit":M(t.second),"dayPeriod":t.hour<12?"am":"pm"})}("utc"===n.toLowerCase()?function(t,n,e=R){const r=p(p({},e),{},{timeZone:"UTC"});return{"year":t.getUTCFullYear(),"month":t.getUTCMonth()+1,"monthName":t.toLocaleDateString(n,{month:"long",timeZone:"UTC"}),"monthNameShort":t.toLocaleDateString(n,{month:"short",timeZone:"UTC"}),"day":t.getUTCDate(),"dayName":t.toLocaleDateString(n,{weekday:"long",timeZone:"UTC"}),"dayNameShort":t.toLocaleDateString(n,{weekday:"short",timeZone:"UTC"}),"hour":t.getUTCHours(),"minute":t.getUTCMinutes(),"second":t.getUTCSeconds(),"iso":t.toISOString(),"localeString":P(t,n,r),"timeZoneName":A(t,n,r),"timeZoneNameShort":A(t,n,r,"short")}}(t,e,r):function(t,n,e=R){return{"year":t.getFullYear(),"month":t.getMonth()+1,"monthName":t.toLocaleDateString(n,{month:"long"}),"monthNameShort":t.toLocaleDateString(n,{month:"short"}),"day":t.getDate(),"dayName":t.toLocaleDateString(n,{weekday:"long"}),"dayNameShort":t.toLocaleDateString(n,{weekday:"short"}),"hour":t.getHours(),"minute":t.getMinutes(),"second":t.getSeconds(),"iso":t.toISOString(),"localeString":P(t,n,e),"timeZoneName":A(t,n,e),"timeZoneNameShort":A(t,n,e,"short")}}(t,e,r))}(new Date(a),e,r,o)),[a,e,r,o]),l=function(t,n){const[e,r]=N(null);return O((()=>{const e=t&&t(n)||null;if("function"==typeof(null==(o=e)?void 0:o.then)){let t=!1;return e.then((n=>{t||r(n)})),()=>{t=!0}}var o;r(e)}),[t,n]),e}(i,f),m=l&&"object"==typeof l&&"__html"in l;return function(){const{notify:t}=T();S((()=>{t&&t()}))}(),w(j,p(p({},u),{},{as:"div",datetime:f.iso,dangerouslySetInnerHTML:m?l:null}),m?null:l)},L.props={"datetime":{attrs:["datetime","timestamp-ms","timestamp-seconds","offset-seconds"],parseAttrs:function(t){return function(t,n){const e=function(t,n){const e=n.map((t=>l[t]));for(let r=0;r<n.length;++r){const o=t.getAttribute(n[r]);if(o)return e[r](o)}return null}(t,n);return s(e,"One of attributes [%s] is required",n.join(", ")),e+1e3*(Number(t.getAttribute("offset-seconds"))||0)}(t,["datetime","timestamp-ms","timestamp-seconds"])}},"displayIn":{attr:"display-in"},"locale":{attr:"locale"},"localeOptions":function(t){const n=n=>(null==n?void 0:n.startsWith(t))&&n!==t;return{"attrMatches":n,"parseAttrs":e=>{let o;const i=e.attributes;for(let e=0;e<i.length;e++){const a=i[e];n(a.name)&&(o||(o={}),o[(u=a.name.slice(t.length),u.replace(/-([a-z])/g,r))]=a.value)}var u;return o}}}("data-options-")},L.layoutSizeDefined=!0,L.lightDomTag="div",L.usesTemplate=!0,f("bento-date-display",class extends L{checkPropsPostMutations(){const t=function(t,n="template"){if(t.hasAttribute(n)){const r=t.getAttribute(n);return Boolean(r)?t.ownerDocument.querySelector(`template#${e=r,CSS.escape(e)}`):null}var e;return t.querySelector("template")}(this.element);t&&this.mutateProps({"render":e=>({"__html":n.render(t.innerHTML,e)})})}},void 0);
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=bento-date-display-1.0.mjs.map