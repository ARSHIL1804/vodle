;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-3d-gltf",ev:"0.1",l:!0,f:function(t,n){!function(){function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function r(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,i=function(){var t=this;this.promise=new Promise((function(n,r){t.resolve=n,t.reject=r}))};function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,n){if(n&&("object"===f(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}var l,s=Array.isArray,v=Object.prototype;function h(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function p(t,n,r,e,i,o,a,u,f,c,l){return t}function m(t){return JSON.parse(t)}function d(t,n){try{return m(t)}catch(t){return null==n||n(t),null}}function b(t){return(t.ownerDocument||t).defaultView}function g(t){return t.parent&&t.parent!=t}function y(t){var n,r=parseFloat(t);return"number"==typeof(n=r)&&isFinite(n)?r:void 0}function w(t){var n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;var r=t.message,e=t.stack,i=new Error(r);for(var o in t)i[o]=t[o];return i.stack=e,i}function j(t){for(var n,e=null,i="",o=r(arguments,!0);!(n=o()).done;){var a=n.value;a instanceof Error&&!e?e=w(a):(i&&(i+=" "),i+=a)}return e?i&&(e.message=i+": "+e.message):e=new Error(i),e}function O(t){var n,r;null===(n=(r=self).__AMP_REPORT_ERROR)||void 0===n||n.call(r,t)}function S(t){var n=j.apply(null,arguments);setTimeout((function(){throw O(n),n}))}function x(t){try{for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return t.apply(null,r)}catch(t){S(t)}}v.hasOwnProperty,v.toString;var R=["Webkit","webkit","Moz","moz","ms","O","o"],E={"getPropertyPriority":function(){return""},"getPropertyValue":function(){return""}};function P(t,n,r,e,i){var o=function(t,n,r){if(n.startsWith("--"))return n;l||(l=h());var e=l[n];if(!e||r){if(e=n,void 0===t[n]){var i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),o=function(t,n){for(var r=0;r<R.length;r++){var e=R[r]+n;if(void 0!==t[e])return e}return""}(t,i);void 0!==t[o]&&(e=o)}r||(l[n]=e)}return e}(t.style,n,i);if(o){var a,u=e?r+e:r;t.style.setProperty((a=o.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),R.some((function(t){return a.startsWith(t+"-")}))?"-".concat(a):a),u)}}var A=/vertical/,M=new WeakMap,k=new WeakMap,F=new WeakMap;function T(t){var n=M.get(t);return n||(n=new t.ResizeObserver(I),M.set(t,n)),n}function I(t){for(var n=new Set,r=t.length-1;r>=0;r--){var e=t[r],i=e.target;if(!n.has(i)){n.add(i);var o=k.get(i);if(o){F.set(i,e);for(var a=0;a<o.length;a++){var u=o[a],f=u.callback;L(u.type,f,e)}}}}}function L(t,n,r){if(0==t){var e=r.contentRect,i=e.height;x(n,{width:e.width,height:i})}else if(1==t){var o,a=r.borderBoxSize;if(a)o=a.length>0?a[0]:{inlineSize:0,blockSize:0};else{var u,f,c=r.target,l=b(c),s=A.test(function(t,n){return t.getComputedStyle(n)||E}(l,c).writingMode),v=c,h=v.offsetHeight,p=v.offsetWidth;s?(f=p,u=h):(u=p,f=h),o={inlineSize:u,blockSize:f}}x(n,o)}}function z(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=r.needsRootBounds,i=r.rootMargin,o=r.threshold,a=g(n)&&(e||i)?n.document:void 0;return new n.IntersectionObserver(t,{threshold:o,root:a,rootMargin:i})}var N=new WeakMap,G=new WeakMap;function C(t){for(var n=new Set,r=t.length-1;r>=0;r--){var e=t[r],i=e.target;if(!n.has(i)){n.add(i);var o=G.get(i);if(o)for(var a=0;a<o.length;a++)(0,o[a])(e)}}}var D=self.AMP_CONFIG||{},U=("string"==typeof D.thirdPartyFrameRegex?new RegExp(D.thirdPartyFrameRegex):D.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,V=("string"==typeof D.cdnProxyRegex?new RegExp(D.cdnProxyRegex):D.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function W(t){if(!self.document||!self.document.head)return null;if(self.location&&V.test(self.location.origin))return null;var n=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return n&&n.getAttribute("content")||null}var $={thirdParty:D.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:D.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:U,cdn:D.cdnUrl||W("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:V,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:D.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:D.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:D.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:D.geoApiUrl||W("amp-geo-api")},_=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function J(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function Z(t){var n,r=h();if(!t)return r;for(;n=_.exec(t);){var e=J(n[1],n[1]),i=n[2]?J(n[2].replace(/\+/g," "),n[2]):"";r[e]=i}return r}function H(t){var n=(t||self).location;return Z(n.originalHash||n.hash)}var q="";function B(t){var n=t||self;return n.__AMP_MODE?n.__AMP_MODE:n.__AMP_MODE=function(t){return{localDev:!1,development:K(t,H(t)),esm:!1,test:!1,rtvVersion:X(t)}}(n)}function X(t){var n;return q||(q=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"01".concat("2203281422000")),q}function K(t,n){var r=n||H(t);return["1","actions","amp","amp4ads","amp4email"].includes(r.development)||!!t.AMP_DEV_MODE}function Q(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var Y=self.__AMP_LOG;function tt(t,n){throw new Error("failed to call initLogConstructor")}function nt(t){return Y.user||(Y.user=rt()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(Y.user.win,t)?Y.userForEmbed||(Y.userForEmbed=rt()):Y.user}function rt(t){return tt()}function et(){return Y.dev||(Y.dev=tt())}function it(t,n,r,e,i,o,a,u,f,c,l){return t}function ot(t,n,r,e,i,o,a,u,f,c,l){return nt().assert(t,n,r,e,i,o,a,u,f,c,l)}function at(t,n){return ct(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function ut(t,n){return ct((r=ft(t),(e=ft(r)).isSingleDoc()?e.win:e),n);var r,e}function ft(t){return t.nodeType?(n=b(t),at(n,"ampdoc")).getAmpDoc(t):t;var n}function ct(t,n){it(function(t,n){var r=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!r||!r.ctor)}(t,n));var r=function(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}(t)[n];return r.obj||(it(r.ctor),it(r.context),r.obj=new r.ctor(r.context),it(r.obj),r.context=null,r.resolve&&r.resolve(r.obj)),r.obj}var lt=function(){function t(){}return t.generate=function(t){return function(t){for(var n=t.length,r=5381,e=0;e<n;e++)r=33*r^t.charCodeAt(e);return String(r>>>0)}(function(t){for(var n=[],r=0;1==(null==(o=t)?void 0:o.nodeType)&&r<25;){var e="";t.id&&(e="/".concat(t.id));var i=t.nodeName.toLowerCase();n.push("".concat(i).concat(e).concat(st(t))),r++,t=t.parentElement}var o;return n.join()}(t))},t}();function st(t){for(var n=t.nodeName,r=0,e=0,i=t.previousElementSibling;i&&e<25&&r<100;)i.nodeName==n&&e++,r++,i=i.previousElementSibling;return e<25&&r<100?".".concat(e):""}function vt(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function ht(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?vt(Object(r),!0).forEach((function(n){Q(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var pt="__AMP__EXPERIMENT_TOGGLES";function mt(t){var n,e,i,o,a;if(t[pt])return t[pt];t[pt]=h();var u=t[pt];p(u);var f=ht(ht({},null!==(n=t.AMP_CONFIG)&&void 0!==n?n:{}),null!==(e=t.AMP_EXP)&&void 0!==e?e:m((null===(i=t.__AMP_EXP)||void 0===i?void 0:i.textContent)||"{}"));for(var c in f){var l=f[c];"number"==typeof l&&l>=0&&l<=1&&(u[c]=Math.random()<l)}var v=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-doc-opt-in"];if(s(v)&&v.length){var d=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(d)for(var b,g,y=r((null===(b=d.getAttribute("content"))||void 0===b?void 0:b.split(","))||[],!0);!(g=y()).done;){var w=g.value;v.includes(w)&&(u[w]=!0)}}Object.assign(u,function(t){var n,e="";try{var i;"localStorage"in t&&(e=null!==(i=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==i?i:"")}catch(t){et().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var o,a=(null===(n=e)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],u=h(),f=r(a,!0);!(o=f()).done;){var c=o.value;c&&("-"==c[0]?u[c.substr(1)]=!1:u[c]=!0)}return u}(t));var j=null===(a=t.AMP_CONFIG)||void 0===a?void 0:a["allow-url-opt-in"];if(s(j)&&j.length)for(var O,S=Z(t.location.originalHash||t.location.hash),x=r(j,!0);!(O=x()).done;){var R=O.value,E=S["e-".concat(R)];"1"==E&&(u[R]=!0),"0"==E&&(u[R]=!1)}return u}var dt,bt,gt=function(){function t(t){this.St=t,this.It=0,this.Ct=0,this.Ot=h()}var n=t.prototype;return n.has=function(t){return!!this.Ot[t]},n.get=function(t){var n=this.Ot[t];if(n)return n.access=++this.Ct,n.payload},n.put=function(t,n){this.has(t)||this.It++,this.Ot[t]={payload:n,access:this.Ct},this.Rt()},n.Rt=function(){if(!(this.It<=this.St)){var t,n=this.Ot,r=this.Ct+1;for(var e in n){var i=n[e].access;i<r&&(r=i,t=e)}void 0!==t&&(delete n[t],this.It--)}},t}(),yt=(new Set(["c","v","a","ad"]),function(t){return"string"==typeof t?wt(t):t});function wt(t,n){return dt||(dt=self.document.createElement("a"),bt=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new gt(100))),function(t,n,r){if(r&&r.has(n))return r.get(n);t.href=n,t.protocol||(t.href=t.href);var e,i={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==i.pathname[0]&&(i.pathname="/"+i.pathname),("http:"==i.protocol&&80==i.port||"https:"==i.protocol&&443==i.port)&&(i.port="",i.host=i.hostname),e=t.origin&&"null"!=t.origin?t.origin:"data:"!=i.protocol&&i.host?i.protocol+"//"+i.host:i.href,i.origin=e;var o=i;return r&&r.put(n,o),o}(dt,t,n?null:bt)}function jt(t){return"https:"==(t=yt(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(r=".localhost",(e=(n=t.hostname).length-r.length)>=0&&n.indexOf(r,e)==e);var n,r,e}function Ot(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return ot(null!=t,"%s %s must be available",n,r),ot(jt(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,r,t),t}var St={};function xt(t,n,r,e){var i=r||n.getAttribute("type");ot(i,"Attribute type required for <amp-ad>: %s",n);var o=function(t){for(var n=0,r=t;r&&r!=r.parent;r=r.parent)n++;return String(n)+"-"+Pt(t)}(t),a={};return function(t,n){var r=t.dataset;for(var e in r)e.startsWith("vars")||(n[e]=r[e]);var i=t.getAttribute("json");if(i){var o=d(i);if(void 0===o)throw nt().createError("Error parsing JSON in json attribute in element %s",t);for(var a in o)n[a]=o[a]}}(n,a),a=function(t,n,r,e){var i=Date.now(),o=n.getAttribute("width"),a=n.getAttribute("height");(e=e||{}).width=y(o),e.height=y(a),n.getAttribute("title")&&(e.title=n.getAttribute("title"));var u=t.location.href;"about:srcdoc"==u&&(u=t.parent.location.href);var f,c,l,s,v=ft(n),h=ut(n,"documentInfo").get(),p=(s=n,ut(s,"viewer")).getUnconfirmedReferrerUrl(),m=function(t){for(var n=t.ownerDocument.body,r=0,e=0,i=t;i&&i!=n;i=i.offsetParent)r+=i.offsetLeft,e+=i.offsetTop;var o=t.offsetHeight;return function(t,n,r,e){return{left:t,top:n,width:r,height:e,bottom:n+e,right:t+r,x:t,y:n}}(r,e,t.offsetWidth,o)}(n);e._context={"ampcontextVersion":"2203281422000","ampcontextFilepath":"".concat($.thirdParty,"/").concat("2203281422000","/ampcontext-v0.js"),"sourceUrl":h.sourceUrl,"referrer":p,"canonicalUrl":h.canonicalUrl,"pageViewId":h.pageViewId,"location":{"href":u},"startTime":i,"tagName":n.tagName,"mode":{localDev:!1,development:B(l).development,esm:B(l).esm,test:!1,rtvVersion:B(l).rtvVersion},"canary":(f=t,!(null===(c=f.AMP_CONFIG)||void 0===c||!c.canary)),"hidden":!v.isVisible(),"initialLayoutRect":m?{"left":m.left,"top":m.top,"width":m.width,"height":m.height}:null,"domFingerprint":lt.generate(n),"experimentToggles":mt(t),"sentinel":r};var d=n.getAttribute("src");return d&&(e.src=d),e}(t,n,o,a),a.type=i,Object.assign(a._context,e),a}function Rt(t){return"".concat($.thirdParty,"/").concat("2203281422000","/vendor/").concat(t).concat(".js")}function Et(t,n,r){return function(t,n,r){var e=n.getMetaByName("amp-3p-iframe-src");if(!e)return null;var i=Ot(e,'meta[name="amp-3p-iframe-src"]');ot(-1==i.indexOf("?"),"3p iframe url must not include query string %s in element %s.",i,e);var o=wt(i);return ot("localhost"==o.hostname&&!r||o.origin!=wt(t.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/main/docs/spec/amp-iframe-origin-policy.md for details.",i,o.origin,e),"".concat(i,"?").concat("2203281422000")}(t,n,r)||function(t,n){return t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN=t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN||"d-"+Pt(t),"https://"+t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN+".".concat($.thirdPartyFrameHost,"/").concat("2203281422000","/")+"".concat("frame",".html")}(t)}function Pt(t){var n;if(t.crypto&&t.crypto.getRandomValues){var r=new Uint32Array(2);t.crypto.getRandomValues(r),n=String(r[0])+r[1]}else n=String(t.Math.random()).substr(2)+"0";return n}function At(t){if(t.sandbox&&t.sandbox.supports){for(var n=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"],r=0;r<n.length;r++){var e=n[r];if(!t.sandbox.supports(e))return void et().info("3p-frame","Iframe doesn't support %s",e)}t.sandbox=n.join(" ")+" "+["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"].join(" ")}}function Mt(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}function kt(t){return t.data}var Ft="unlisten";function Tt(t,n,r){var e=function(t,n){var r=t.listeningFors;return!r&&n&&(r=t.listeningFors=Object.create(null)),r||null}(t,r);if(!e)return e;var i=e[n];return!i&&r&&(i=e[n]=[]),i||null}function It(t,n){for(var r=n;r&&r!=r.parent;r=r.parent)if(r==t)return!0;return!1}function Lt(t){for(var n={"sentinel":Ft},r=t.length-1;r>=0;r--){var e=t[r];if(!e.frame.contentWindow){t.splice(r,1);var i=e.events;for(var o in i)i[o].splice(0,1/0).forEach((function(t){t(n)}))}}}function zt(t,n){return n?t.getAttribute("data-amp-3p-sentinel"):"amp"}var Nt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(l,t);var n,r,f=(n=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(r){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var n;return(n=f.call(this,t)).tb=null,n.nb=new i,n.rb=new i,n.Qn={},n.eb=null,n.ib=n.ib.bind(o(n)),n.ob=null,n}var s=l.prototype;return s.preconnectCallback=function(t){var n=at(this.win,"preconnect");!function(t,n,r,e){var i=Et(t,r);e.preload(r,i,"document"),e.preload(r,Rt("3d-gltf"),"script")}(this.win,0,this.getAmpDoc(),n),n.url(this.getAmpDoc(),"https://cdnjs.cloudflare.com/ajax/libs/three.js/91/three.js",t),n.url(this.getAmpDoc(),"https://cdn.jsdelivr.net/npm/three@0.91/examples/js/loaders/GLTFLoader.js",t),n.url(this.getAmpDoc(),"https://cdn.jsdelivr.net/npm/three@0.91/examples/js/controls/OrbitControls.js",t)},s.unlayoutCallback=function(){var t,n,r;return null===(t=this.ob)||void 0===t||t.call(this),this.ob=null,this.ab(!1),this.tb&&(null===(r=(n=this.tb).parentElement)||void 0===r||r.removeChild(n),this.tb=null),this.eb&&this.eb(),this.nb=new i,this.rb=new i,function(t,n){!function(t,n,r){var e=k.get(t);if(e&&(function(t,n){for(var e=[],i=0,o=0;o<t.length;o++){var a=t[o];(u=a).callback===r&&0===u.type?e.push(a):(i<o&&(t[i]=a),i++)}var u;i<t.length&&(t.length=i)}(e),0==e.length)){k.delete(t),F.delete(t);var i=t.ownerDocument.defaultView;i&&T(i).unobserve(t)}}(t,0,n)}(this.element,this.ib),!0},s.buildCallback=function(){var t,n,r=this,e=function(t,n,e){return r.element.hasAttribute(t)?n(r.element.getAttribute(t)):e},i=function(t){return"false"!==t},o=function(t){return t},a=Ot(e("src",o,""),this.element),u=e("alpha",i,!1);this.Qn={"src":(t=a,n=this.getAmpDoc().getUrl(),n=yt(n),"function"==typeof URL?new URL(t,n.href).toString():function(t,n){n=yt(n);var r=wt(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(r.protocol)?r.href:t.startsWith("//")?n.protocol+t:t.startsWith("/")?n.origin+t:n.origin+n.pathname.replace(/\/[^/]*$/,"/")+t}(t,n)),"renderer":{"alpha":u,"antialias":e("antialiasing",i,!0)},"rendererSettings":{"clearAlpha":u?0:1,"clearColor":e("clearColor",o,"#fff"),"maxPixelRatio":e("maxPixelRatio",(function(t){return parseFloat(t)}),devicePixelRatio||1)},"controls":{"enableZoom":e("enableZoom",i,!0),"autoRotate":e("autoRotate",i,!1)}},this.registerAction("setModelRotation",(function(t){r.ub("setModelRotation",t.args).catch((function(t){return et().error("AMP-3D-GLTF","setModelRotation failed: %s",t)}))}),1)},s.layoutCallback=function(){var t,n,r=this;if(this.ob=function(t,n,r){var e=b(t),i=N.get(e);i||N.set(e,i=z(C,e));var o=G.get(t);return o||(o=[],G.set(t,o)),o.push(n),i.observe(t),function(){!function(t,n){var r,e,i,o=G.get(t);if(o&&(e=n,-1!=(i=(r=o).indexOf(e))&&(r.splice(i,1),1)&&!o.length)){var a=b(t),u=N.get(a);null==u||u.unobserve(t),G.delete(t)}}(t,n)}}(this.element,(function(t){var n=t.isIntersecting;return r.ab(n)})),!((n=(t=document.createElement("canvas")).getContext("webgl")||t.getContext("experimental-webgl"))&&n instanceof WebGLRenderingContext))return this.toggleFallback(!0),e||(e=Promise.resolve(void 0));var i,o=function(t,n,r,e){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.allowFullscreen,a=void 0!==o&&o,u=i.initialIntersection;it(void 0===n.isConnected||!0===n.isConnected);var f=xt(t,n,r,e);u&&(f._context.initialIntersection=u);var c=t.document.createElement("iframe");St[f.type]||(St[f.type]=0),St[f.type]+=1;var l=n.getAmpDoc(),s=Et(t,l),v=wt(s).hostname,h=JSON.stringify({"host":v,"bootstrap":Rt(f.type),"type":f.type,"count":St[f.type],"attributes":f});return c.src=s,c.ampLocation=wt(s),c.name=h,f.width&&(c.width=f.width),f.height&&(c.height=f.height),f.title&&(c.title=f.title),a&&c.setAttribute("allowfullscreen","true"),c.setAttribute("scrolling","no"),P(c,"border","none"),c.onload=function(){this.readyState="complete"},c.setAttribute("allow","sync-xhr 'none';"),["facebook"].includes(r)||At(c),c.setAttribute("data-amp-3p-sentinel",f._context.sentinel),c}(this.win,this.element,"3d-gltf",this.Qn);return o.title=this.element.title||"GLTF 3D model",(i=o).classList.add("i-amphtml-fill-content"),i.classList.add("i-amphtml-replaced-content"),this.tb=o,this.eb=it(this.fb()),this.element.appendChild(this.tb),function(t,n){!function(t,n,r){var e=t.ownerDocument.defaultView;if(e){var i=k.get(t);if(i||(i=[],k.set(t,i),T(e).observe(t)),!i.some((function(t){return t.callback===r&&0===t.type}))){i.push({type:0,callback:r});var o=F.get(t);o&&setTimeout((function(){return L(0,r,o)}))}}}(t,0,n)}(this.element,this.ib),this.rb.promise},s.fb=function(){var t=this;if(this.tb){var n=function(n,r){return function(t,n,r,e,i,o){it(t.src),it(!t.parentNode),it(r);var a=t.ownerDocument.defaultView;!function(t){t.listeningFors||t.addEventListener("message",(function(n){if(kt(n)){var r=function(t){return"string"==typeof t&&(t="{"==t.charAt(0)?d(t,(function(t){et().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",t)}))||null:Mt(t)?function(t){if(!Mt(t))return null;var n=t.indexOf("{");return p(-1!=n),d(t.substr(n),(function(n){S(new Error("MESSAGING: Failed to parse message: ".concat(t,"\n").concat(n.message)))}))}(t):null),t}(kt(n));if(r&&r.sentinel){var e=function(t,n,r,e){var i,o=Tt(t,n);if(!o)return o;for(var a=0;a<o.length;a++){var u=o[a],f=u.frame.contentWindow;if(f){if(e==f||It(f,e)){i=u;break}}else setTimeout(Lt,0,o)}return i?i.events:null}(t,r.sentinel,n.origin,n.source);if(e){var i=e[r.type];if(i){i=i.slice();for(var o=0;o<i.length;o++)(0,i[o])(r,n.source,n.origin,n)}}}}}))}(a);var u,f=function(t,n,r){for(var e,i=Tt(t,zt(n,r),!0),o=0;o<i.length;o++){var a=i[o];if(a.frame===n){e=a;break}}return e||(e={frame:n,events:Object.create(null)},i.push(e)),e.events}(a,t,e),c=wt(t.src).origin,l=f[n]||(f[n]=[]),s=function(n,e,a,f){if("amp"==n.sentinel){if(e!=t.contentWindow)return;if(c!=a&&("null"!=a||!o))return}(i||e==t.contentWindow)&&(n.sentinel!=Ft?r(n,e,a,f):u())};return l.push(s),u=function(){if(s){var t=l.indexOf(s);t>-1&&l.splice(t,1),s=null,l=null,r=null}}}(t.tb,n,r,!0)},r=[n("ready",this.nb.resolve),n("loaded",this.rb.resolve),n("error",(function(){t.toggleFallback(!0)}))];return function(){return r.forEach((function(t){return t()}))}}},s.ub=function(t,n){var r=this;return this.nb.promise.then((function(){var e={"action":t,"args":n};r.cb("action",e)}))},s.cb=function(t,n){!function(t,n,r,e,i){!function(t,n,r,e,i){if(t.contentWindow){e.type=r,e.sentinel=zt(t,true);var o=e;o="amp-"+JSON.stringify(e);for(var a=0;a<n.length;a++){var u=n[a];u.win.postMessage(o,u.origin)}}}(t,[{win:t.contentWindow,origin:"*"}],n,r)}(this.tb,t,n)},s.ab=function(t){this.ub("toggleAmpViewport",t)},s.pauseCallback=function(){this.ub("toggleAmpPlay",!1)},s.resumeCallback=function(){this.ub("toggleAmpPlay",!0)},s.ib=function(t){var n=t.height,r=t.width;this.ub("setSize",{"width":r,"height":n})},s.isLayoutSupported=function(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)},l}(t.BaseElement);t.registerElement("amp-3d-gltf",Nt)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-3d-gltf-0.1.js.map