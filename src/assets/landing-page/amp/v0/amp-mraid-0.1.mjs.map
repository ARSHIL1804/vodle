{"version":3,"file":"amp-mraid-0.1.mjs","mappings":"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","names":["hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","urls","getMetaUrl","QUERY_STRING_REGEX","component","fallback","decodeURIComponent","e","opt_win","queryString","params","create","match","exec","tryDecodeUriComponent","value","replace","parseQueryString","hash","rtvVersion","win","v","opt_hashParams","devParam","getHashParams","includes","AMP_DEV_MODE","__AMP_LOG","user","dev","userForEmbed","logs","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","nodeOrDoc","id","constructor","opt_instantiate","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","context","ctor","opt_override","opt_sharedInstance","services","getServices","s","obj","promise","resolve","reject","sharedInstance","getServiceInternal","registerServiceInternal","error","emptyServiceHolderWithPromise","rejectServicePromiseInternal","elementOrAmpDoc","cached","Promise","getServicePromiseOrNullInternal","getServicePromiseInternal","nodeType","node","ownerDocument","defaultView","__AMP_TOP","getTopWindow","getService","getAmpDoc","isSingleDoc","devAssert","service","__AMP_SERVICES","isServiceRegistered","deferred","this","res","rej","catch","Services","nodeOrAmpdoc","ServiceNames","HostServices","static","getHeadNode","getServicePromiseForDoc","VISIBILITY","impl","registerServiceBuilderForDoc","rejectServicePromiseForDoc","FULLSCREEN","EXIT","TAG","AMP","registerServiceForDoc","ampdoc_","registeredWithHostServices_","mraid_","fallback_","ampMraidScripts","querySelectorAll","length","__AMP_MODE","localDev","development","isModeDevelopment","esm","getRtvVersion","getMode_","getMode","runtime","handleMismatch_","mraidJs","createElement","setAttribute","addEventListener","mraidLoadSuccess_","getElementsByTagName","item","appendChild","mraidReady_","mraidService","mraid","expanded_","onVisibilityChange","callback","exposedPercentage","visibleRectangle","unusedOcclusionRectangles","left","top","width","height","visibleRect","x","y","bottom","right","visibleRatio","enterFullscreenOverlay","unusedTargetElement","expand","exitFullscreenOverlay","close","openUrl","url","open","installVisibilityServiceForDoc","rejectVisibilityServiceForDoc","installFullscreenServiceForDoc","rejectFullscreenServiceForDoc","installExitServiceForDoc","rejectExitServiceForDoc","window","getState"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/types/object/index.js","src/config.js","src/core/types/string/url.js","src/mode.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/core/data-structures/promise.js","src/service/index.js","src/inabox/host-services.js","extensions/amp-mraid/0.1/amp-mraid.js","src/core/mode/local-dev.js","src/core/mode/esm.js","src/core/mode/test.js","extensions/amp-mraid/0.1/mraid-service.js","src/core/dom/layout/rect.js"]}
