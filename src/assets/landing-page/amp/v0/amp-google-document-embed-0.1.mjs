;
(self.AMP=self.AMP||[]).push({m:1,v:"2203281422000",n:"amp-google-document-embed",ev:"0.1",l:!0,f:function(t,e){(()=>{var{isArray:e}=Array;function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var{hasOwnProperty:r,toString:o}=Object.prototype;function i(t,r,o,i){for(var u,l,s=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||t&&"number"==typeof t.length){r&&(t=r);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e(u=t)?u:[u]);!(l=s()).done;){const t=l.value,e=r.getAttribute(t);null!==e?o.setAttribute(t,e):i&&o.removeAttribute(t)}}var u=self.AMP_CONFIG||{},l=("string"==typeof u.thirdPartyFrameRegex?new RegExp(u.thirdPartyFrameRegex):u.thirdPartyFrameRegex,("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function s(t){if(!self.document||!self.document.head)return null;if(self.location&&l.test(self.location.origin))return null;const e=self.document.head.querySelector(`meta[name="${t}"]`);return e&&e.getAttribute("content")||null}u.thirdPartyUrl,u.thirdPartyFrameHost,u.cdnUrl||s("runtime-host"),u.errorReportingUrl,u.betaErrorReportingUrl,u.localDev,u.geoApiUrl||s("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var a=self.__AMP_LOG;function c(t){return function(t,e){throw new Error("failed to call initLogConstructor")}()}function f(t,e,n,r,o,i,u,l,s,a,c){return t}function d(t,e){return function(t,e){f(function(t,e){const n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}(t,e));const n=function(t){let e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}(t)[e];return n.obj||(f(n.ctor),f(n.context),n.obj=new n.ctor(n.context),f(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),e)}new Set(["c","v","a","ad"]);var m=["title"],p=/^https?:\/\/docs\.google\.com.+\/pub.*\??/,h=class extends t.BaseElement{constructor(t){super(t),this.Mv=null}preconnectCallback(t){var e;(e=this.win,d(e,"preconnect")).url(this.getAmpDoc(),"https://docs.google.com",t)}renderOutsideViewport(){return.75}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}buildCallback(){var t,e,n,r,o,i,u,l,s,f,d;t=this.element.getAttribute("src"),e="The src attribute is required for <amp-google-document-embed> %s",n=this.element,(a.user||(a.user=c()),void a.user.win?a.userForEmbed||(a.userForEmbed=c()):a.user).assert(t,e,n,r,o,i,u,l,s,f,d)}layoutCallback(){const t=this.element.ownerDocument.createElement("iframe");return this.Mv=t,t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen",""),i(m,this.element,t),t.src=this.ub(this.element.getAttribute("src")),t.classList.add("i-amphtml-fill-content"),this.element.appendChild(t),this.loadPromise(t)}mutatedAttributesCallback(t){const e=m.filter((e=>void 0!==t[e])),n=this.Mv;i(e,this.element,n,!0);const r=t.src;r&&(n.src=this.ub(r))}ub(t){return t.match(p)?t:function(t,e,n){if(!e)return t;const r=t.split("#",2),o=r[0].split("?",2);let i=o[0]+(o[1]?`?${o[1]}&${e}`:`?${e}`);return i+=r[1]?`#${r[1]}`:"",i}("https://docs.google.com/gview?embedded=true",(e=t,`${encodeURIComponent("url")}=${encodeURIComponent(e)}`));var e}unlayoutOnPause(){return!0}unlayoutCallback(){var t,e;return this.Mv&&(null===(e=(t=this.Mv).parentElement)||void 0===e||e.removeChild(t),this.Mv=null),!0}};t.registerElement("amp-google-document-embed",h)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-google-document-embed-0.1.mjs.map