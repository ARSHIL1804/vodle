;
var{isArray:t}=Array;function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function e(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var{hasOwnProperty:r,toString:o}=Object.prototype;function i(t,n,e){const r=t.hasAttribute(n),o=void 0!==e?e:!r;return o!==r&&(o?t.setAttribute(n,""):t.removeAttribute(n)),o}function a(t){const n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;const{message:e,stack:r}=t,o=new Error(e);for(const n in t)o[n]=t[n];return o.stack=r,o}function l(t){let n=null,r="";for(var o,i=e(arguments,!0);!(o=i()).done;){const t=o.value;t instanceof Error&&!n?n=a(t):(r&&(r+=" "),r+=t)}return n?r&&(n.message=r+": "+n.message):n=new Error(r),n}function s(t){var n,e;null===(n=(e=self).__AMP_REPORT_ERROR)||void 0===n||n.call(e,t)}function f(t,...n){try{return t.apply(null,n)}catch(t){!function(t){const n=l.apply(null,arguments);setTimeout((()=>{throw s(n),n}))}(t)}}var c,u=t=>t.pause();function d(t,n,e,r){if(n&&t.classList.contains("i-amphtml-element")){const n=t;if(f(r,n),!e){const t=n.getPlaceholder();return void(t&&d(t,!0,!1,r))}}const o=t.getElementsByClassName("i-amphtml-element");let i=null;for(let t=0;t<o.length;t++){const n=o[t];if(e)f(r,n);else{i=i||[];let t=!1;for(let e=0;e<i.length;e++)if(i[e].contains(n)){t=!0;break}t||(i.push(n),f(r,n))}}}var m=["Webkit","webkit","Moz","moz","ms","O","o"];function b(t,n,e,r,o){const i=function(t,n,e){if(n.startsWith("--"))return n;c||(c=Object.create(null));let r=c[n];if(!r||e){if(r=n,void 0===t[n]){const e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),o=function(t,n){for(let e=0;e<m.length;e++){const r=m[e]+n;if(void 0!==t[r])return r}return""}(t,e);void 0!==t[o]&&(r=o)}e||(c[n]=r)}return r}(t.style,n,o);if(!i)return;const a=r?e+r:e;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return m.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(i),a)}function p(t,n){void 0===n&&(n=t.hasAttribute("hidden")),n?t.removeAttribute("hidden"):t.setAttribute("hidden","")}import{createElement as v}from"../bento.mjs";import{PreactBaseElement as h}from"../bento.mjs";import{useValueRef as y}from"../bento.mjs";function g(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function j(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}import{createElement as O}from"../bento.mjs";import{useCallback as k,useEffect as w,useImperativeHandle as A,useLayoutEffect as x,useRef as S,useState as C}from"../bento.mjs";import{forwardRef as E}from"../bento.mjs";import{ContainWrapper as z,useValueRef as X}from"../bento.mjs";import{useLayoutEffect as N,useRef as T}from"../bento.mjs";import{useValueRef as $}from"../bento.mjs";var B=[{"opacity":"0"},{"opacity":"1"}],R=[{"transform":"translateX(-100%)"},{"transform":"translateX(0)"}],I=[{"transform":"translateX(100%)"},{"transform":"translateX(0)"}],M={"transform":"translateX(-100%)"},V={"transform":"translateX(100%)"},L={"opacity":"0"},P={"transform":""},Y={"opacity":""};function F(t,n){!function(t,n){for(const e in n)b(t,e,n[e])}(t,function(t){return"display"in t&&function(t,...n){const e=l.apply(null,n);e.name=t||e.name,s(e)}("STYLE","`display` style detected. You must use toggle instead."),t}(n))}var U=["as","backdropClassName","backdropStyle","children","onAfterClose","onAfterOpen","onBeforeOpen","side"],W=E((function(t,n){let{as:e="div",backdropClassName:r,backdropStyle:o,children:i,onAfterClose:a,onAfterOpen:l,onBeforeOpen:s,side:f}=t,c=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,U);const[u,d]=C(!1),[m,b]=C(!1),[p,v]=C(f),h=S(),y=S(),E=X(s),W=k((()=>{var t;null===(t=E.current)||void 0===t||t.call(E),d(!0),b(!0)}),[E]),Z=k((()=>b(!1)),[]),q=k((()=>m?Z():W()),[m,W,Z]);return A(n,(()=>({open:W,close:Z,toggle:q})),[W,Z,q]),x((()=>{if(p)return;const t=h.current;var n;t&&v("rtl"==((n=t.ownerDocument).body.getAttribute("dir")||n.documentElement.getAttribute("dir")||"ltr")?"right":"left")}),[p,u]),function(t,n,e,r,o,i,a,l){const s=$(e),f=$(r),c=T(null),u=T(null),d=T(!1);N((()=>{const e=i.current,r=a.current;if(!(t&&e&&r&&o))return;const m=()=>{var t;F(e,P),F(r,Y),c.current=null,u.current=null,d.current=!1,null===(t=s.current)||void 0===t||t.call(s)},b=()=>{var t;null===(t=f.current)||void 0===t||t.call(f),c.current=null,u.current=null,d.current=!1,l(!1)};if(d.current){const t=c.current;t&&(t.reverse(),t.onfinish=n?m:b);const e=u.current;e&&e.reverse()}else if(n){if(!e.animate||!r.animate)return void m();F(e,"left"===o?M:V),F(r,L);const t=e.animate("left"===o?R:I,{duration:350,fill:"both",easing:"cubic-bezier(0,0,.21,1)"});t.onfinish=m;const n=r.animate(B,{duration:350,fill:"both",easing:"cubic-bezier(0,0,.21,1)"});c.current=t,u.current=n,d.current=!0}else{if(!e.animate||!r.animate)return void b();const t=e.animate("left"===o?R:I,{duration:350,direction:"reverse",fill:"both",easing:"cubic-bezier(0,0,.21,1)"});t.onfinish=b;const n=r.animate(B,{duration:350,direction:"reverse",fill:"both",easing:"cubic-bezier(0,0,.21,1)"});c.current=t,u.current=n,d.current=!0}}),[t,n,s,f,o,i,a,l])}(u,m,l,a,p,h,y,d),w((()=>{const t=h.current,n=y.current;if(!t||!n)return;const e=t.ownerDocument;if(!e)return;const r=t=>{"Escape"===t.key&&(t.stopImmediatePropagation(),t.preventDefault(),Z())};return e.addEventListener("keydown",r),()=>{e.removeEventListener("keydown",r)}}),[m,Z]),O("div",{class:(u?"mounted-4250f84":"")+(u?"":" unmounted-4250f84"),part:"wrapper"},O(z,function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?j(Object(e),!0).forEach((function(n){g(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({as:e,ref:h,size:!1,layout:!0,paint:!0,part:"sidebar",wrapperClassName:"sidebar-4250f84 default-sidebar-styles-4250f84"+("left"===p?" left-4250f84":"")+("left"!==p?" right-4250f84":""),role:"menu",tabindex:"-1",hidden:!p},c),i),O("div",{ref:y,onClick:()=>Z(),part:"backdrop",style:o,class:"backdrop-4250f84 default-backdrop-styles-4250f84"+(r?" "+r:""),hidden:!p},O("div",{class:"backdrop-overscroll-blocker-4250f84"})))}));W.displayName="BentoSidebar";import{useEffect as Z,useState as q}from"../bento.mjs";var D=class extends h{static deferredMount(t){return!1}constructor(t){super(t),this.s$=!1}init(){return{"onBeforeOpen":()=>this.beforeOpen(),"onAfterOpen":()=>this.afterOpen(),"onAfterClose":()=>this.afterClose()}}updatePropsForRendering(t){var n;(n=this.element,function(t,n){const e=[];for(let n=t.firstChild;n;n=n.nextSibling)!(function(t){let n;var e;return"string"==typeof t?n=t:1==(null==(e=t)?void 0:e.nodeType)&&(n=t.tagName),!!n&&n.toLowerCase().startsWith("i-")}(r=n)||r.nodeType===Node.ELEMENT_NODE&&(r.hasAttribute("placeholder")||r.hasAttribute("fallback")||r.hasAttribute("overflow")))&&e.push(n);var r;return e}(n)).map((n=>{"NAV"===n.nodeName&&n.hasAttribute("toolbar")&&n.hasAttribute("toolbar-target")&&t.children.push(v(G,{toolbar:n.getAttribute("toolbar"),toolbarTarget:n.getAttribute("toolbar-target"),domElement:n}))}))}beforeOpen(){this.s$=!0,i(this.element,"open",!0),p(this.element,!0)}afterOpen(){}afterClose(){this.s$=!1,i(this.element,"open",!1),p(this.element,!1),function(n,e=!0){!function(n,e,r,o){const i=t(a=n)?a:[a];var a;for(let t=0;t<i.length;t++)d(i[t],e,!0,o)}(n,e,0,u)}(this.element,!1)}mutationObserverCallback(){const t=this.element.hasAttribute("open");t!==this.s$&&(this.s$=t,t?this.api().open():this.api().close())}};function G({domElement:t,toolbar:n,toolbarTarget:e}){!function(t,n,e){const[r,o]=q(null),[i,a]=q(null),[l,s]=q(null);Z((()=>{var n;const r=null===(n=t.current)||void 0===n?void 0:n.ownerDocument;if(!r)return;const o=(i=e,CSS.escape(i));var i;a(o),s(r.getElementById(o))}),[e,t]),Z((()=>{var e,r;const i=null===(e=t.current)||void 0===e||null===(r=e.ownerDocument)||void 0===r?void 0:r.defaultView;i&&o(function(t,n){return t.matchMedia(n).media}(i,n))}),[n,t]),Z((()=>{var n;const e=t.current,o=null===(n=t.current)||void 0===n?void 0:n.ownerDocument;if(!o||!l||null==r)return;const a=e.cloneNode(!0),s=o.createElement("style");return s.textContent=`#${i}{display: none;}@media ${r}{#${i}{display: initial;}}`,l.appendChild(a),l.appendChild(s),()=>{l.removeChild(a),l.removeChild(s)}}),[r,i,l,t])}(y(t),n,e)}D.Component=W,D.usesShadowDom=!0,D.shadowCss=".sidebar-4250f84{position:fixed!important;box-sizing:border-box!important;overflow-x:hidden!important;overflow-y:auto!important;-ms-scroll-chaining:none!important;overscroll-behavior:none!important}.default-sidebar-styles-4250f84{top:0;color:#000;height:100vh;outline:none;z-index:2147483647;max-width:80vw;min-width:45px;max-height:100vh;background-color:#efefef}.left-4250f84{left:0}.right-4250f84{right:0}.backdrop-4250f84{top:0!important;left:0!important;width:120vw!important;height:100vh!important;overflow:hidden scroll!important;position:fixed!important;background-image:none!important;-ms-scroll-chaining:none!important;overscroll-behavior:none!important}.default-backdrop-styles-4250f84{z-index:2147483646;background-color:rgba(0,0,0,0.5)}.backdrop-overscroll-blocker-4250f84{width:0!important;height:101vh!important}.mounted-4250f84{display:contents}.unmounted-4250f84{display:none}",D.props={"children":{passthrough:!0},"side":{attr:"side"}};import{defineBentoElement as H}from"../bento.mjs";H("bento-sidebar",D,void 0);
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=bento-sidebar-1.0.mjs.map