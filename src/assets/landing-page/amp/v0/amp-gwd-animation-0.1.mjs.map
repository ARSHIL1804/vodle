{"version":3,"file":"amp-gwd-animation-0.1.mjs","mappings":"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","names":["hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","obj","key","call","node","ownerDocument","defaultView","ident","CSS","escape","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","opt_element","getUserLogger","win","isFromEmbed","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","assert","elementOrAmpDoc","id","holder","nodeOrDoc","ampdoc","getAmpdoc","isSingleDoc","getAmpdocServiceHolder","isServiceRegistered","getServiceInternal","__AMP_TOP","nodeType","getWin","getTopWindow","getService","getAmpDoc","devAssert","s","services","__AMP_SERVICES","getServices","ctor","context","resolve","service","Services","element","getServiceForDocOrNull","GWD_PAGE_WRAPPER_CLASS","PlaybackCssClass","CURRENT_LABEL_ANIMATION_ATTR","GWD_TIMELINE_EVENT","VENDOR_ANIMATIONEND_EVENTS","GOTO_COUNTER_PROP","LOG_ID","Set","TAG","ACTION_IMPL_ARGS","play","pause","togglePlay","gotoAndPlay","gotoAndPause","gotoAndPlayNTimes","setCurrentPage","GwdAnimation","AMP","BaseElement","constructor","super","this","timelineEventPrefix_","fie_","boundOnGwdTimelineEvent_","onGwdTimelineEvent_","bind","buildCallback","frameElement","opt_topWin","childWin","topWin","e","getParentWindowFrameElement","FIE_EMBED_PROP","getRoot_","addEventListener","gwdPageDeck","getGwdPageDeck_","userAssert","setCurrentPageAction","target","event","actionStr","newActionsStr","currentActionsStr","eventPrefix","eventActionsIndex","indexOf","actionsStartIndex","length","substr","setActions","addAction","handler","actionHandler_","registerAction","getRootNode","getElementById","invocation","shouldExecuteInvocation_","executeInvocation_","method","source","actionArgs","map","argPath","expr","parts","split","value","i","part","undefined","getValueForExpr","apply","actionService","eventName","detail","getDetail","timelineEventName","trigger","detachedCallback","removeEventListener","registerServiceForDoc","ampdoc_","win_","doc_","boundOnAnimationEndEvent_","onAnimationEndEvent_","whenReady","then","body","parent","checkFunc","callback","observer","MutationObserver","disconnect","observe","childList","waitForChild","escapeCssSelectorIdent","initialize_","listenForAnimationEnd_","setEnabled","enable","classList","toggle","index","gwdPages","querySelectorAll","currentPageEl","selector","distribute","replace","prependSelectorsWith","deactivatePage_","newPageEl","activatePage_","error","pageEl","add","arrayLike","remove","concat","Array","slice","forEach","el","resetAnimatedElement_","hasAttribute","activeGotoAnimation","removeAttribute","receiver","getReceiver","label","playLabelAnimation_","setTimeout","maxCount","counterName","currentCount","hasOwn","getCounter","counterValue","setCounter","currentLabel","globalRef","offsetWidth","reflow","setAttribute","userEventName","sourceEvent","timelineEvent","type","opt_eventInit","eventInit","assign","createCustomEvent","CustomEvent","dispatchEvent","unlistenForAnimationEnd_","dispose","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/types/object/index.js","src/core/window/index.js","src/core/dom/css-selectors.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/service/index.js","extensions/amp-gwd-animation/0.1/amp-gwd-animation-impl.js","src/url.js","extensions/amp-gwd-animation/0.1/amp-gwd-animation.js","src/iframe-helper.js","src/utils/event-helper.js","src/core/constants/action-constants.js","src/core/dom/index.js","src/core/dom/query.js","src/core/types/array.js","build/amp-gwd-animation-0.1.css.js"]}
