{"version":3,"file":"amp-experiment-0.1.mjs","mappings":"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","names":["hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","obj","key","call","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","resolved","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","getUserLogger","win","assert","constructor","this","promise","Promise","res","rej","resolve","reject","id","getServiceInternal","__AMP_TOP","getTopWindow","elementOrAmpDoc","holder","cached","getServicePromiseOrNullInternal","services","getServices","deferred","Deferred","catch","context","ctor","emptyServiceHolderWithPromise","getServicePromiseInternal","getAmpdocServiceHolder","nodeOrDoc","nodeType","node","ownerDocument","defaultView","getService","getAmpDoc","ampdoc","getAmpdoc","isSingleDoc","devAssert","service","__AMP_SERVICES","isServiceRegistered","s","element","extension","opt_element","getServicePromiseOrNullForDoc","whenExtensionsKnown","then","version","getExtensionVersion","waitForExtension","ext","getServicePromiseForDoc","getElementServiceIfAvailableForDoc","userAssert","assertService","nameValidator","AmpExperiment","AMP","BaseElement","static","isLayoutSupported","layout","isBuildRenderBlocking","buildCallback","variantsService","config","getConfig_","results","create","variants","keys","map","experimentName","assertName","value","length","totalPercentage","variantName","hasOwn","percentage","toFixed","validateConfig","override","getParam","sticky","cidScope","hasConsentPromise","getElementServiceForDoc","Services","getHeadNode","manager","getNotification","userNotification","isDismissed","hasConsent","group","opt_cidScope","Math","random","cidPromise","cidService","get","scope","createCookieIfNotPresent","undefined","window","all","uniform","hash","getBucketTicket","ticket","upperBound","variantNames","sort","i","allocateVariant","experimentVariants","addToBody_","bind","init","e","children","tagName","toUpperCase","json","textContent","JSON","parse","experiments","waitForBodyOpen","body","setAttribute","registerServiceForDoc","variantsDeferred_","getVariants","whenReady","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/types/object/index.js","src/core/error/message-helpers.js","src/config.js","src/utils/log.js","src/core/data-structures/promise.js","src/service-helpers.js","src/core/window/index.js","src/element-service.js","src/service/index.js","extensions/amp-experiment/0.1/variant.js","extensions/amp-experiment/0.1/amp-experiment.js","src/core/dom/layout/index.js","src/core/types/object/json.js"]}
