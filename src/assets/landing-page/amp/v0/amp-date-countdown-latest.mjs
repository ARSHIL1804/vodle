;
(self.AMP=self.AMP||[]).push({m:1,v:"2203281422000",n:"amp-date-countdown",ev:"0.1",l:!0,f:function(t,s){(()=>{var s,{hasOwnProperty:e,toString:n}=Object.prototype;var i=self.AMP_CONFIG||{},h=("string"==typeof i.thirdPartyFrameRegex?new RegExp(i.thirdPartyFrameRegex):i.thirdPartyFrameRegex,("string"==typeof i.cdnProxyRegex?new RegExp(i.cdnProxyRegex):i.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function r(t){if(!self.document||!self.document.head)return null;if(self.location&&h.test(self.location.origin))return null;const s=self.document.head.querySelector(`meta[name="${t}"]`);return s&&s.getAttribute("content")||null}i.thirdPartyUrl,i.thirdPartyFrameHost,i.cdnUrl||r("runtime-host"),i.errorReportingUrl,i.betaErrorReportingUrl,i.localDev,i.geoApiUrl||r("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u=self.__AMP_LOG;function o(t){return u.user||(u.user=a()),function(t,s){return s&&s.ownerDocument.defaultView!=t}(u.user.win,t)?u.userForEmbed||(u.userForEmbed=a()):u.user}function a(t){return function(t,s){throw new Error("failed to call initLogConstructor")}()}function l(t,s,e,n,i,h,r,u,o,a,l){return t}function c(t){return t.nodeType?(s=t,e=(s.ownerDocument||s).defaultView,function(t,s){return m(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),s)}(e,"ampdoc")).getAmpDoc(t):t;var s,e}function d(t){const s=c(t);return s.isSingleDoc()?s.win:s}function m(t,s){l(f(t,s));const e=function(t){let s=t.__AMP_SERVICES;return s||(s=t.__AMP_SERVICES={}),s}(t)[s];return e.obj||(l(e.ctor),l(e.context),e.obj=new e.ctor(e.context),l(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function f(t,s){const e=t.__AMP_SERVICES&&t.__AMP_SERVICES[s];return!(!e||!e.ctor)}var p=t=>function(t,s){const e=d(c(t));return f(e,s)?m(e,s):null}(t,"action"),g=t=>function(t,s){return m(d(c(t)),s)}(t,"templates"),M="amp-date-countdown",_=864e5,w=36e5,A=6e4,P={"de":["Jahren","Monaten","Tagen","Stunden","Minuten","Sekunden"],"en":["Years","Months","Days","Hours","Minutes","Seconds"],"es":["años","meses","días","horas","minutos","segundos"],"fr":["ans","mois","jours","heures","minutes","secondes"],"id":["tahun","bulan","hari","jam","menit","detik"],"it":["anni","mesi","giorni","ore","minuti","secondi"],"ja":["年","ヶ月","日","時間","分","秒"],"ko":["년","달","일","시간","분","초"],"nl":["jaar","maanden","dagen","uur","minuten","seconden"],"pt":["anos","meses","dias","horas","minutos","segundos"],"ru":["год","месяц","день","час","минута","секунда"],"th":["ปี","เดือน","วัน","ชั่วโมง","นาที","วินาที"],"tr":["yıl","ay","gün","saat","dakika","saniye"],"vi":["năm","tháng","ngày","giờ","phút","giây"],"zh-cn":["年","月","天","小时","分钟","秒"],"zh-tw":["年","月","天","小時","分鐘","秒"]},y=class extends t.BaseElement{constructor(t){super(t),this.tg=null,this.sg=this.eg.bind(this),this.ng="",this.ig=0,this.hg=0,this.rg=0,this.ug=0,this.og="",this.ag="",this.lg="",this.cg=null,this.dg=null,this.mg=!1}buildCallback(){this.tg=g(this.element),this.ng=this.element.getAttribute("end-date"),this.ig=Number(this.element.getAttribute("timeleft-ms")),this.hg=Number(this.element.getAttribute("timestamp-ms")),this.rg=Number(this.element.getAttribute("timestamp-seconds")),this.ug=Number(this.element.getAttribute("offset-seconds"))||0,this.og=(this.element.getAttribute("locale")||"en").toLowerCase(),this.ag=(this.element.getAttribute("when-ended")||"stop").toLowerCase(),this.lg=(this.element.getAttribute("biggest-unit")||"DAYS").toUpperCase(),this.cg=this.fg(this.og),this.mg=this.element.hasAttribute("data-count-up"),this.getAmpDoc().whenFirstVisible().then((()=>{const t=this.pg()+1e3*this.ug;this.gg(new Date(t)-new Date)}))}renderOutsideViewport(){return!0}layoutCallback(){const t=1e3,e=this.pg()+this.ug*t;let n=new Date(e)-new Date-t;return this.dg=this.win.setInterval((()=>{this.gg(n),n-=t}),t),s||(s=Promise.resolve(void 0))}unlayoutCallback(){return this.win.clearInterval(this.dg),!0}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}gg(t){const s={},e=this.Mg(t,this.mg)||{};"stop"===this.ag&&t<1e3&&(p(this.element).trigger(this.element,"timeout",null,1),this.win.clearInterval(this.dg)),s.data=Object.assign(e,this.cg),this.tg.findAndRenderTemplate(this.element,s.data).then(this.sg)}pg(){let t;return this.ng?t=Date.parse(this.ng):this.ig?t=Number(new Date)+this.ig:this.hg?t=this.hg:this.rg&&(t=1e3*this.rg),s=!isNaN(t),e="One of end-date, timeleft-ms, timestamp-ms, timestamp-seconds is required",o().assert(s,e,n,i,h,r,u,a,l,c,d),t;var s,e,n,i,h,r,u,a,l,c,d}fg(t){if(P[t]){const s=P[t];return{"years":s[0],"months":s[1],"days":s[2],"hours":s[3],"minutes":s[4],"seconds":s[5]}}return o().error(M,"Invalid locale %s, return empty locale word",t),{}}Mg(t,s){const e={DAYS:1,HOURS:2,MINUTES:3,SECONDS:4};s&&(t*=-1);const n=e[this.lg]==e.DAYS?this._g(Math.floor(t/_)):0,i=e[this.lg]==e.HOURS?this._g(Math.floor(t/w)):e[this.lg]<e.HOURS?this._g(Math.floor(t%_/w)):0,h=e[this.lg]==e.MINUTES?this._g(Math.floor(t/A)):e[this.lg]<e.MINUTES?this._g(Math.floor(t%w/A)):0,r=e[this.lg]==e.SECONDS?this._g(Math.floor(t/1e3)):this._g(Math.floor(t%A/1e3));return{d:n,dd:this.wg(n),h:i,hh:this.wg(i),m:h,mm:this.wg(h),s:r,ss:this.wg(r)}}wg(t){return t<-9||t>9?String(t):t>=-9&&t<0?"-0"+Math.abs(t):"0"+t}_g(t){return t<0?t+1:t}eg(t){return this.mutateElement((()=>{const s=this.tg.findTemplate(this.element),e=this.element.contains(s);!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(this.element),e&&this.element.appendChild(s),this.element.appendChild(t)}))}};t.registerElement(M,y)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-date-countdown-0.1.mjs.map