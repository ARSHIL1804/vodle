;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-live-list",ev:"0.1",l:!0,f:function(t,n){!function(){function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function i(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return n(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r;function e(){return r||(r=Promise.resolve(void 0))}var u=function(){var t=this;this.promise=new Promise((function(n,i){t.resolve=n,t.reject=i}))};function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,n){if(n&&("object"===f(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}var h=Array.isArray;function l(t,n){for(var i=[],r=0,e=0;e<t.length;e++){var u=t[e];n(u,e,t)?i.push(u):(r<e&&(t[r]=u),r++)}return r<t.length&&(t.length=r),i}var v,d=Object.prototype,p=(d.hasOwnProperty,d.toString);function m(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function b(t){return 1==(null==(n=t)?void 0:n.nodeType)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var n}function g(t,n,i,r,e,u,o,s,a,f,c){return t}function y(t,n){return t.replace(/^|,/g,"$&".concat(n," "))}function j(t,n){return g(/^[\w-]+$/.test(n)),function(t,n){if(void 0!==v?v:v=function(t){try{var n=t.ownerDocument,i=n.createElement("div"),r=n.createElement("div");return i.appendChild(r),i.querySelector(":scope div")===r}catch(t){return!1}}(t))return t.querySelector(y(n,":scope"));var i=function(t,n){var i=t.classList,r="i-amphtml-scoped";i.add(r);var e=y(n,".".concat(r)),u=t.querySelectorAll(e);return i.remove(r),u}(t,n)[0];return void 0===i?null:i}(t,"> [".concat(n,"]"))}function w(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var x=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function O(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function R(t){var n,i=m();if(!t)return i;for(;n=x.exec(t);){var r=O(n[1],n[1]),e=n[2]?O(n[2].replace(/\+/g," "),n[2]):"";i[r]=e}return i}var S=self.AMP_CONFIG||{},E=("string"==typeof S.thirdPartyFrameRegex?new RegExp(S.thirdPartyFrameRegex):S.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,M=("string"==typeof S.cdnProxyRegex?new RegExp(S.cdnProxyRegex):S.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function P(t){if(!self.document||!self.document.head)return null;if(self.location&&M.test(self.location.origin))return null;var n=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return n&&n.getAttribute("content")||null}var T={thirdParty:S.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:S.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:E,cdn:S.cdnUrl||P("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:M,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:S.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:S.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:S.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:S.geoApiUrl||P("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var I=self.__AMP_LOG;function _(t,n){throw new Error("failed to call initLogConstructor")}function k(t){return I.user||(I.user=A()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(I.user.win,t)?I.userForEmbed||(I.userForEmbed=A()):I.user}function A(t){return _()}function U(t,n,i,r,e,u,o,s,a,f,c){return t}function $(t,n,i,r,e,u,o,s,a,f,c){return k().assert(t,n,i,r,e,u,o,s,a,f,c)}function C(t){if(!t)return null;var n=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i),i=n?n[2]:void 0,r=n?n[3]:void 0;return i&&r?{extensionId:i,extensionVersion:r}:null}function H(t,n){return G(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function q(t){return t.nodeType?(i=t,n=(i.ownerDocument||i).defaultView,H(n,"ampdoc")).getAmpDoc(t):t;var n,i}function F(t){var n=q(t);return n.isSingleDoc()?n.win:n}function G(t,n){U(N(t,n));var i=L(t)[n];return i.obj||(U(i.ctor),U(i.context),i.obj=new i.ctor(i.context),U(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function L(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function N(t,n){var i=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!i||!i.ctor)}var z=function(t){return G(t,"timer")};function B(t,n){var i=t*(n=n||.3)*Math.random();return Math.random()>.5&&(i*=-1),i}var D=function(){function t(t,n,i){this.win=t,this.cu=n,this.ma=i,this.Qst=null,this.Id=!1,this.aft=null,this.cft=null}var n=t.prototype;return n.DE=function(){return this.aft?this.aft():this.cu+B(this.cu,.2)},n.isRunning=function(){return this.Id},n.start=function(t){this.Id||(this.Id=!0,this.hft(t))},n.stop=function(){this.Id&&(this.Id=!1,this.s9())},n.s9=function(){this.Qst&&(z(this.win).cancel(this.Qst),this.Qst=null)},n.hft=function(t){var n=this;if(this.Id){var i=function(){n.cft=n.ma().then((function(){n.aft&&(n.aft=null),n.hft()})).catch((function(t){if(!t.retriable)throw t;var i;n.aft||(n.aft=(i=0,function(){var t=Math.pow(2,i++);return 1e3*(t+B(t))})),n.hft()}))};t?i():this.Qst=z(this.win).delay(i,this.DE())}},t}();function V(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function X(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?V(Object(i),!0).forEach((function(n){w(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}var J="__AMP__EXPERIMENT_TOGGLES";var K,Z,Q=function(){function t(t){this.St=t,this.It=0,this.Ct=0,this.Ot=m()}var n=t.prototype;return n.has=function(t){return!!this.Ot[t]},n.get=function(t){var n=this.Ot[t];if(n)return n.access=++this.Ct,n.payload},n.put=function(t,n){this.has(t)||this.It++,this.Ot[t]={payload:n,access:this.Ct},this.Rt()},n.Rt=function(){if(!(this.It<=this.St)){var t,n=this.Ot,i=this.Ct+1;for(var r in n){var e=n[r].access;e<i&&(i=e,t=r)}void 0!==t&&(delete n[t],this.It--)}},t}(),W=new Set(["c","v","a","ad"]),Y="__amp_source_origin",tt=function(t){return"string"==typeof t?nt(t):t};function nt(t,n){return K||(K=self.document.createElement("a"),Z=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new Q(100))),function(t,n,i){if(i&&i.has(n))return i.get(n);t.href=n,t.protocol||(t.href=t.href);var r,e={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),r=t.origin&&"null"!=t.origin?t.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,e.origin=r;var u=e;return i&&i.put(n,u),u}(K,t,n?null:Z)}function it(t,n,i,r){return function(t,n,i){if(!n)return t;var r=t.split("#",2),e=r[0].split("?",2);return e[0]+(e[1]?i?"?".concat(n,"&").concat(e[1]):"?".concat(e[1],"&").concat(n):"?".concat(n))+(r[1]?"#".concat(r[1]):"")}(t,function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}(n,i),r)}function rt(t){return T.cdnProxyRegex.test(tt(t).origin)}var et=["GET","POST"];function ut(t,n){var i,r=X({},n);if((i=n.body)&&"function"==typeof i.getFormData){var e=n.body;r.headers["Content-Type"]="multipart/form-data;charset=utf-8",r.body=function(t){for(var n=[],i=t.next();!i.done;i=t.next())n.push(i.value);return n}(e.entries())}return{input:t,init:r}}function ot(t,n,r){var u=function(t,n){var i,r=t||{},e=r.credentials;return g(void 0===e||"include"==e||"omit"==e),r.method=void 0===(i=r.method)?"GET":(i=i.toUpperCase(),g(et.includes(i)),i),r.headers=r.headers||{},r.headers.Accept=n,g(null!==r.body),r}(r,"text/html");u=function(t,n,i){i=i||{};var r=function(t){return t.origin||nt(t.location.href).origin}(t);return r==nt(n).origin&&(i.headers=i.headers||{},i.headers["AMP-Same-Origin"]="true"),i}(t,n,u),n=function(t,n,i){return g("string"==typeof n),!1!==i.ampCors&&(n=function(t,n){!function(t){var n=R(nt(t).search);$(!(Y in n),"Source origin is not allowed in %s",t)}(n);var i=function(t){return nt(function(t){if(!rt(t=tt(t)))return t.href;var n=t.pathname.split("/"),i=n[1];$(W.has(i),"Unknown path prefix in url %s",t.href);var r=n[2],e="s"==r?"https://"+decodeURIComponent(n[3]):"http://"+decodeURIComponent(r);return $(e.indexOf(".")>0,"Expected a . in origin %s",e),n.splice(1,"s"==r?3:2),e+n.join("/")+function(t,n){if(!t||"?"==t)return"";var i=new RegExp("[?&]".concat("(amp_(js[^&=]*|gsa|r|kit)|usqp)","\\b[^&]*"),"g"),r=t.replace(i,"").replace(/^[?&]/,"");return r?"?"+r:""}(t.search)+(t.hash||"")}(t)).origin}(t.location.href);return it(n,Y,i)}(t,n)),n}(t,n,u);var o=function(t){return H(t,"ampdoc")}(t),s=o.isSingleDoc()?o.getSingleDoc():null;return u.responseType="document",function(t,n,r,u){if(!n)return e();var o=u.prerenderSafe?e():n.whenFirstVisible(),s=function(t,n){return G(F(q(t)),"viewer")}(n),a=rt(r),f=s.hasCapability("xhrInterceptor"),c=u.bypassInterceptorForDev&&!1;return a||!f||c?o:n.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?o.then((function(){return s.isTrustedViewer()})).then((function(n){if(n||function(t,n){var r=function(t){var n,r,e,u,o;if(t[J])return t[J];t[J]=m();var s=t[J];g(s);var a,f=X(X({},null!==(n=t.AMP_CONFIG)&&void 0!==n?n:{}),null!==(r=t.AMP_EXP)&&void 0!==r?r:(a=(null===(e=t.__AMP_EXP)||void 0===e?void 0:e.textContent)||"{}",JSON.parse(a)));for(var c in f){var l=f[c];"number"==typeof l&&l>=0&&l<=1&&(s[c]=Math.random()<l)}var v=null===(u=t.AMP_CONFIG)||void 0===u?void 0:u["allow-doc-opt-in"];if(h(v)&&v.length){var d=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(d)for(var p,b,y=i((null===(p=d.getAttribute("content"))||void 0===p?void 0:p.split(","))||[],!0);!(b=y()).done;){var j=b.value;v.includes(j)&&(s[j]=!0)}}Object.assign(s,function(t){var n,r="";try{var e;"localStorage"in t&&(r=null!==(e=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==e?e:"")}catch(t){(I.dev||(I.dev=_())).warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var u,o=(null===(n=r)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],s=m(),a=i(o,!0);!(u=a()).done;){var f=u.value;f&&("-"==f[0]?s[f.substr(1)]=!1:s[f]=!0)}return s}(t));var w=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-url-opt-in"];if(h(w)&&w.length)for(var x,O=R(t.location.originalHash||t.location.hash),S=i(w,!0);!(x=S()).done;){var E=x.value,M=O["e-".concat(E)];"1"==M&&(s[E]=!0),"0"==M&&(s[E]=!1)}return s}(t);return!!r[n]}(t,"untrusted-xhr-interception")){var e={"originalRequest":ut(r,u)};return s.sendMessageAwaitResponse("xhr",e).then((function(t){return function(t,n){var i;if(i=t,function(t,n){var i,r,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(n)return n;t&&-1==e.indexOf(t)&&(e+=t);for(var u=3,o=e.split("%s"),s=o.shift(),a=[s];o.length;){var f=arguments[u++],c=o.shift();s+=b(f)+c,a.push(f,c.trim())}var h=new Error(s);throw h.messageArray=l(a,(function(t){return""!==t})),null===(i=(r=self).__AMP_REPORT_ERROR)||void 0===i||i.call(r,h),h}("​​​","[object Object]"===p.call(i),"Object expected: %s",t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),"document"!=n)return new Response(t.body,t.init);var r=m(),e={status:200,statusText:"OK",getResponseHeader:function(t){return r[String(t).toLowerCase()]||null}};if(t.init){var u=t.init;h(u.headers)&&u.headers.forEach((function(t){var n=t[0],i=t[1];r[String(n).toLowerCase()]=String(i)})),u.status&&(e.status=parseInt(u.status,10)),u.statusText&&(e.statusText=String(u.statusText))}return new Response(t.body?String(t.body):"",e)}(t,u.responseType)}))}})):o}(t,s,n,u).then((function(t){return t?t.text().then((function(t){return(new DOMParser).parseFromString(t,"text/html")})):function(t,n){return new Promise((function(i,r){var e=new XMLHttpRequest;for(var u in e.open(n.method||"GET",t,!0),e.withCredentials="include"==n.credentials,e.responseType="document",n.headers)e.setRequestHeader(u,n.headers[u]);e.onreadystatechange=function(){if(!(e.readyState<2)){if(e.status<100||e.status>599)return e.onreadystatechange=null,void r(k().createExpectedError("Unknown HTTP status ".concat(e.status)));if(4==e.readyState){var t={status:e.status,statusText:e.statusText,headers:(o=e.getAllResponseHeaders(),s={},o.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();s[i]=r}})),s)},n=(u=new Response("",t),new Promise((function(t){if(u.ok)return t(u);var n=u.status,i=k().createError("HTTP error ".concat(n));throw i.retriable=function(t){return 415==t||t>=500&&t<600}(n),i.response=u,i}))).then((function(t){return{response:t,xhr:e}}));i(n)}}var u,o,s},e.onerror=function(){r(k().createExpectedError("Request failure"))},e.onabort=function(){r(k().createExpectedError("Request aborted"))},"POST"==n.method?e.send(n.body):e.send()}))}(n,u).then((function(t){return t.xhr.responseXML}))}))}var st="liveListManager",at=function(){function t(t){var n=this;this.ampdoc=t,this.lft=Object.create(null),this.Zl=H(this.ampdoc.win,"extensions"),this.vft=15e3,this.dft=[this.vft],this.pft=null,this.pi=this.ampdoc.getUrl(),this.mft=0,this.ma=this.bft.bind(this),this.gft=function(t){if(!t.ownerDocument)return!1;var n=t.ownerDocument.documentElement.getAttribute("transformed");return Boolean(n)&&n.startsWith("google;v=")}(t.getRootNode()),this.yft().then((function(){n.vft=Math.min.apply(Math,n.dft);var t=Object.keys(n.lft).map((function(t){return n.lft[t].getUpdateTime()}));n.mft=Math.max.apply(Math,t),n.pft=new D(n.ampdoc.win,n.vft,n.ma),n.ampdoc.isVisible()&&n.jft()&&n.pft.start(),n.wft()}))}var n=t.prototype;return n.dispose=function(){this.pft.stop()},t.forDoc=function(t){return n=st,function(t,n){var i=function(t,n){var i=L(t)[n];return i?i.promise?i.promise:(G(t,n),i.promise=Promise.resolve(i.obj)):null}(t,n);if(i)return i;var r,e,o,s,a=L(t);return a[n]=(e=(r=new u).promise,o=r.reject,s=r.resolve,e.catch((function(){})),{obj:null,promise:e,resolve:s,reject:o,context:null,ctor:null}),a[n].promise}(F(t),n);var n},n.jft=function(){var t=this;return Object.keys(this.lft).some((function(n){return t.lft[n].isEnabled()}))},n.bft=function(){var t,n,i=this.pi;return this.mft>0&&(i=it(i,"amp_latest_update_time",String(this.mft))),this.gft&&(i=(t=this.ampdoc.getBody(),N(n=F(q(t)),"url")?G(n,"url"):null).getCdnUrlOnOrigin(i)),ot(this.ampdoc.win,i,{}).then(this.xft.bind(this))},n.xft=function(t){this.Oft(t);var n=this.Rft(t).concat(this.Sft(t)).map(this.Eft.bind(this)),i=Math.max.apply(Math,[0].concat(n));i>0&&(this.mft=i),this.jft()||this.pft.stop()},n.Rft=function(t){return Array.prototype.slice.call(t.getElementsByTagName("amp-live-list"))},n.Sft=function(t){var n=this;return Object.keys(this.lft).filter((function(t){return n.lft[t].hasCustomSlot()})).map((function(i){var r=n.lft[i].element.AMP_LIVE_LIST_CUSTOM_SLOT_ID;return t.getElementById(r)}))},n.Eft=function(t){var n="i-amphtml-"+t.id+"-dynamic-list",i=n in this.lft?n:t.getAttribute("id");$(i,"amp-live-list must have an id."),$(i in this.lft,"amp-live-list#%s found but did not exist on original page load.",i);var r=this.lft[i];return r.toggle(!t.hasAttribute("disabled")&&!t.hasAttribute("live-story-disabled")),r.isEnabled()?r.update(t):0},n.register=function(t,n){t in this.lft||(this.lft[t]=n,this.dft.push(n.getInterval()),n.isEnabled()&&this.pft&&this.ampdoc.isVisible()&&this.pft.start())},n.yft=function(){return this.ampdoc.whenReady()},n.wft=function(){var t=this;this.ampdoc.onVisibilityChanged((function(){t.ampdoc.isVisible()&&t.jft()?t.pft.start(!0):t.pft.stop()}))},n.Oft=function(t){var n=this;(function(t){if(!t)return[];for(var n=t.querySelectorAll("script[custom-element],script[custom-template]"),i=[],r=0;r<n.length;r++){var e=n[r],u=e.getAttribute("custom-element")||e.getAttribute("custom-template"),o=C(e.src);u&&o&&i.push({script:e,extensionId:u,extensionVersion:o.extensionVersion})}return i})(t).forEach((function(t){var i=t.extensionId,r=t.extensionVersion;n.Zl.installExtensionForDoc(n.ampdoc,i,r)}))},t.getMinDataPollInterval=function(){return 15e3},t.getMinDataMaxItemsPerPage=function(){return 1},t}(),ft="amp-live-list-item",ct="amp-live-list-item-new";function ht(t,n){return Math.max(parseInt(t,10)||0,n)}var lt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}(u,t);var n,i,r=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=a(n);if(i){var e=a(this).constructor;t=Reflect.construct(r,arguments,e)}else t=r.apply(this,arguments);return c(this,t)});function u(t){var n;return(n=r.call(this,t)).Tu=null,n.Sg=null,n.Mft=null,n.Pft=null,n.Tft=null,n.Ift="",n._ft=0,n.kft=0,n.Aft=0,n.Uft=!1,n.$ft=Object.create(null),n.Cft=[],n.Hft=[],n.qft=[],n.Fft=null,n.Gft="",n.Lft=0,n.Nft=n.zft.bind(o(n)),n}var f=u.prototype;return f.isLayoutSupported=function(t){return"container"==t||"fixed-height"==t},f.buildCallback=function(){var t=this;this.Tu=this.getViewport(),at.forDoc(this.element).then((function(n){t.Sg=n,t.Sg.register(t.Ift,t)})),this.Gft=this.element.AMP_LIVE_LIST_CUSTOM_SLOT_ID,this.Mft=$(this.Bft(this.element),'amp-live-list must have an "update" slot.'),this.Pft=$(this.Dft(this.element),'amp-live-list must have an "items" slot.'),this.Tft=this.Vft(this.element),this.Ift=$(this.element.getAttribute("id"),"amp-live-list must have an id."),this._ft=ht(this.element.getAttribute("data-poll-interval"),at.getMinDataPollInterval());var n=this.element.getAttribute("data-max-items-per-page");$(Number(n)>0||this.element.hasAttribute("disable-pagination"),"amp-live-list # %s must have data-max-items-per-page attribute with numeric value. Found %s.",this.Ift,n);var i=[].slice.call(this.Pft.children).filter((function(t){return!t.hasAttribute("data-tombstone")})).length;this.kft=Math.max(ht(n,1),i),this.Uft="ascending"===this.element.getAttribute("sort"),this.Xft(!1),this.Jft(this.Pft,(function(t){t.classList.add(ft)})),this.Lft=this.Kft(this.Pft,!0),this.registerDefaultAction(this.Zft.bind(this),"update"),this.element.hasAttribute("aria-live")||this.element.setAttribute("aria-live","polite")},f.hasCustomSlot=function(){return!!this.Gft},f.isEnabled=function(){return!this.element.hasAttribute("disabled")},f.toggle=function(t){t?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","")},f.update=function(t){var n=this,i=this.Dft(t);if(!i)return this.Aft;this.Kft(i);var r=this.Qft(i);return this.Wft(r.insert),this.Yft(r.replace),this.tct(r.tombstone),this.Fft=this.Vft(t),this.Cft.length>0?(this.element.hasAttribute("auto-insert")&&this.Zft(),this.mutateElement((function(){n.Xft(!0),n.Tu.updateFixedLayer()}))):(this.Hft.length>0||this.qft.length>0)&&this.Zft(),this.Aft},f.Zft=function(){var t=this,n=this.Cft.length>0,i=this.qft.length>0,r=this.Hft.length>0,e=n||r,u=this.mutateElement((function(){var r=k().assertElement(t.Pft);return n&&(t.Jft(r,(function(t){t.classList.remove(ct)})),t.Lft+=t.nct(r,t.Cft),t.Cft.length=0),t.Hft.length>0&&(t.ict(r,t.Hft),t.Hft.length=0),t.qft.length>0&&(t.Lft-=t.rct(r,t.qft),t.qft.length=0),(n||i)&&t.Tft&&t.Fft&&(t.element.replaceChild(t.Fft,t.Tft),t.Tft=t.Vft(t.element)),t.Xft(!1),t.Fft=null,t.ect(r)}));return e&&(u=u.then((function(){t.uct()}))),n&&!this.element.hasAttribute("disable-scrolling")&&(u=u.then((function(){var n=t.Uft&&t.Pft.lastElementChild?t.Pft.lastElementChild:t.element,i=t.Uft?"bottom":"top";return t.Tu.animateScrollIntoView(n,i)}))),u},f.Xft=function(t){this.Mft.classList.toggle("amp-hidden",!t),this.Mft.classList.toggle("amp-active",t)},f.nct=function(t,n){var i=this,r=0;return n.forEach((function(t){if(0===i.Pft.childElementCount)i.Pft.appendChild(t);else{var n=i.oct(t);if(!i.sct(n))return;if(i.Uft)for(var e=i.Pft.lastElementChild;e;e=e.previousElementSibling){var u=i.oct(e);if(i.sct(u)){if(n>=u){i.Pft.insertBefore(t,e.nextElementSibling),r++;break}if(!e.previousElementSibling){i.Pft.insertBefore(t,e),r++;break}}}else for(var o=i.Pft.firstElementChild;o;o=o.nextElementSibling){var s=i.oct(o);if(i.sct(s)){if(n>=s){i.Pft.insertBefore(t,o),r++;break}if(!o.nextElementSibling){i.Pft.appendChild(t),r++;break}}}}})),r},f.ict=function(t,n){var i=0;return n.forEach((function(n){var r=n.getAttribute("id"),e=t.querySelector("#".concat(r));e&&(t.replaceChild(n,e),i++)})),i},f.rct=function(t,n){var i=0;return n.forEach((function(n){var r=n.getAttribute("id"),e=t.querySelector("#".concat(r));e&&(e.setAttribute("data-tombstone",""),e.textContent="",i++)})),i},f.ect=function(t){var n=this,i=this.Lft-this.kft;if(i<1)return e();var r=[],u=[];if(this.Uft)for(var o=t.firstElementChild;o&&!(r.length>=i);o=o.nextElementSibling)this.act(o)||r.push(o);else for(var s=t.lastElementChild;s&&!(r.length>=i);s=s.previousElementSibling)this.act(s)||r.push(s);return this.getVsync().runPromise({measure:function(){for(var t=0;t<r.length;t++){var i=r[t];if(n.Uft){if(!n.fct(i))break}else if(!n.cct(i))break;u.push(i)}},mutate:function(){u.forEach((function(i){t.removeChild(i),n.Lft--}))}})},f.Wft=function(t){t.sort(this.Nft).forEach((function(t){t.classList.add(ft),t.classList.add(ct)})),this.Cft.push.apply(this.Cft,t)},f.Yft=function(t){var n=this;t.forEach((function(t){var i=n.hct(n.Hft,t);t.classList.add("amp-live-list-item"),-1==i?n.Hft.push(t):n.Hft[i]=t}))},f.tct=function(t){this.qft.push.apply(this.qft,t)},f.hct=function(t,n){for(var i=0;i<t.length;i++)if(t[i].getAttribute("id")==n.getAttribute("id"))return i;return-1},f.getInterval=function(){return this._ft},f.Qft=function(t){for(var n=[],i=[],r=[],e=t.firstElementChild;e;e=e.nextElementSibling){var u=e.getAttribute("id"),o=this.oct(e);if(u&&this.sct(o))if(this.lct(e)){var s=this.win.document.importNode(e,!0);n.push(s),this.vct(e)}else if(this.dct(e)){var a=this.pct(e);this.$ft[u]=a;var f=this.win.document.importNode(e,!0);a>this.Aft&&(this.Aft=a),i.push(f)}else this.act(e)&&-1!=this.$ft[u]&&(this.$ft[u]=-1,r.push(e))}return{insert:n,replace:i,tombstone:r}},f.lct=function(t){var n=t.getAttribute("id");return!t.hasAttribute("data-tombstone")&&!(n in this.$ft)},f.dct=function(t){if(!t.hasAttribute("data-update-time"))return!1;if(t.hasAttribute("data-tombstone"))return!1;var n=t.getAttribute("id"),i=this.pct(t);return n in this.$ft&&-1!=this.$ft[n]&&i>this.$ft[n]},f.act=function(t){return t.hasAttribute("data-tombstone")},f.vct=function(t){var n=t.getAttribute("id"),i=this.pct(t);i>this.Aft&&(this.Aft=i),this.$ft[n]=i},f.mct=function(t){return!!t.hasAttribute("id")&&this.sct(this.oct(t))},f.Kft=function(t,n){var i=this,r=0;return this.Jft(t,(function(t){i.mct(t)&&(r++,n&&i.vct(t))})),r},f.Jft=function(t,n){for(var i=t.firstElementChild;i;i=i.nextElementSibling)n(i)},f.bct=function(t){return t.id===this.Gft?t:this.win.document.getElementById(this.Gft)},f.Bft=function(t){return this.Gft?this.bct(t):j(t,"update")},f.Dft=function(t){return this.Gft?this.bct(t):j(t,"items")},f.Vft=function(t){return j(t,"pagination")},f.zft=function(t,n){return this.oct(t)-this.oct(n)},f.oct=function(t){return this.gct(t,"data-sort-time")},f.sct=function(t){return t>0},f.pct=function(t){return t.hasAttribute("data-update-time")?this.gct(t,"data-update-time"):this.oct(t)},f.gct=function(t,n){return Number(t.getAttribute(n))},f.cct=function(t){return this.Tu.getLayoutRect(t).top>this.Tu.getScrollTop()+this.Tu.getSize().height},f.fct=function(t){return this.Tu.getLayoutRect(t).bottom<this.Tu.getScrollTop()},f.getUpdateTime=function(){return this.Aft},f.uct=function(){var t=this.win.document.createEvent("Event");t.initEvent("amp:dom-update",!0,!0),this.Pft.dispatchEvent(t)},u}(t.BaseElement);t.registerElement("amp-live-list",lt,"amp-live-list>[update]{position:relative;z-index:1000}amp-live-list>.amp-active[update]{display:block}amp-live-list>[items]>[data-tombstone]{display:none}@keyframes amp-live-list-item-highlight{0%{box-shadow:0 0 5px 2px #51cbee}to{box-shadow:0}}\n/*# sourceURL=/extensions/amp-live-list/0.1/amp-live-list.css*/"),t.registerServiceForDoc(st,at)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-live-list-0.1.js.map