;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-story-education",ev:"0.1",l:!0,f:function(t,i){!function(){function i(t,n){return(i=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,n)}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,i){if(i&&("object"===r(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function e(t){return t?Array.prototype.slice.call(t):[]}var a=Array.isArray;function p(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function s(t,i){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return p(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=Object.prototype;function c(t){return 1==(null==t?void 0:t.nodeType)}function m(t,i,n,r,o,e,a,p,s,u,c){return t}function l(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!isFinite(n)||n<0)throw new Error("Invalid depth: "+n);if(t===i)return!0;for(var o=[{a:t,b:i,depth:n}];o.length>0;){var e=o.shift(),p=e.a,s=e.b,u=e.depth;if(u>0){if(r(p)!==r(s))return!1;if(a(p)&&a(s)){if(p.length!==s.length)return!1;for(var c=0;c<p.length;c++)o.push({a:p[c],b:s[c],depth:u-1});continue}if(p&&s&&"object"===r(p)&&"object"===r(s)){var m=Object.keys(p),l=Object.keys(s);if(m.length!==l.length)return!1;for(var f=0,h=m;f<h.length;f++){var d=h[f];o.push({a:p[d],b:s[d],depth:u-1})}continue}}if(p!==s)return!1}return!0}function f(t){return(t.ownerDocument||t).defaultView}u.hasOwnProperty,u.toString;var h=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function d(t,i,n,r,o){return o||(i?"ï¿½":r?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function v(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function y(t){var i=t.isConnected;if(void 0!==i)return i;for(var n=t;(n=g(n)).host;)n=n.host;return n.nodeType===Node.DOCUMENT_NODE}function g(t){if(Node.prototype.getRootNode)return t.getRootNode();var i,n;for(i=t;i.parentNode&&(!(n=i)||"I-AMPHTML-SHADOW-ROOT"!=n.tagName&&(11!=n.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(n)));i=i.parentNode);return i}var b,x=[],w="__AMP_MODAL_SAVED_TAB_INDEX";function k(t){for(var i=[],n=t;n;n=n.parentNode||n.host)i.push(n);return i}function S(t,i,n){null===n||null==n?t.removeAttribute(i):t.setAttribute(i,n)}function z(t){return function(t,i){m(1===i.length),t.innerHTML=i[0];var n=t.firstElementChild;return m(n),m(!n.nextElementSibling),t.removeChild(n),n}(b,t)}function j(t,i){void 0===i&&(i=t.hasAttribute("hidden")),i?t.removeAttribute("hidden"):t.setAttribute("hidden","")}var O=self.AMP_CONFIG||{},A=("string"==typeof O.thirdPartyFrameRegex?new RegExp(O.thirdPartyFrameRegex):O.thirdPartyFrameRegex,("string"==typeof O.cdnProxyRegex?new RegExp(O.cdnProxyRegex):O.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function E(t){if(!self.document||!self.document.head)return null;if(self.location&&A.test(self.location.origin))return null;var i=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return i&&i.getAttribute("content")||null}function R(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}O.thirdPartyUrl,O.thirdPartyFrameHost,O.cdnUrl||E("runtime-host"),O.errorReportingUrl,O.betaErrorReportingUrl,O.localDev,O.geoApiUrl||E("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var _=self.__AMP_LOG;function I(t,i,n,r,o,e,a,p,s,u,c){return t}function P(t,i){return M(t=T(t),i)}function T(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function $(t){return t.nodeType?(i=f(t),P(i,"ampdoc")).getAmpDoc(t):t;var i}function L(t){var i=$(t);return i.isSingleDoc()?i.win:i}function M(t,i){I(D(t,i));var n=C(t)[i];return n.obj||(I(n.ctor),I(n.context),n.obj=new n.ctor(n.context),I(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function C(t){var i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function D(t,i){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}var F=function(t){return i="localization",D(n=L($(t)),i)?M(n,i):null;var i,n},N=function(t){return function(t,i){return M(L($(t)),"viewer")}(t)},U=function(){function t(){this.vt=null}var i=t.prototype;return i.add=function(t){var i=this;return this.vt||(this.vt=[]),this.vt.push(t),function(){i.remove(t)}},i.remove=function(t){var i,n,r;this.vt&&(n=t,-1!=(r=(i=this.vt).indexOf(n))&&i.splice(r,1))},i.removeAll=function(){this.vt&&(this.vt.length=0)},i.fire=function(t){if(this.vt)for(var i,n=s(this.vt.slice(),!0);!(i=n()).done;)(0,i.value)(t)},i.getHandlerCount=function(){var t,i;return null!==(t=null===(i=this.vt)||void 0===i?void 0:i.length)&&void 0!==t?t:0},t}(),Z="default",B=/\w+/gi;function H(t,i,n){for(var r,o=s(i,!0);!(r=o()).done;){var e,a=null===(e=t[r.value])||void 0===e?void 0:e[n];if(null!=a)return a.string||a}return null}var V,K,W,X=function(){function t(t){this.Gn=t,this.tJ=N(t).getParam("lang"),this.nJ={},this.iJ=new U}var i=t.prototype;return i.getLanguageCodesForElement=function(t){var i=function(t,i,n){var r;for(r=t;r&&void 0!==r;r=r.parentElement)if(i(r))return r;return null}(t,(function(t){return t.hasAttribute("lang")})),n=function(t){if(!t)return["en",Z];var i=t.match(B)||[];return i.reduce((function(t,n,r){var o=i.slice(0,r+1).join("-").toLowerCase();return t.unshift(o),t}),[Z])}((i?i.getAttribute("lang"):null)||"");return this.tJ&&n.unshift(this.tJ),n},i.registerLocalizedStringBundles=function(t){var i=this;Object.keys(t).forEach((function(n){var r=n.toLowerCase();i.nJ[r]||(i.nJ[r]={}),Object.assign(i.nJ[r],t[n])})),this.iJ.fire()},i.getLocalizedString=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Gn,n=this.getLanguageCodesForElement(i);return H(this.nJ,n,t)},i.getLocalizedStringAsync=function(t){var i=this,n=this.getLanguageCodesForElement(this.Gn),r=H(this.nJ,n,t);return null!==r?Promise.resolve(r):new Promise((function(r){var o=i.iJ.add((function(){var e=H(i.nJ,n,t);e&&(o(),r(e))}))}))},t}(),Y=(R(V={},31,(function(t,i){return t.length!==i.length})),R(V,15,(function(t,i){return t.element!==i.element||t.state!==i.state})),R(V,36,(function(t,i){return t.length!==i.length})),R(V,38,(function(t,i){return t.length!==i.length})),R(V,39,(function(t,i){return null===t||null===i||t.width!==i.width||t.height!==i.height})),R(V,21,(function(t,i){return null===t||null===i||!l(t,i,2)})),R(V,26,(function(t,i){return null===t||null===i||!l(t,i,2)})),R(V,16,(function(t,i){return!l(t,i,3)})),"none");function q(t){return!!t&&-1!=t.toString().indexOf("[native code]")}function G(t){return void 0===K&&(i=t||Element,K=i.prototype.attachShadow?"v1":i.prototype.createShadowRoot?"v0":Y),K;var i}var J={strictStyling:!1,scopeRules:function(t,i,n){var r="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)r+=this.scopeSelector(t.selectorText,i,this.strictStyling,n)+" {\n\t",r+=this.propertiesFromRule(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)r+="@media "+t.media.mediaText+" {\n",r+=this.scopeRules(t.cssRules,i),r+="\n}\n\n";else try{t.cssText&&(r+=t.cssText+"\n\n")}catch(i){t.type===CSSRule.KEYFRAMES_RULE&&t.cssRules&&(r+=this.ieSafeCssTextFromKeyFrameRule(t))}}),this),r},ieSafeCssTextFromKeyFrameRule:function(t){var i="@keyframes "+t.name+" {";return Array.prototype.forEach.call(t.cssRules,(function(t){i+=" "+t.keyText+" {"+t.style.cssText+"}"})),i+=" }"},scopeSelector:function(t,i,n,r){var o=[];return t.split(",").forEach((function(t){t=t.trim(),r&&(t=r(t)),this.selectorNeedsScoping(t,i)&&(t=n&&!t.match(nt)?this.applyStrictSelectorScope(t,i):this.applySelectorScope(t,i)),o.push(t)}),this),o.join(", ")},selectorNeedsScoping:function(t,i){if(Array.isArray(i))return!0;var n=this.makeScopeMatcher(i);return!t.match(n)},makeScopeMatcher:function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+it,"m")},applySelectorScope:function(t,i){return Array.isArray(i)?this.applySelectorScopeList(t,i):this.applySimpleSelectorScope(t,i)},applySelectorScopeList:function(t,i){for(var n,r=[],o=0;n=i[o];o++)r.push(this.applySimpleSelectorScope(t,n));return r.join(", ")},applySimpleSelectorScope:function(t,i){return t.match(rt)?(t=t.replace(nt,i)).replace(rt,i+" "):i+" "+t},applyStrictSelectorScope:function(t,i){i=i.replace(/\[is=([^\]]*)\]/g,"$1");var n=[" ",">","+","~"],r=t,o="["+i+"]";return n.forEach((function(t){var i=r.split(t);r=i.map((function(t){var i=t.trim().replace(rt,"");return i&&n.indexOf(i)<0&&i.indexOf(o)<0&&(t=i.replace(/([^:]*)(:*)(.*)/,"$1"+o+"$2$3")),t})).join(t)})),r},propertiesFromRule:function(t){var i=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(i=i.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var n=t.style;for(var r in n)"initial"===n[r]&&(i+=r+": initial; ");return i}},Q="-shadowcsshost",tt=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",it=(new RegExp("("+Q+tt,"gim"),new RegExp("(-shadowcsscontext"+tt,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),nt=Q+"-no-combinator",rt=new RegExp(Q,"gim");new RegExp("-shadowcsscontext","gim");var ot=/[^\.\-\_0-9a-zA-Z]/,et=/[^\-\_0-9a-zA-Z]/;function at(t){return t.replace(/(html|body)/g,pt)}function pt(t,i,n,r){var o=r.charAt(n-1),e=r.charAt(n+t.length);return o&&!ot.test(o)||e&&!et.test(e)?t:"amp-"+t}function st(t,i){var n=t.createElement("style");n.textContent=i;try{return(t.head||t.documentElement).appendChild(n),n.sheet?n.sheet.cssRules:null}finally{n.parentNode&&n.parentNode.removeChild(n)}}new Set(["c","v","a","ad"]),"[".concat("data-text-background-color","]");var ut=["<div class=i-amphtml-story-education-navigation><div class=i-amphtml-story-education-navigation-gesture><div class=i-amphtml-story-education-navigation-gesture-outer></div><div class=i-amphtml-story-education-navigation-gesture-inner></div></div><div class=i-amphtml-story-education-navigation-progress></div><div class=i-amphtml-story-education-navigation-instructions></div><button class=i-amphtml-story-education-navigation-button></button></div>"],ct=function(t){var i,n;return(n=(i=t).ownerDocument||i,b&&b.ownerDocument===n||(b=n.createElement("div")),z)(ut)},mt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}(s,t);var r,a,p=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=n(r);if(a){var e=n(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return o(this,t)});function s(t){var i;return(i=p.call(this,t)).tpt=i.win.document.createElement("div"),i.ipt=null,i.Pi=0,i.bJ=function(t,i){return D(t=T(t),i)?M(t,i):null}(i.win,"story-store"),i.co=null,i}var u=s.prototype;return u.buildCallback=function(){var t,i,n,r,o;this.eJ=(t=this.element,(i=F(t))||(i=new X(t),n="localization",r=function(){return i},function(t,i,n,r,o,e){var a=C(t),p=a[n];p||(p=a[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),p.ctor||(p.ctor=r,p.context=i,p.sharedInstance=!1,p.resolve&&M(t,n))}(L(o=$(t)),o,n,r)),i),this.tpt.classList.add("i-amphtml-story-education"),j(this.element,!1),j(this.tpt,!1),this.M6();var a=this.win.document.createElement("div");this.element.appendChild(a),function(t,i,n){var r=self.document.createElement("style");r.textContent='@import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap");:host{all:initial!important;color:initial!important}@font-face{font-family:Open Sans-fallback;size-adjust:105.44%;src:local("Arial")}amp-story-education{position:fixed!important;height:100%!important;width:100%!important;pointer-events:none!important;z-index:9999999!important}.i-amphtml-story-education,.i-amphtml-story-education *{box-sizing:border-box!important}.i-amphtml-story-education{height:100%!important;width:100%!important;background:rgba(0,0,0,0.8)!important;color:#fff!important;font-family:Open Sans,Open Sans-fallback,sans-serif!important;line-height:1.5em!important;font-weight:400!important;pointer-events:auto!important;opacity:1!important;text-rendering:geometricPrecision!important;transition:opacity 225ms cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-education[hidden]{display:block!important;opacity:0!important;visibility:hidden!important}.i-amphtml-story-education-navigation{height:100%!important;width:100%!important;padding:48px!important;-ms-flex-direction:column!important;flex-direction:column!important}.i-amphtml-story-education-navigation,.i-amphtml-story-education-navigation-gesture{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-education-navigation-gesture{position:relative!important;height:60px!important;width:60px!important;margin-bottom:60px!important}[step=swipe] .i-amphtml-story-education-navigation-gesture{width:140px!important}.i-amphtml-story-education-navigation-gesture-outer{position:absolute!important;height:60px!important;border-radius:60px!important;border:4px solid #fff!important;animation:i-amphtml-tap-outer 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important;will-change:left,opacity!important}[step=tap] .i-amphtml-story-education-navigation-gesture-outer{width:100%!important}[step=swipe] .i-amphtml-story-education-navigation-gesture-outer{animation:i-amphtml-swipe-outer 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}[dir=rtl] [step=swipe] .i-amphtml-story-education-navigation-gesture-outer{animation:i-amphtml-swipe-outer-rtl 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}.i-amphtml-story-education-navigation-gesture-inner{position:absolute!important;height:30px!important;width:30px!important;background:#fff;border-radius:50%!important;animation:i-amphtml-tap-inner 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important;will-change:opacity!important}[step=swipe] .i-amphtml-story-education-navigation-gesture-inner{animation:i-amphtml-swipe-inner 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}[dir=rtl] [step=swipe] .i-amphtml-story-education-navigation-gesture-inner{animation:i-amphtml-swipe-inner-rtl 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}.i-amphtml-story-education-navigation-progress{height:24px!important;padding:5px 15px!important;margin-bottom:16px!important;background:hsla(0,0%,100%,0.25)!important;border-radius:24px!important;font-size:14px!important;font-weight:700!important;line-height:14px!important}.i-amphtml-story-education-navigation-instructions{max-width:300px!important;font-size:20px!important}.i-amphtml-story-education-navigation-button{position:absolute!important;bottom:48px!important;height:48px!important;min-width:120px!important;background:none!important;border:2px solid #fff!important;border-radius:48px!important;color:#fff!important;font-size:16px!important;font-weight:600!important;line-height:43px!important}@keyframes i-amphtml-tap-outer{0%{transform:scale(1)}24%,26%{transform:scale(0.8)}40%{transform:scale(1.1)}55%,to{transform:scale(1)}}@keyframes i-amphtml-tap-inner{0%{opacity:0;transform:scale(1)}24%,26%{opacity:0.5;transform:scale(1)}40%{opacity:0.5;transform:scale(2.2)}55%,to{opacity:0.0;transform:scale(2.6)}}@keyframes i-amphtml-swipe-outer{0%,4%{width:60px;opacity:0;left:80px}40%{width:100%;opacity:1;left:0}62%{width:60px;left:0}80%,to{width:60px;opacity:0;left:0}}@keyframes i-amphtml-swipe-outer-rtl{0%,4%{width:60px;opacity:0;right:80px}40%{width:100%;opacity:1;right:0}62%{width:60px;right:0}80%,to{width:60px;opacity:0;right:0}}@keyframes i-amphtml-swipe-inner{0%{opacity:0;left:95px}4%{opacity:0.3;left:95px}40%{opacity:0.5;left:15px}80%,90%{opacity:0;left:15px}to{opacity:0;left:95px}}@keyframes i-amphtml-swipe-inner-rtl{0%{opacity:0;right:95px}4%{opacity:0.3;right:95px}40%{opacity:0.5;right:15px}80%,90%{opacity:0;right:15px}to{opacity:0;right:95px}}\n/*# sourceURL=/extensions/amp-story-education/0.1/amp-story-education.css*/';var o=function(t){var i,n=f(t),r=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(r)return r.innerHTML="",r;var o,a=G();if("v1"==a?(i=t.attachShadow({mode:"open"})).styleSheets||Object.defineProperty(i,"styleSheets",{get:function(){var t=[];return function(i,n){for(var r=i.length,o=0;o<r;o++)"STYLE"===(e=i[o]).tagName&&t.push(e.sheet);var e}(i.childNodes),t}}):i="v0"==a?t.createShadowRoot():function(t){var i=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");var n=i.createElement("style");n.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(n);var r=i.createElement("i-amphtml-shadow-root");return t.appendChild(r),t.__AMP_SHADOW_ROOT=r,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:r}),r.host=t,r.getElementById=function(t){var i=String(t).replace(h,d);return r.querySelector("#".concat(i))},Object.defineProperty(r,"styleSheets",{get:function(){return i.styleSheets?e(i.styleSheets).filter((function(t){return r.contains(t.ownerNode)})):[]}}),r}(t),void 0===W&&(W=G()!=Y&&(q(Element.prototype.attachShadow)||q(Element.prototype.createShadowRoot))),!W){var p="i-amphtml-sd-".concat(n.Math.floor(1e4*n.Math.random()));i.id=p,i.host.classList.add(p),o=function(t){return function(t,i){return function(t,i){var n=I(t.id),r=t.ownerDocument,o=null;try{o=st(r.implementation.createHTMLDocument(""),i)}catch(t){}if(!o)try{o=st(r,i)}catch(t){}return o?J.scopeRules.call(J,o,".".concat(n),at):i}(t,i)}(i,t)},i.__AMP_CSS_TR=o}return i}(t);o.appendChild(r),o.appendChild(i)}(a,this.tpt),this.co=N(this.element);var p=0===this.bJ.get(30);if(this.co.isEmbedded()&&p){var s=this.co.hasCapability("swipe")?"ontas":"ont";this.npt(s,1)}},u.isLayoutSupported=function(t){return"container"===t},u.M6=function(){var t=this;this.tpt.addEventListener("click",(function(){return t.yE()}),!0),this.tpt.addEventListener("touchstart",(function(t){return t.stopPropagation()}),!0),this.tpt.addEventListener("touchmove",(function(t){return t.stopPropagation()}),!0),this.tpt.addEventListener("touchend",(function(t){return t.stopPropagation()}),!0),this.bJ.subscribe(24,(function(i){return t.lB(i)}),!0)},u.yE=function(){1===this.Pi&&this.co.hasCapability("swipe")?this.PV(2):this.PV(0)},u.lB=function(t){var i=this;this.mutateElement((function(){t?i.tpt.setAttribute("dir","rtl"):i.tpt.removeAttribute("dir")}))},u.PV=function(t){var i,n=this;if(this.Pi!==t)switch(this.Pi=t,t){case 0:this.bJ.dispatch(15,!1),this.mutateElement((function(){v(n.tpt),j(n.element,!1),j(n.tpt,!1),n.bJ.dispatch(23,n.ipt),function(t){var i=x.pop();m(i);var n=i.element,r=i.focusableExternalElements,o=i.focusableInternalElements,e=i.hiddenElementInfos;m(y(t)),m(n===t),e.forEach((function(t){return S(t.element,"aria-hidden",t.prevValue)})),o.forEach((function(t){return t.setAttribute("tabindex","-1")})),r.forEach((function(t){m(void 0!==t[w]),S(t,"tabindex",t[w]),t[w]=void 0}))}(n.element),n.element.removeAttribute("aria-modal")}));break;case 1:(i=ct(this.element)).setAttribute("step","tap");var r=this.co.hasCapability("swipe")?"75":"81";i.querySelector(".i-amphtml-story-education-navigation-progress").setAttribute("i-amphtml-i18n-text-content",r),i.querySelector(".i-amphtml-story-education-navigation-instructions").setAttribute("i-amphtml-i18n-text-content","76"),i.querySelector(".i-amphtml-story-education-navigation-button").setAttribute("i-amphtml-i18n-text-content","77"),this.rpt(i);break;case 2:(i=ct(this.element)).setAttribute("step","swipe"),i.querySelector(".i-amphtml-story-education-navigation-progress").setAttribute("i-amphtml-i18n-text-content","78"),i.querySelector(".i-amphtml-story-education-navigation-instructions").setAttribute("i-amphtml-i18n-text-content","79"),i.querySelector(".i-amphtml-story-education-navigation-button").setAttribute("i-amphtml-i18n-text-content","80"),this.rpt(i);break;default:(_.dev||(_.dev=function(t,i){throw new Error("failed to call initLogConstructor")}())).error("amp-story-education","Unknown state %s.",t)}},u.rpt=function(t){var i=this;null===this.ipt&&(this.ipt=!!this.bJ.get(22)),this.bJ.dispatch(23,!0),this.bJ.dispatch(15,!0),function(t,i){var n=F(i),r=P(f(i),"vsync"),o=[];t.querySelectorAll("[i-amphtml-i18n-aria-label]").forEach((function(t){o.push(n.getLocalizedStringAsync(t.getAttribute("i-amphtml-i18n-aria-label")).then((function(i){return t.setAttribute("aria-label",i)}))),t.removeAttribute("i-amphtml-i18n-aria-label")})),t.querySelectorAll("[i-amphtml-i18n-text-content]").forEach((function(i){o.push(n.getLocalizedStringAsync(i.getAttribute("i-amphtml-i18n-text-content")).then((function(n){return t.isConnected?r.mutatePromise((function(){i.textContent=n})):i.textContent=n}))),i.removeAttribute("i-amphtml-i18n-text-content")})),Promise.all(o)}(t,this.tpt),this.mutateElement((function(){v(i.tpt),j(i.element,!0),j(i.tpt,!0),i.tpt.appendChild(t),i.element.hasAttribute("aria-modal")||(function(t){m(x.every((function(i){return i.element!==t}))),m(y(t));var i=function(t){for(var i=[],n=k(t),r=function(t){var r=n[t];if(!r.parentNode)return"continue";e(r.parentNode.children).filter((function(t){return t!=r})).forEach((function(t){return i.push(t)}))},o=0;o<n.length;o++)r(o);return i}(t),n=k(t).filter(c),r=function(t){for(var i=[],n=t;n;){var r=g(n),o=r.querySelectorAll(["a[href]","area[href]","button","details summary","iframe","input","select","textarea","[contenteditable]","[draggable]","[tabindex]"].join(","));Array.prototype.push.apply(i,o),n=r.host}return i}(t),o=r.filter((function(i){return t.contains(i)&&void 0!==i[w]})),a=r.filter((function(i){return!t.contains(i)&&void 0===i[w]})),p=i.concat(n).map((function(t){return{element:t,prevValue:t.getAttribute("aria-hidden")}}));n.forEach((function(t){return t.removeAttribute("aria-hidden")})),i.forEach((function(t){return t.setAttribute("aria-hidden","true")})),a.forEach((function(t){t[w]=t.getAttribute("tabindex"),t.setAttribute("tabindex","-1")})),o.forEach((function(t){m(void 0!==t[w]),S(t,"tabindex",t[w])})),x.push({element:t,hiddenElementInfos:p,focusableExternalElements:a,focusableInternalElements:o})}(i.element),i.element.setAttribute("aria-modal","true"))}))},u.npt=function(t,i){var n=this;this.getAmpDoc().whenFirstVisible().then((function(){n.co.sendMessageAwaitResponse("canShowScreens",{"screens":[{"screen":t}]}).then((function(t){t&&t.screens&&t.screens[0]&&t.screens[0].show&&n.PV(i)}))}))},s}(t.BaseElement);t.registerElement("amp-story-education",mt,'@import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap");:host{all:initial!important;color:initial!important}@font-face{font-family:Open Sans-fallback;size-adjust:105.44%;src:local("Arial")}amp-story-education{position:fixed!important;height:100%!important;width:100%!important;pointer-events:none!important;z-index:9999999!important}.i-amphtml-story-education,.i-amphtml-story-education *{box-sizing:border-box!important}.i-amphtml-story-education{height:100%!important;width:100%!important;background:rgba(0,0,0,0.8)!important;color:#fff!important;font-family:Open Sans,Open Sans-fallback,sans-serif!important;line-height:1.5em!important;font-weight:400!important;pointer-events:auto!important;opacity:1!important;text-rendering:geometricPrecision!important;transition:opacity 225ms cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-education[hidden]{display:block!important;opacity:0!important;visibility:hidden!important}.i-amphtml-story-education-navigation{height:100%!important;width:100%!important;padding:48px!important;-ms-flex-direction:column!important;flex-direction:column!important}.i-amphtml-story-education-navigation,.i-amphtml-story-education-navigation-gesture{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-education-navigation-gesture{position:relative!important;height:60px!important;width:60px!important;margin-bottom:60px!important}[step=swipe] .i-amphtml-story-education-navigation-gesture{width:140px!important}.i-amphtml-story-education-navigation-gesture-outer{position:absolute!important;height:60px!important;border-radius:60px!important;border:4px solid #fff!important;animation:i-amphtml-tap-outer 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important;will-change:left,opacity!important}[step=tap] .i-amphtml-story-education-navigation-gesture-outer{width:100%!important}[step=swipe] .i-amphtml-story-education-navigation-gesture-outer{animation:i-amphtml-swipe-outer 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}[dir=rtl] [step=swipe] .i-amphtml-story-education-navigation-gesture-outer{animation:i-amphtml-swipe-outer-rtl 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}.i-amphtml-story-education-navigation-gesture-inner{position:absolute!important;height:30px!important;width:30px!important;background:#fff;border-radius:50%!important;animation:i-amphtml-tap-inner 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important;will-change:opacity!important}[step=swipe] .i-amphtml-story-education-navigation-gesture-inner{animation:i-amphtml-swipe-inner 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}[dir=rtl] [step=swipe] .i-amphtml-story-education-navigation-gesture-inner{animation:i-amphtml-swipe-inner-rtl 1.6s cubic-bezier(0.4,0,0.2,1) 0.5s infinite backwards!important}.i-amphtml-story-education-navigation-progress{height:24px!important;padding:5px 15px!important;margin-bottom:16px!important;background:hsla(0,0%,100%,0.25)!important;border-radius:24px!important;font-size:14px!important;font-weight:700!important;line-height:14px!important}.i-amphtml-story-education-navigation-instructions{max-width:300px!important;font-size:20px!important}.i-amphtml-story-education-navigation-button{position:absolute!important;bottom:48px!important;height:48px!important;min-width:120px!important;background:none!important;border:2px solid #fff!important;border-radius:48px!important;color:#fff!important;font-size:16px!important;font-weight:600!important;line-height:43px!important}@keyframes i-amphtml-tap-outer{0%{transform:scale(1)}24%,26%{transform:scale(0.8)}40%{transform:scale(1.1)}55%,to{transform:scale(1)}}@keyframes i-amphtml-tap-inner{0%{opacity:0;transform:scale(1)}24%,26%{opacity:0.5;transform:scale(1)}40%{opacity:0.5;transform:scale(2.2)}55%,to{opacity:0.0;transform:scale(2.6)}}@keyframes i-amphtml-swipe-outer{0%,4%{width:60px;opacity:0;left:80px}40%{width:100%;opacity:1;left:0}62%{width:60px;left:0}80%,to{width:60px;opacity:0;left:0}}@keyframes i-amphtml-swipe-outer-rtl{0%,4%{width:60px;opacity:0;right:80px}40%{width:100%;opacity:1;right:0}62%{width:60px;right:0}80%,to{width:60px;opacity:0;right:0}}@keyframes i-amphtml-swipe-inner{0%{opacity:0;left:95px}4%{opacity:0.3;left:95px}40%{opacity:0.5;left:15px}80%,90%{opacity:0;left:15px}to{opacity:0;left:95px}}@keyframes i-amphtml-swipe-inner-rtl{0%{opacity:0;right:95px}4%{opacity:0.3;right:95px}40%{opacity:0.5;right:15px}80%,90%{opacity:0;right:15px}to{opacity:0;right:95px}}\n/*# sourceURL=/extensions/amp-story-education/0.1/amp-story-education.css*/')}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-story-education-0.1.js.map