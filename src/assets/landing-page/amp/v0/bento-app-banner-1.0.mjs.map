{"version":3,"file":"bento-app-banner-1.0.mjs","mappings":"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","names":["PreactBaseElement","obj","key","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","hasOwnProperty","hasOwn_","toString","toString_","prototype","root","selector","querySelector","distribute","replace","prependSelectorsWith","el","matcher","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","call","createElement","useEffect","ContainWrapper","useCallback","logger","info","console","warn","error","platformUtils","isAndroid","test","self","navigator","userAgent","isIos","isSafari","this","isChrome","isEdge","isFirefox","isOpera","isWebKit","isWindows","isStandalone","standalone","matchMedia","isBot","getMajorVersion","getIosMajorVersion","evalMajorVersion_","expr","index","res","match","parseInt","getIosVersionString","currentIosVersion","Number","split","INVALID_PROTOCOLS","urlUtils","getAnchor_","anchor_","document","parse","url","anchor","href","URL","isProtocolValid","parsed","includes","protocol","assertHttpsUrl","sourceName","isSecureUrl","Error","hostname","_parsed$hostname","endsWith","docInfo","getMetaByName","metaName","metas","head","querySelectorAll","from","find","meta","getAttribute","sourceUrl","location","canonicalUrl","rootNode","AMP","_rootNode$AMP","canonicalTag","xhrUtils","fetchJson","init","fetch","then","json","response","ok","statusText","env","AMP_CONFIG","cdnProxyRegex","RegExp","name","origin","metaEl","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","win","opt_features","open","e","levelFunc","opt_suffix","callLogConstructor","string","start","indexOf","manifestLink","manifestHref","undefined","promise","parseManifest","openOrInstall","manifest","installAppUrl","openInAppUrl","setTimeout","static","top","referrer","language","devicePixelRatio","sendBeacon","bind","XMLHttpRequest","Image","getTop","window","assign","openWindowDialog","manifestJson","apps","playApp","a","appId","parsedUrl","cleanProtocol","host","pathname","getAndroidIntentForUrl","metaContent","config","reduce","result","keyValue","parseKeyValues","openUrl","parseIOSMetaContent","children","dismissButtonAriaLabel","onDismiss","onInstall","_ref","rest","excluded","sourceKeys","_objectWithoutPropertiesLoose","bannerRef","useRef","button","current","slot","nodes","assignedElements","node","child","scopedQuerySelector","querySelectorInSlot","addEventListener","removeEventListener","_objectSpread2","class","ref","onClick","props","appInfo","useMemo","getIOSAppInfo","AppBanner","getAndroidAppInfo","BaseElement","id","isDismissed","setDismissed","defaultValue","setValue","useState","localStorage","_self$localStorage","getItem","JSON","err","newValue","stringify","setItem","useLocalStorage","AppBannerForCurrentPlatform","AppBannerIOS","AppBannerAndroid","passthrough","attr","defineBentoElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["extensions/amp-app-banner/1.0/base-element.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/object/index.js","src/core/dom/query.js","src/core/dom/css-selectors.js","extensions/amp-app-banner/1.0/component.js","src/preact/hooks/useLocalStorage.ts","src/preact/logger.js","src/preact/utils/platform.js","src/core/types/string/url.js","src/preact/utils/url.js","src/preact/utils/docInfo.js","src/preact/utils/xhr.js","src/config.js","src/utils/log.js","src/open-window-dialog.js","src/core/types/string/index.js","extensions/amp-app-banner/1.0/utils/android.js","src/core/window/interface.js","extensions/amp-app-banner/1.0/utils/ios.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","extensions/amp-app-banner/1.0/build/bento-app-banner.js"]}
