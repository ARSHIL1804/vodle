{"version":3,"file":"amp-anim-0.1.mjs","mappings":"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","names":["isArray","Array","arr","len","length","i","arr2","hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","node","ownerDocument","defaultView","ioCallback","win","opts","needsRootBounds","rootMargin","threshold","root","parent","isIframed","document","undefined","IntersectionObserver","propertyNameCache","viewportObservers","WeakMap","viewportCallbacks","entries","seen","Set","entry","target","has","add","callbacks","get","k","callback","attributes","sourceElement","updateElement","opt_removeMissingAttrs","arrayOrSingleItem","_step","o","allowArrayLike","it","Symbol","iterator","call","next","bind","minLen","arrayLikeToArray","n","slice","constructor","name","from","test","unsupportedIterableToArray","done","value","TypeError","_createForOfIteratorHelperLoose","attr","val","getAttribute","setAttribute","removeAttribute","vendorPrefixes","element","property","opt_units","opt_bypassCache","propertyName","style","camelCase","startsWith","create","titleCase","charAt","toUpperCase","camelCaseToTitleCase","prefixedPropertyName","getVendorJsPropertyName_","getVendorJsPropertyName","styleValue","setProperty","hyphenated","replace","match","toLowerCase","some","prefix","camelCaseToHyphenCase","opt_display","hasAttribute","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","head","location","origin","metaEl","querySelector","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","BUILD_ATTRIBUTES","LAYOUT_ATTRIBUTES","SRC_PLACEHOLDER","AmpAnim","AMP","BaseElement","super","this","img_","unobserveIntersections_","isLayoutSupported","layout","isLayoutSizeDefined","buildCallback","fromEl","toEl","Image","propagateAttributes","classList","setStyle","error","toggle","getPlaceholder","appendChild","isRelayoutNeeded","layoutCallback","img","srcset","matches","exec","srcseturl","guaranteeSrcForSrcsetUnsupportedBrowsers","loadPromise","then","getWin","viewportObserver","set","createViewportObserver","push","observe","array","item","index","indexOf","splice","removeItem","unobserve","delete","unobserveIntersections","observeIntersections","isIntersecting","viewportCallback_","firstLayoutCompleted","unlayoutCallback","src","inViewport","togglePlaceholder","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/types/array.js","node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","src/core/types/object/index.js","src/core/window/index.js","src/core/dom/layout/viewport-observer.js","src/core/dom/index.js","src/core/dom/style.js","src/core/dom/propagate-attributes.js","node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelperLoose.js","node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","src/config.js","src/utils/log.js","extensions/amp-anim/0.1/amp-anim.js","src/core/dom/layout/index.js","src/core/dom/img.js"]}
