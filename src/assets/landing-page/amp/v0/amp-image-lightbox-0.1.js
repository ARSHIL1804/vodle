;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-image-lightbox",ev:"0.1",l:!0,f:function(t,i){!function(){function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t,i){return(n=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function s(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&n(t,i)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,n){if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return i(t)}function u(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,s=h(t);if(i){var r=h(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return e(this,n)}}function o(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,s=new Array(i);n<i;n++)s[n]=t[n];return s}function a(t,i){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return o(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f;function c(){return f||(f=Promise.resolve(void 0))}var l=function(){var t=this;this.promise=new Promise((function(i,n){t.resolve=i,t.reject=n}))},v=Array.isArray;function m(t,i){for(var n=[],s=0,h=0;h<t.length;h++){var r=t[h];i(r,h,t)?n.push(r):(s<h&&(t[s]=r),s++)}return s<t.length&&(t.length=s),n}function d(t){return"string"==typeof t}var p=Object.prototype;function b(t,i,n,s){return function(h){return y.solveYValueFromXValue(h,0,0,t,i,n,s,1,1)}}p.hasOwnProperty,p.toString;var g,y=function(){function t(){}return t.solveYValueFromXValue=function(i,n,s,h,r,e,u,o,a){return t.vf(t.df(i,n,h,e,o),s,r,u,a)},t.df=function(i,n,s,h,r){var e=1e-6,u=(i-n)/(r-n);if(u<=0)return 0;if(u>=1)return 1;for(var o=0,a=1,f=0,c=0;c<8;c++){f=t.mf(u,n,s,h,r);var l=(t.mf(u+e,n,s,h,r)-f)/e;if(Math.abs(f-i)<e)return u;if(Math.abs(l)<e)break;f<i?o=u:a=u,u-=(f-i)/l}for(var v=0;Math.abs(f-i)>e&&v<8;v++)f<i?(o=u,u=(u+a)/2):(a=u,u=(u+o)/2),f=t.mf(u,n,s,h,r);return u},t.mf=function(i,n,s,h,r){if(0==i)return n;if(1==i)return r;var e=t.pf(n,s,i),u=t.pf(s,h,i),o=t.pf(h,r,i);return e=t.pf(e,u,i),u=t.pf(u,o,i),t.pf(e,u,i)},t.vf=function(i,n,s,h,r){if(0==i)return n;if(1==i)return r;var e=t.pf(n,s,i),u=t.pf(s,h,i),o=t.pf(h,r,i);return e=t.pf(e,u,i),u=t.pf(u,o,i),t.pf(e,u,i)},t.pf=function(t,i,n){return t+n*(i-t)},t}(),w={LINEAR:function(t){return t},EASE:function(t){return y.solveYValueFromXValue(t,0,0,.25,.1,.25,1,1,1)},EASE_IN:function(t){return y.solveYValueFromXValue(t,0,0,.42,0,1,1,1,1)},EASE_OUT:function(t){return y.solveYValueFromXValue(t,0,0,0,0,.58,1,1,1)},EASE_IN_OUT:function(t){return y.solveYValueFromXValue(t,0,0,.42,0,.58,1,1,1)}},M={"linear":w.LINEAR,"ease":w.EASE,"ease-in":w.EASE_IN,"ease-out":w.EASE_OUT,"ease-in-out":w.EASE_IN_OUT};function x(t){if(!t)return null;if(d(t)){if(-1!=(t=t).indexOf("cubic-bezier")){var i=t.match(/cubic-bezier\((.+)\)/);if(i){var n=i[1].split(",").map(parseFloat);if(4==n.length){for(var s=0;s<4;s++)if(isNaN(n[s]))return null;return b(n[0],n[1],n[2],n[3])}}return null}return M[t]}return t}function E(t){return 1==(null==(i=t)?void 0:i.nodeType)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var i}function A(t,i,n,s,h,r,e,u,o,a,f){return t}function D(t,i,n,s,h,r,e,u,o,a,f){return function(t,i){var n,s,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(i)return i;t&&-1==h.indexOf(t)&&(h+=t);for(var r=3,e=h.split("%s"),u=e.shift(),o=[u];e.length;){var a=arguments[r++],f=e.shift();u+=E(a)+f,o.push(a,f.trim())}var c=new Error(u);throw c.messageArray=m(o,(function(t){return""!==t})),null===(n=(s=self).__AMP_REPORT_ERROR)||void 0===n||n.call(s,c),c}("​​​",t,i,n,s,h,r,e,u,o,a,f)}function O(t){return(t.ownerDocument||t).defaultView}function S(t,i){return t.replace(/^|,/g,"$&".concat(i," "))}function j(t){A(/^[\w-]+$/.test(t))}function k(t,i,n,s){return{left:t,top:i,width:n,height:s,bottom:i+s,right:t+n,x:t,y:i}}function z(t){return k(Number(t.left),Number(t.top),Number(t.width),Number(t.height))}function I(t,i,n,s){for(var h,r,e=a(v(h=t)?h:[h],!0);!(r=e()).done;){var u=r.value,o=i.getAttribute(u);null!==o?n.setAttribute(u,o):s&&n.removeAttribute(u)}}var Y,R=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g,X=function(){function t(t){D(t.length>0,"Srcset must have at least one source"),this.ox=t;for(var i=!1,n=!1,s=0;s<t.length;s++){var h=t[s];i=i||!!h.width,n=n||!!h.dpr}D(!(i===n),"Srcset must have width or dpr sources, but not both"),t.sort(i?N:_),this.ux=i}var i=t.prototype;return i.select=function(t,i){var n;return A(t),A(i),n=this.ux?this.sx(t*i):this.lx(i),this.ox[n].url},i.sx=function(t){for(var i=this.ox,n=0,s=1/0,h=1/0,r=0;r<i.length;r++){var e,u=null!==(e=i[r].width)&&void 0!==e?e:0,o=Math.abs(u-t);if(!(o<=1.1*s||t/h>1.2))break;n=r,s=o,h=u}return n},i.lx=function(t){for(var i=this.ox,n=0,s=1/0,h=0;h<i.length;h++){var r=Math.abs(i[h].dpr-t);if(!(r<=s))break;n=h,s=r}return n},i.getUrls=function(){return this.ox.map((function(t){return t.url}))},i.stringify=function(t){for(var i=[],n=this.ox,s=0;s<n.length;s++){var h=n[s],r=h.url;t&&(r=t(r)),this.ux?r+=" ".concat(h.width,"w"):r+=" ".concat(h.dpr,"x"),i.push(r)}return i.join(", ")},t}();function N(t,i){return D(t.width!=i.width,"Duplicate width: %s",t.width),t.width-i.width}function _(t,i){return D(t.dpr!=i.dpr,"Duplicate dpr: %s",t.dpr),t.dpr-i.dpr}function C(t){var i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;var n=t.message,s=t.stack,h=new Error(n);for(var r in t)h[r]=t[r];return h.stack=s,h}function T(t){for(var i,n=null,s="",h=a(arguments,!0);!(i=h()).done;){var r=i.value;r instanceof Error&&!n?n=C(r):(s&&(s+=" "),s+=r)}return n?s&&(n.message=s+": "+n.message):n=new Error(s),n}function U(t){var i,n;null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t)}var Z=["Webkit","webkit","Moz","moz","ms","O","o"];function L(t,i,n,s,h){var r=function(t,i,n){if(i.startsWith("--"))return i;var s;Y||(s=Object.create(null),Y=s);var h=Y[i];if(!h||n){if(h=i,void 0===t[i]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),e=function(t,i){for(var n=0;n<Z.length;n++){var s=Z[n]+i;if(void 0!==t[s])return s}return""}(t,r);void 0!==t[e]&&(h=e)}n||(Y[i]=h)}return h}(t.style,i,h);if(r){var e,u=s?n+s:n;t.style.setProperty((e=r.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),Z.some((function(t){return e.startsWith(t+"-")}))?"-".concat(e):e),u)}}function P(t,i){for(var n in i)L(t,n,i[n])}function $(t){return"".concat(t,"px")}function B(t,i){return"number"==typeof t?i(t):t}function F(t,i){return null==i?"translate(".concat(B(t,$),")"):"translate(".concat(B(t,$),", ").concat(B(i,$),")")}function G(t){return"scale(".concat(t,")")}function H(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return function(n,s){return t.map((function(t){return t(n,s)})).filter(d).join(i)}}function V(t,i){return function(n,s){for(var h in i)L(t,("display"===(r=h)&&function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];var h=T.apply(null,n);h.name=t||h.name,U(h)}("STYLE","`display` style detected. You must use toggle instead."),r),i[h](n,s));var r}}function W(t,i){return function(n){return t+(i-t)*n}}function q(t,i){return function(n){return F(t(n),null==i?void 0:i(n))}}function J(t){return function(i){return G(t(i))}}function K(t,i,n){return A(i<=n),Math.min(Math.max(t,i),n)}function Q(t,i,n,s){return A(i<=n),K(t,i-s,n+s)}function tt(t,i){return Math.sqrt(t*t+i*i)}var it=function(){function t(){}return t.getTop=function(t){return t.top},t.getLocation=function(t){return t.location},t.getDocumentReferrer=function(t){return t.document.referrer},t.getHostname=function(t){return t.location.hostname},t.getUserAgent=function(t){return t.navigator.userAgent},t.getUserLanguage=function(t){return t.navigator.userLanguage||t.navigator.language},t.getDevicePixelRatio=function(){return self.devicePixelRatio||1},t.getSendBeacon=function(t){if(t.navigator.sendBeacon)return t.navigator.sendBeacon.bind(t.navigator)},t.getXMLHttpRequest=function(t){return t.XMLHttpRequest},t.getImage=function(t){return t.Image},t}(),nt=self.AMP_CONFIG||{},st=("string"==typeof nt.thirdPartyFrameRegex?new RegExp(nt.thirdPartyFrameRegex):nt.thirdPartyFrameRegex,("string"==typeof nt.cdnProxyRegex?new RegExp(nt.cdnProxyRegex):nt.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function ht(t){if(!self.document||!self.document.head)return null;if(self.location&&st.test(self.location.origin))return null;var i=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return i&&i.getAttribute("content")||null}nt.thirdPartyUrl,nt.thirdPartyFrameHost,nt.cdnUrl||ht("runtime-host"),nt.errorReportingUrl,nt.betaErrorReportingUrl,nt.localDev,nt.geoApiUrl||ht("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var rt=self.__AMP_LOG;function et(t,i){throw new Error("failed to call initLogConstructor")}function ut(t){return et()}function ot(){return rt.dev||(rt.dev=et())}function at(t,i,n,s,h,r,e,u,o,a,f){return t}function ft(t,i){return vt(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function ct(t){return t.nodeType?(i=O(t),ft(i,"ampdoc")).getAmpDoc(t):t;var i}function lt(t){var i=ct(t);return i.isSingleDoc()?i.win:i}function vt(t,i){at(mt(t,i));var n=function(t){var i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}(t)[i];return n.obj||(at(n.ctor),at(n.context),n.obj=new n.ctor(n.context),at(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function mt(t,i){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}var dt,pt=function(t){return vt(t,"timer")},bt=function(t){return ft(t,"vsync")},gt="Animation",yt=function(){},wt=function(){function t(t,i){this.mn=t,this.Iu=i||bt(self),this.bf=null,this.gf=[]}t.animate=function(i,n,s,h){return new t(i).setCurve(h).add(0,n,1).start(s)};var i=t.prototype;return i.setCurve=function(t){return t&&(this.bf=x(t)),this},i.add=function(t,i,n,s){return this.gf.push({delay:t,func:i,duration:n,curve:x(s)}),this},i.start=function(t){return new Mt(this.Iu,this.mn,this.gf,this.bf,t)},t}(),Mt=function(){function t(t,i,n,s,h){this.Iu=t,this.mn=i,this.gf=[];for(var r=0;r<n.length;r++){var e=n[r];this.gf.push({delay:e.delay,func:e.func,duration:e.duration,curve:e.curve||s,started:!1,completed:!1})}this.yf=h,this.oc=Date.now(),this.Vn=!0,this.Pi={};var u=new l;this.wf=u.promise,this.Dn=u.resolve,this.Af=u.reject,this.Ef=this.Iu.createAnimTask(this.mn,{mutate:this.xf.bind(this)}),this.Iu.canAnimate(this.mn)?this.Ef(this.Pi):(ot().warn(gt,"cannot animate"),this.Of(!1,0))}var i=t.prototype;return i.then=function(t,i){return t||i?this.wf.then(t,i):this.wf},i.thenAlways=function(t){var i=t||yt;return this.then(i,i)},i.halt=function(t){this.Of(!1,t||0)},i.Of=function(t,i){if(this.Vn){if(this.Vn=!1,0!=i){this.gf.length>1&&this.gf.sort((function(t,i){return t.delay+t.duration-(i.delay+i.duration)}));try{if(i>0)for(var n=0;n<this.gf.length;n++)this.gf[n].func(1,!0);else for(var s=this.gf.length-1;s>=0;s--)this.gf[s].func(0,!1)}catch(i){ot().error(gt,"completion failed: "+i,i),t=!1}}t?this.Dn():this.Af()}},i.xf=function(t){if(this.Vn){for(var i=Date.now(),n=Math.min((i-this.oc)/this.yf,1),s=0;s<this.gf.length;s++){var h=this.gf[s];!h.started&&n>=h.delay&&(h.started=!0)}for(var r=0;r<this.gf.length;r++){var e=this.gf[r];e.started&&!e.completed&&this.Tf(e,n)}1==n?this.Of(!0,0):this.Iu.canAnimate(this.mn)?this.Ef(this.Pi):(ot().warn(gt,"cancel animation"),this.Of(!1,0))}},i.Tf=function(t,i){var n,s;if(t.duration>0){if(s=n=Math.min((i-t.delay)/t.duration,1),t.curve&&1!=s)try{s=t.curve(n)}catch(t){return ot().error(gt,"step curve failed: "+t,t),void this.Of(!1,0)}}else n=1,s=1;1==n&&(t.completed=!0);try{t.func(s,t.completed)}catch(t){return ot().error(gt,"step mutate failed: "+t,t),void this.Of(!1,0)}},t}();function xt(t){return!!(t.complete||"complete"==t.readyState||function(t){return"AUDIO"===t.tagName||"VIDEO"===t.tagName}(t)&&t.readyState>0||t.document&&"complete"==t.document.readyState)}var Et=function(){function t(){this.vt=null}var i=t.prototype;return i.add=function(t){var i=this;return this.vt||(this.vt=[]),this.vt.push(t),function(){i.remove(t)}},i.remove=function(t){var i,n,s;this.vt&&(n=t,-1!=(s=(i=this.vt).indexOf(n))&&i.splice(s,1))},i.removeAll=function(){this.vt&&(this.vt.length=0)},i.fire=function(t){if(this.vt)for(var i,n=a(this.vt.slice(),!0);!(i=n()).done;)(0,i.value)(t)},i.getHandlerCount=function(){var t,i;return null!==(t=null===(i=this.vt)||void 0===i?void 0:i.length)&&void 0!==t?t:0},t}(),At=function(){function t(t,i,n){var s=this;this.js=pt(t),this.Ds=i,this.zs=n||0,this.Ls=-1,this.Us=0,this.Vn=!1,this.Hs=function(){s.Gs()}}var i=t.prototype;return i.isPending=function(){return-1!=this.Ls},i.schedule=function(t){var i=t||this.zs;this.Vn&&i<10&&(i=10);var n=Date.now()+i;return(!this.isPending()||n-this.Us<-10)&&(this.cancel(),this.Us=n,this.Ls=this.js.delay(this.Hs,i),!0)},i.Gs=function(){this.Ls=-1,this.Us=0,this.Vn=!0,this.Ds(),this.Vn=!1},i.cancel=function(){this.isPending()&&(this.js.cancel(this.Ls),this.Ls=-1)},t}(),Dt="__AMP_Gestures",Ot=function(t,i,n,s){this.type=t,this.data=i,this.time=n,this.event=s},St=function(){function t(t,i,n){this.Gn=t,this.tM=[],this.tg=[],this.wi=[],this.iM=[],this.nM=null,this.rM=i,this.sM=n,this.eM=!1,this.Gs=new At(O(t),this.el.bind(this)),this.hM=new Et,this.oM=Object.create(null),this.aM=this.Km.bind(this),this.uM=this.zv.bind(this),this.fM=this.Qm.bind(this),this.lM=this.ug.bind(this);var s=function(t){if(void 0!==dt)return dt;dt=!1;try{var i={get passive(){return dt=!0,!1}};t.addEventListener("test-options",null,i),t.removeEventListener("test-options",null,i)}catch(t){}return dt}(t.ownerDocument.defaultView);this.Gn.addEventListener("touchstart",this.aM,!!s&&{passive:!0}),this.Gn.addEventListener("touchend",this.uM),this.Gn.addEventListener("touchmove",this.fM,!!s&&{passive:!0}),this.Gn.addEventListener("touchcancel",this.lM),this.cM=!1}t.get=function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=i[Dt];return h||(h=new t(i,n,s),i[Dt]=h),h};var i=t.prototype;return i.cleanup=function(){this.Gn.removeEventListener("touchstart",this.aM),this.Gn.removeEventListener("touchend",this.uM),this.Gn.removeEventListener("touchmove",this.fM),this.Gn.removeEventListener("touchcancel",this.lM),delete this.Gn[Dt],this.Gs.cancel()},i.onGesture=function(t,i){var n=new t(this),s=n.getType(),h=this.oM[s];return h||(this.tM.push(n),h=new Et,this.oM[s]=h),h.add(i)},i.removeGesture=function(t){var i=new t(this).getType(),n=this.oM[i];if(n){n.removeAll();var s=function(t,n){for(var s=0;s<t.length;s++)if(t[s].getType()==i)return s;return-1}(this.tM);return!(s<0||(this.tM.splice(s,1),this.wi.splice(s,1),this.iM.splice(s,1),this.tg.splice(s,1),delete this.oM[i],0))}return!1},i.onPointerDown=function(t){return this.hM.add(t)},i.Km=function(t){var i=Date.now();this.eM=!1,this.hM.fire(t);for(var n=0;n<this.tM.length;n++)this.wi[n]||(this.iM[n]&&this.iM[n]<i&&this.og(n),this.tM[n].onTouchStart(t)&&this.hg(n));this.mM(t)},i.Qm=function(t){for(var i=Date.now(),n=0;n<this.tM.length;n++)this.tg[n]&&(this.iM[n]&&this.iM[n]<i?this.og(n):this.tM[n].onTouchMove(t)||this.og(n));this.mM(t)},i.zv=function(t){for(var i=Date.now(),n=0;n<this.tM.length;n++)if(this.tg[n])if(this.iM[n]&&this.iM[n]<i)this.og(n);else{this.tM[n].onTouchEnd(t);var s=!this.iM[n],h=this.iM[n]<i;this.nM==this.tM[n]||!s&&!h||this.og(n)}this.mM(t)},i.ug=function(t){for(var i=0;i<this.tM.length;i++)this.pM(i);this.mM(t)},i.Vm=function(t,i){if(this.nM)t.acceptCancel();else{for(var n=Date.now(),s=0;s<this.tM.length;s++)this.tM[s]==t&&(this.wi[s]=n+i,this.iM[s]=0);this.cM=!0}},i.vM=function(t,i){if(this.nM)t.acceptCancel();else for(var n=Date.now(),s=0;s<this.tM.length;s++)this.tM[s]==t&&(this.iM[s]=n+i)},i.dM=function(t){this.nM==t&&(this.nM=null,this.eM=!0)},i.gM=function(t,i,n){at(this.nM==t);var s=this.oM[t.getType()];s&&s.fire(new Ot(t.getType(),i,Date.now(),n))},i.mM=function(t){var i=!!this.nM||this.eM;if(this.eM=!1,!i)for(var n=Date.now(),s=0;s<this.tM.length;s++)if(this.wi[s]||this.iM[s]&&this.iM[s]>=n){i=!0;break}i?(t.stopPropagation(),this.rM||t.preventDefault()):this.sM&&t.stopPropagation(),this.cM&&(this.cM=!1,this.el())},i.el=function(){for(var t=Date.now(),i=-1,n=0;n<this.tM.length;n++)this.wi[n]?(-1==i||this.wi[n]>this.wi[i])&&(i=n):this.iM[n]&&this.iM[n]<t&&this.og(n);if(-1!=i){for(var s=0,h=0;h<this.tM.length;h++)!this.wi[h]&&this.tg[h]&&(s=Math.max(s,this.iM[h]-t));s<2?this.bM(i):this.Gs.schedule(s)}},i.bM=function(t){for(var i=this.tM[t],n=0;n<this.tM.length;n++)n!=t&&this.pM(n);this.wi[t]=0,this.iM[t]=0,this.nM=i,i.acceptStart()},i.hg=function(t){this.tg[t]=!0,this.iM[t]=0},i.og=function(t){this.tg[t]=!1,this.iM[t]=0,this.wi[t]||this.tM[t].acceptCancel()},i.pM=function(t){this.wi[t]=0,this.og(t)},t}(),jt=function(){function t(t,i){this.wM=t,this.Sg=i}var i=t.prototype;return i.getType=function(){return this.wM},i.signalReady=function(t){this.Sg.Vm(this,t)},i.signalPending=function(t){this.Sg.vM(this,t)},i.signalEnd=function(){this.Sg.dM(this)},i.signalEmit=function(t,i){this.Sg.gM(this,t,i)},i.acceptStart=function(){},i.acceptCancel=function(){},i.onTouchStart=function(t){return!1},i.onTouchMove=function(t){return!1},i.onTouchEnd=function(t){},t}(),kt=function(){},zt=.02,It=Math.round(-16.67/Math.log(.95));function Yt(t,i,n){i<1&&(i=1);var s=t/i,h=.5+Math.min(i/33.34,.5);return s*h+n*(1-h)}function Rt(t,i,n,s,h,r,e){return new Xt(t,i,n,s,h,r,e).start()}var Xt=function(){function t(t,i,n,s,h,r,e){this.Iu=e||bt(self),this.mn=t,this.Wn=r,this.jM=i,this.AM=n,this.ND=s,this.GD=h,this.IM=0,this.OM=0;var u=new l;this.wf=u.promise,this.Dn=u.resolve,this.Af=u.reject,this.FD=!1}var i=t.prototype;return i.start=function(){return this.FD=!0,Math.abs(this.ND)<=zt&&Math.abs(this.GD)<=zt?(this.ZD(),this.$D(!0)):this.VD(),this},i.halt=function(){this.FD&&this.$D(!1)},i.then=function(t,i){return t||i?this.wf.then(t,i):this.wf},i.thenAlways=function(t){var i=t||kt;return this.then(i,i)},i.VD=function(){this.IM=this.ND,this.OM=this.GD;var t=this.qD.bind(this),i=this.$D.bind(this,!0);return this.Iu.runAnimMutateSeries(this.mn,t,5e3).then(i,i)},i.qD=function(t,i){if(!this.FD)return!1;if(this.jM+=i*this.IM,this.AM+=i*this.OM,!this.ZD())return!1;var n=Math.exp(-t/It);return this.IM=this.ND*n,this.OM=this.GD*n,Math.abs(this.IM)>zt||Math.abs(this.OM)>zt},i.$D=function(t){this.FD&&(this.FD=!1,this.ZD(),t?this.Dn():this.Af())},i.ZD=function(){return this.Wn(this.jM,this.AM)},t}(),Nt=function(t){s(n,t);var i=u(n);function n(t){var n;return(n=i.call(this,"tap",t)).MM=0,n.kM=0,n.jM=0,n.AM=0,n.h=null,n}var h=n.prototype;return h.onTouchStart=function(t){var i=t.touches;return this.h=t.target,!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,0))},h.onTouchMove=function(t){var i=t.changedTouches||t.touches;if(i&&1==i.length){this.jM=i[0].clientX,this.AM=i[0].clientY;var n=Math.abs(this.jM-this.MM)>=8,s=Math.abs(this.AM-this.kM)>=8;if(n||s)return!1}return!0},h.onTouchEnd=function(t){this.signalReady(0)},h.acceptStart=function(){this.signalEmit({clientX:this.jM,clientY:this.AM,target:this.h},null),this.signalEnd()},n}(jt),_t=function(t){s(n,t);var i=u(n);function n(t){var n;return(n=i.call(this,"doubletap",t)).MM=0,n.kM=0,n.jM=0,n.AM=0,n.JD=0,n.KD=null,n}var h=n.prototype;return h.onTouchStart=function(t){if(this.JD>1)return!1;var i=t.touches;return!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,this.jM=i[0].clientX,this.AM=i[0].clientY,0))},h.onTouchMove=function(t){var i=t.touches;if(i&&1==i.length){this.jM=i[0].clientX,this.AM=i[0].clientY;var n=Math.abs(this.jM-this.MM)>=8,s=Math.abs(this.AM-this.kM)>=8;return!n&&!s||(this.acceptCancel(),!1)}return!1},h.onTouchEnd=function(t){this.JD++,this.JD<2?this.signalPending(200):(this.KD=t,this.signalReady(0))},h.acceptStart=function(){this.JD=0,this.signalEmit({clientX:this.jM,clientY:this.AM},this.KD),this.signalEnd()},h.acceptCancel=function(){this.JD=0},n}(jt),Ct=function(t){s(n,t);var i=u(n);function n(t){return i.call(this,"swipe-xy",t,!0,!0)}return n}(function(t){s(n,t);var i=u(n);function n(t,n,s,h){var r;return(r=i.call(this,t,n)).yM=s,r.xM=h,r.nM=!1,r.MM=0,r.kM=0,r.jM=0,r.AM=0,r.DM=0,r.SM=0,r.oc=0,r.EM=0,r.zM=0,r.IM=0,r.OM=0,r}var h=n.prototype;return h.onTouchStart=function(t){var i=t.touches;return!!(this.nM&&i&&i.length>1)||!(!i||1!=i.length)&&(this.oc=Date.now(),this.MM=i[0].clientX,this.kM=i[0].clientY,!0)},h.onTouchMove=function(t){var i=t.touches;if(i&&i.length>=1){var n=i[0],s=n.clientX,h=n.clientY;if(this.jM=s,this.AM=h,this.nM)this.PM(!1,!1,t);else{var r=Math.abs(s-this.MM),e=Math.abs(h-this.kM);if(this.yM&&this.xM)(r>=8||e>=8)&&this.signalReady(-10);else if(this.yM){if(r>=8&&r>e)this.signalReady(-10);else if(e>=8)return!1}else{if(!this.xM)return!1;if(e>=8&&e>r)this.signalReady(-10);else if(r>=8)return!1}}return!0}return!1},h.onTouchEnd=function(t){var i=t.touches;i&&0==i.length&&this.RM(t)},h.acceptStart=function(){this.nM=!0,this.DM=this.MM,this.SM=this.kM,this.zM=this.oc,this.MM=this.jM,this.kM=this.AM,this.PM(!0,!1,null)},h.acceptCancel=function(){this.nM=!1},h.PM=function(t,i,n){this.EM=Date.now();var s=this.EM-this.zM;if(!i&&s>4||i&&s>16){var h=Yt(this.jM-this.DM,s,this.IM),r=Yt(this.AM-this.SM,s,this.OM);(!i||s>32||0!=h||0!=r)&&(this.IM=Math.abs(h)>1e-4?h:0,this.OM=Math.abs(r)>1e-4?r:0),this.DM=this.jM,this.SM=this.AM,this.zM=this.EM}this.signalEmit({first:t,last:i,time:this.EM,deltaX:this.jM-this.MM,deltaY:this.AM-this.kM,startX:this.MM,startY:this.kM,lastX:this.jM,lastY:this.AM,velocityX:this.IM,velocityY:this.OM},n)},h.RM=function(t){this.nM&&(this.nM=!1,this.PM(!1,!0,t),this.signalEnd())},n}(jt)),Tt=function(t){s(n,t);var i=u(n);function n(t){var n;return(n=i.call(this,"tapzoom",t)).nM=!1,n.MM=0,n.kM=0,n.jM=0,n.AM=0,n.JD=0,n.DM=0,n.SM=0,n.EM=0,n.zM=0,n.IM=0,n.OM=0,n}var h=n.prototype;return h.onTouchStart=function(t){if(this.nM)return!1;var i=t.touches;return!(!i||1!=i.length||(this.MM=i[0].clientX,this.kM=i[0].clientY,0))},h.onTouchMove=function(t){var i=t.touches;if(i&&1==i.length){if(this.jM=i[0].clientX,this.AM=i[0].clientY,this.nM)this.PM(!1,!1,t);else{var n=Math.abs(this.jM-this.MM)>=8,s=Math.abs(this.AM-this.kM)>=8;if(n||s){if(0==this.JD)return this.acceptCancel(),!1;this.signalReady(0)}}return!0}return!1},h.onTouchEnd=function(t){this.nM?this.RM(t):(this.JD++,1!=this.JD?this.acceptCancel():this.signalPending(400))},h.acceptStart=function(){this.JD=0,this.nM=!0,this.PM(!0,!1,null)},h.acceptCancel=function(){this.JD=0,this.nM=!1},h.PM=function(t,i,n){this.EM=Date.now(),t?this.IM=this.OM=0:this.EM-this.zM>2&&(this.IM=Yt(this.jM-this.DM,this.EM-this.zM,this.IM),this.OM=Yt(this.AM-this.SM,this.EM-this.zM,this.OM)),this.DM=this.jM,this.SM=this.AM,this.zM=this.EM,this.signalEmit({first:t,last:i,centerClientX:this.MM,centerClientY:this.kM,deltaX:this.jM-this.MM,deltaY:this.AM-this.kM,velocityX:this.IM,velocityY:this.OM},n)},h.RM=function(t){this.nM&&(this.nM=!1,this.PM(!1,!0,t),this.signalEnd())},n}(jt),Ut=new Set(["amp-img","amp-anim","img"]),Zt=["aria-label","aria-describedby","aria-labelledby"],Lt=b(.4,0,.2,1),Pt=b(.4,0,.2,1),$t=b(.4,0,.2,1.4),Bt=function(){function t(t,i,n){this.tY=t,this.win=i,this.Ui=n,this.co=t.element.ownerDocument.createElement("div"),this.co.classList.add("i-amphtml-image-lightbox-viewer"),this.FI=t.element.ownerDocument.createElement("img"),this.FI.classList.add("i-amphtml-image-lightbox-viewer-image"),this.co.appendChild(this.FI),this.WI=null,this.ZI=0,this.$I=0,this.iY=k(0,0,0,0),this.BI=k(0,0,0,0),this.HI=1,this.JI=1,this.KI=1,this.QI=1,this.DP=2,this.MM=0,this.kM=0,this.XP=0,this.YP=0,this.NP=0,this.GP=0,this.FP=0,this.WP=0,this.ZP=null,this.HP()}var i=t.prototype;return i.getElement=function(){return this.co},i.getImage=function(){return this.FI},i.getViewerBox=function(){return this.iY},i.getImageBox=function(){return this.BI},i.getImageBoxWithOffset=function(){return 0==this.XP&&0==this.YP?this.BI:(t=this.BI,i=this.XP,n=this.YP,0==i&&0==n||0==t.width&&0==t.height?t:k(t.left+i,t.top+n,t.width,t.height));var t,i,n},i.reset=function(){var t=this;this.FI.setAttribute("src",""),Zt.forEach((function(i){t.FI.removeAttribute(i)})),this.FI.removeAttribute("aria-describedby"),this.WI=null,this.BI=k(0,0,0,0),this.ZI=0,this.$I=0,this.KI=1,this.HI=1,this.JI=1,this.DP=2,this.MM=0,this.kM=0,this.XP=0,this.YP=0,this.NP=0,this.GP=0,this.FP=0,this.WP=0,this.ZP&&this.ZP.halt(),this.ZP=null},i.KP=function(t,i){i?(this.ZI=i.naturalWidth||t.offsetWidth,this.$I=i.naturalHeight||t.offsetHeight):(this.ZI=t.offsetWidth,this.$I=t.offsetHeight)},i.init=function(t,i){var n=this;this.KP(t,i),this.WI=function(t){var i=t.getAttribute("srcset");if(i)return function(t){for(var i,n=[];i=R.exec(t);){var s=i[1],h=void 0,r=void 0;if(i[2]){var e=i[3].toLowerCase();if("w"==e)h=parseInt(i[2],10);else{if("x"!=e)continue;r=parseFloat(i[2])}}else r=1;n.push({url:s,width:h,dpr:r})}return new X(n)}(i);var n=t.getAttribute("src");return D(n,'Either non-empty "srcset" or "src" attribute must be specified: %s',t),new X([{url:n,width:void 0,dpr:1}])}(t),"img"===t.tagName.toLowerCase()?I(Zt,t,this.FI):t.getImpl().then((function(t){return I(Zt,t.element,n.FI)})),i&&xt(i)&&i.src&&this.FI.setAttribute("src",i.src)},i.measure=function(){this.iY=z(this.co.getBoundingClientRect());var t=this.ZI/this.$I,i=Math.min(this.iY.width/t,this.iY.height),n=Math.min(this.iY.height*t,this.iY.width);Math.abs(n-this.ZI)<=16&&Math.abs(i-this.$I)<=16&&(n=this.ZI,i=this.$I),this.BI=k(Math.round((this.iY.width-n)/2),Math.round((this.iY.height-i)/2),Math.round(n),Math.round(i)),P(this.FI,{top:$(this.BI.top),left:$(this.BI.left),width:$(this.BI.width),height:$(this.BI.height)});var s=this.iY.width/this.iY.height,h=Math.max(s/t,t/s);return this.DP=Math.max(2,h),this.JI=this.HI=1,this.MM=this.XP=0,this.kM=this.YP=0,this.QP(this.HI),this.tX(),this.$S()},i.$S=function(){var t=this;if(!this.WI)return c();this.KI=Math.max(this.KI,this.HI);var i=this.BI.width*this.KI,n=this.WI.select(i,it.getDevicePixelRatio());return n==this.FI.getAttribute("src")?c():pt(this.win).promise(1).then((function(){return t.FI.setAttribute("src",n),t.Ui(t.FI)}))},i.HP=function(){var t=this,i=St.get(this.FI);i.onGesture(Nt,(function(){t.tY.toggleViewMode()})),i.onGesture(Ct,(function(i){t.oX(i.data.deltaX,i.data.deltaY,!1),i.data.last&&t.fX(i.data.velocityX,i.data.velocityY)})),i.onPointerDown((function(){t.ZP&&t.ZP.halt()})),i.onGesture(_t,(function(i){var n;n=1==t.HI?t.DP:t.QI;var s=t.iY.width/2-i.data.clientX,h=t.iY.height/2-i.data.clientY;t.iX(n,s,h,!0).then((function(){return t.nX(0,0,0,0,0,0)}))})),i.onGesture(Tt,(function(i){t.nY(i.data.centerClientX,i.data.centerClientY,i.data.deltaX,i.data.deltaY),i.data.last&&t.nX(i.data.centerClientX,i.data.centerClientY,i.data.deltaX,i.data.deltaY,i.data.velocityY,i.data.velocityY)}))},i.cX=function(t,i){return Q(t,this.QI,this.DP,i?.25:0)},i.lX=function(t,i){return Q(t,this.NP,this.FP,i&&this.HI>1?.25*this.iY.width:0)},i.vX=function(t,i){return Q(t,this.GP,this.WP,i?.25*this.iY.height:0)},i.QP=function(t){var i=0,n=0,s=this.iY.height-this.BI.height*t;s>=0?n=i=0:i=-(n=s/2);var h=0,r=0,e=this.iY.width-this.BI.width*t;e>=0?r=h=0:h=-(r=e/2),this.NP=r,this.GP=n,this.FP=h,this.WP=i},i.tX=function(){P(this.FI,{transform:F(this.XP,this.YP)+" "+G(this.HI)}),1!=this.HI&&this.tY.toggleViewMode(!0)},i.oX=function(t,i,n){var s=this.lX(this.MM+t,!0),h=this.vX(this.kM+i,!0);this.dX(this.HI,s,h,n)},i.fX=function(t,i){var n=this,s=this.YP-this.kM;1==this.HI&&Math.abs(s)>10?this.tY.close():(this.ZP=Rt(this.FI,this.XP,this.YP,t,i,(function(t,i){var s=n.lX(t,!0),h=n.vX(i,!0);return!(Math.abs(s-n.XP)<1&&Math.abs(h-n.YP)<1||(n.dX(n.HI,s,h,!1),0))})),this.ZP.thenAlways((function(){return n.ZP=null,n.mX()})))},i.nY=function(t,i,n,s){var h=tt(n,s),r=Math.abs(s)>Math.abs(n)?Math.sign(s):Math.sign(-n);if(0!=r){var e=this.JI*(1+r*h/100),u=this.iY.width/2-t,o=this.iY.height/2-i;n=Math.min(u,u*(h/100)),s=Math.min(o,o*(h/100)),this.iX(e,n,s,!1)}},i.iX=function(t,i,n,s){var h=this.cX(t,!0);if(h!=this.HI){this.QP(h);var r=this.lX(this.MM+i*h,!1),e=this.vX(this.kM+n*h,!1);return this.dX(h,r,e,s)}},i.nX=function(t,i,n,s,h,r){var e,u=this;e=0==h&&0==r?c():Rt(this.FI,n,s,h,r,(function(n,s){return u.nY(t,i,n,s),!0})).thenAlways();var o=this.HI>this.JI;return e.then((function(){return u.mX()})).then((function(){o&&u.$S()}))},i.dX=function(t,i,n,s){var h,r,e,u=this,o=t-this.HI,a=(h=this.XP,r=this.YP,tt(i-h,n-r)),f=0;if(s&&(f=Math.min(250,Math.max(250*a*.01,250*Math.abs(o)))),f>16&&s){var l=W(this.HI,t),v=W(this.XP,i),m=W(this.YP,n);e=wt.animate(this.FI,(function(t){u.HI=l(t),u.XP=v(t),u.YP=m(t),u.tX()}),f,$t).thenAlways((function(){u.HI=t,u.XP=i,u.YP=n,u.tX()}))}else this.HI=t,this.XP=i,this.YP=n,this.tX(),e=s?c():void 0;return e},i.mX=function(){var t=this,i=this.cX(this.HI,!1);i!=this.HI&&this.QP(i);var n=this.lX(this.XP/this.HI*i,!1),s=this.vX(this.YP/this.HI*i,!1);return this.dX(i,n,s,!0).then((function(){t.JI=t.HI,t.MM=t.XP,t.kM=t.YP}))},t}(),Ft=function(t){s(h,t);var n=u(h);function h(t){var s;return(s=n.call(this,t)).iD=-1,s.oD=!1,s.sY=!1,s.hY=null,s.LP=null,s.rY=null,s.Ft=null,s.eY=null,s.uY=null,s.nD=s.rD.bind(i(s)),s.registerDefaultAction((function(t){return s.xD(t)}),"open"),s}var r=h.prototype;return r.buildCallback=function(){var t,i,n;(t=this.element,i="action",mt(n=lt(ct(t)),i)?vt(n,i):null).addToAllowlist("AMP-IMAGE-LIGHTBOX","open",["email"])},r.oY=function(){var t=this;if(!this.Ft){this.Ft=this.element.ownerDocument.createElement("div"),this.Ft.classList.add("i-amphtml-image-lightbox-container"),this.element.appendChild(this.Ft),this.eY=new Bt(this,this.win,this.loadPromise.bind(this)),this.Ft.appendChild(this.eY.getElement()),this.uY=this.element.ownerDocument.createElement("div"),this.uY.setAttribute("id",this.element.getAttribute("id")+"-caption"),this.uY.classList.add("amp-image-lightbox-caption"),this.uY.classList.add("i-amphtml-image-lightbox-caption"),this.Ft.appendChild(this.uY);var i=this.element.ownerDocument.createElement("button"),n=this.element.getAttribute("data-close-button-aria-label")||"Close the lightbox";i.textContent=n,i.classList.add("i-amphtml-screen-reader"),i.tabIndex=-1,i.addEventListener("click",(function(){t.close()})),this.element.appendChild(i);var s=St.get(this.element);this.element.addEventListener("click",(function(i){t.sY||t.eY.getImage().contains(i.target)||t.close()})),s.onGesture(Nt,(function(){t.sY||t.close()})),s.onGesture(Ct,(function(){}))}},r.xD=function(t){var i,n,s=this;if(!this.oD){this.oY();var h=t.caller,r=h.tagName.toLowerCase();i=h&&Ut.has(r),"Unsupported element: %s",n=h.tagName,(rt.user||(rt.user=ut()),void rt.user.win?rt.userForEmbed||(rt.userForEmbed=ut()):rt.user).assert(i,"Unsupported element: %s",n,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined),this.oD=!0,this.os(),this.zo(h),this.win.document.documentElement.addEventListener("keydown",this.nD),this.getViewport().enterLightboxMode(),this.xw(),this.rY=this.getViewport().onChanged((function(){var t;s.oD&&((t=s.win,ft(t,"platform")).getIosVersionString().startsWith("10.3")?pt(s.win).delay((function(){s.eY.measure()}),500):s.eY.measure())})),this.NW().push(this.close.bind(this)).then((function(t){s.iD=t}))}},r.rD=function(t){"Escape"==t.key&&(t.preventDefault(),this.close())},r.close=function(){this.oD&&(this.oD=!1,this.sY=!1,this.jw(),this.rY&&(this.rY(),this.rY=null),this.getViewport().leaveLightboxMode(),-1!=this.iD&&this.NW().pop(this.iD),this.win.document.documentElement.removeEventListener("keydown",this.nD),this.hY&&function(t){try{t.focus()}catch(t){}}(this.hY))},r.toggleViewMode=function(t){void 0!==t?this.Ft.classList.toggle("i-amphtml-image-lightbox-view-mode",t):this.Ft.classList.toggle("i-amphtml-image-lightbox-view-mode")},r.zo=function(t){var i;this.hY=t,this.LP=(i=t,j("img"),function(t,i){if(void 0!==g?g:g=function(t){try{var i=t.ownerDocument,n=i.createElement("div"),s=i.createElement("div");return n.appendChild(s),n.querySelector(":scope div")===s}catch(t){return!1}}(t))return t.querySelector(S(i,":scope"));var n=function(t,i){var n=t.classList,s="i-amphtml-scoped";n.add(s);var h=S(i,".".concat(s)),r=t.querySelectorAll(h);return n.remove(s),r}(t,i)[0];return void 0===n?null:n}(i,"> ".concat("img"))),this.eY.init(this.hY,this.LP);var n,s=null,h=("figure",(n=t).closest?n.closest("figure"):function(t,i,n){var s;for(s=t;s&&void 0!==s;s=s.parentElement)if(i(s))return s;return null}(n,(function(t){return function(t,i){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,"figure")}(t)})));if(h&&(s=function(t,i){return j(i),t.querySelector(i)}(h,"figcaption")),!s){var r=t.getAttribute("aria-describedby");s=this.element.ownerDocument.getElementById(r)}s&&(function(t,i){for(var n=i.ownerDocument.createDocumentFragment(),s=t.firstChild;s;s=s.nextSibling)n.appendChild(s.cloneNode(!0));i.appendChild(n)}(s,this.uY),this.eY.getImage().setAttribute("aria-describedby",this.uY.getAttribute("id"))),this.uY.classList.toggle("i-amphtml-empty",!s)},r.os=function(){this.eY.reset(),function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(this.uY),this.hY=null,this.LP=null,this.toggleViewMode(!1)},r.xw=function(){var t,i,n=this;this.sY=!0,t=this.element,void 0===(i=!0)&&(i=t.hasAttribute("hidden")),i?t.removeAttribute("hidden"):t.setAttribute("hidden",""),P(this.element,{opacity:0}),this.eY.measure();var s=new wt(this.element);s.add(0,V(this.element,{opacity:W(0,1)}),.6,Lt);var h=null;if(this.LP&&xt(this.LP)&&this.LP.src){(h=this.element.ownerDocument.createElement("div")).classList.add("i-amphtml-image-lightbox-trans"),this.getAmpDoc().getBody().appendChild(h);var r=z(this.LP.getBoundingClientRect()),e=this.eY.getImageBox(),u=this.LP.cloneNode(!0);u.className="",P(u,{position:"absolute",top:$(r.top),left:$(r.left),width:$(r.width),height:$(r.height),transformOrigin:"top left",willChange:"transform"}),h.appendChild(u),this.LP.classList.add("i-amphtml-ghost");var o=e.left-r.left,a=e.top-r.top,f=0!=r.width?e.width/r.width:1,c=K(Math.abs(a)/250*.8,.2,.8);s.add(0,V(u,{transform:H([q(W(0,o),W(0,a)),J(W(1,f))])}),c,Lt),P(this.Ft,{opacity:0}),s.add(.8,V(this.Ft,{opacity:W(0,1)}),.1,Lt),s.add(.9,V(h,{opacity:W(1,.01)}),.1,Pt)}return s.start(500).thenAlways((function(){n.sY=!1,P(n.element,{opacity:""}),P(n.Ft,{opacity:""}),h&&n.getAmpDoc().getBody().removeChild(h)}))},r.jw=function(){var t=this,i=this.eY.getImage(),n=this.eY.getImageBoxWithOffset(),s=new wt(this.element),h=500;s.add(0,V(this.element,{opacity:W(1,0)}),.9,Pt);var r=null;if(xt(i)&&i.src&&this.LP){(r=this.element.ownerDocument.createElement("div")).classList.add("i-amphtml-image-lightbox-trans"),this.getAmpDoc().getBody().appendChild(r);var e=z(this.LP.getBoundingClientRect()),u=i.cloneNode(!0);P(u,{position:"absolute",top:$(n.top),left:$(n.left),width:$(n.width),height:$(n.height),transform:"",transformOrigin:"top left",willChange:"transform"}),r.appendChild(u),s.add(0,V(this.Ft,{opacity:W(1,0)}),.1,Pt);var o=e.left-n.left,a=e.top-n.top,f=0!=n.width?e.width/n.width:1,c=V(u,{transform:H([q(W(0,o),W(0,a)),J(W(1,f))])}),l=K(Math.abs(a)/250*.8,.2,.8);s.add(Math.min(.8-l,.2),(function(i,n){c(i),n&&t.LP.classList.remove("i-amphtml-ghost")}),l,Pt),s.add(.8,V(r,{opacity:W(1,.01)}),.2,Pt),h=K(Math.abs(a)/250*h,300,h)}return s.start(h).thenAlways((function(){t.LP&&t.LP.classList.remove("i-amphtml-ghost"),t.collapse(),P(t.element,{opacity:""}),P(t.Ft,{opacity:""}),r&&t.getAmpDoc().getBody().removeChild(r),t.os()}))},r.NW=function(){return function(t,i){return vt(lt(ct(t)),"history")}(this.getAmpDoc())},h}(t.BaseElement);t.registerElement("amp-image-lightbox",Ft,"amp-image-lightbox{position:fixed!important;top:0!important;left:0!important;bottom:0!important;right:0!important;margin:0!important;padding:0!important;overflow:hidden!important;transform:translateZ(0)!important;-ms-touch-action:none!important;touch-action:none!important;z-index:1000;background:rgba(0,0,0,0.95);color:#f2f2f2}.i-amphtml-image-lightbox-container{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;overflow:hidden;transform:translateZ(0)}.i-amphtml-image-lightbox-trans{pointer-events:none!important;position:fixed;z-index:1001;top:0;left:0;bottom:0;right:0}.i-amphtml-image-lightbox-caption{position:absolute!important;z-index:2;bottom:0!important;left:0!important;right:0!important}.i-amphtml-image-lightbox-caption.i-amphtml-empty,.i-amphtml-image-lightbox-view-mode .i-amphtml-image-lightbox-caption{visibility:hidden}.amp-image-lightbox-caption{background:rgba(0,0,0,0.5);max-height:25%;padding:8px}.i-amphtml-image-lightbox-viewer{position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;overflow:hidden;transform:translateZ(0)}.i-amphtml-image-lightbox-viewer-image{position:absolute;z-index:1;display:block;transform-origin:50% 50%}\n/*# sourceURL=/extensions/amp-image-lightbox/0.1/amp-image-lightbox.css*/")}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-image-lightbox-0.1.js.map