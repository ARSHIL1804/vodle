;
(self.AMP=self.AMP||[]).push({m:1,v:"2203281422000",n:"amp-carousel",ev:"0.2",l:!1,f:function(t,i){(()=>{var i,{isArray:s}=Array,{hasOwnProperty:e,toString:n}=Object.prototype;function r(t,i,s,e,n,r,o,h,l,a,c){return t}var o,h,l={bubbles:!0,cancelable:!0};function a(t){return function(t,i){r(1===i.length),t.innerHTML=i[0];const s=t.firstElementChild;return r(s),r(!s.nextElementSibling),t.removeChild(s),s}(o,t)}var c=["Webkit","webkit","Moz","moz","ms","O","o"],u={"getPropertyPriority":()=>"","getPropertyValue":()=>""};function d(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return c.some((t=>i.startsWith(t+"-")))?`-${i}`:i}function p(t,i,s){if(f(i))return i;h||(h=Object.create(null));let e=h[i];if(!e||s){if(e=i,void 0===t[i]){const s=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),n=function(t,i){for(let s=0;s<c.length;s++){const e=c[s]+i;if(void 0!==t[e])return e}return""}(t,s);void 0!==t[n]&&(e=n)}s||(h[i]=e)}return e}function _(t,i){const{style:s}=t;for(const t in i)s.setProperty(d(p(s,t)),String(i[t]),"important")}function m(t,i,s,e,n){const r=p(t.style,i,n);if(!r)return;const o=e?s+e:s;t.style.setProperty(d(r),o)}function A(t,i){return t.getComputedStyle(i)||u}function f(t){return t.startsWith("--")}var P=self.AMP_CONFIG||{},g=("string"==typeof P.thirdPartyFrameRegex?new RegExp(P.thirdPartyFrameRegex):P.thirdPartyFrameRegex,("string"==typeof P.cdnProxyRegex?new RegExp(P.cdnProxyRegex):P.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function b(t){if(!self.document||!self.document.head)return null;if(self.location&&g.test(self.location.origin))return null;const i=self.document.head.querySelector(`meta[name="${t}"]`);return i&&i.getAttribute("content")||null}function v(t,i,s){let e=0,n=0,r=null;function o(){e=0;const h=s-(t.Date.now()-n);var l;h>0?e=t.setTimeout(o,h):(l=r,r=null,i.apply(null,l))}return function(...i){n=t.Date.now(),r=i,e||(e=t.setTimeout(o,s))}}P.thirdPartyUrl,P.thirdPartyFrameHost,P.cdnUrl||b("runtime-host"),P.errorReportingUrl,P.betaErrorReportingUrl,P.localDev,P.geoApiUrl||b("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var I=self.__AMP_LOG;function M(t){return function(t,i){throw new Error("failed to call initLogConstructor")}()}function x(t,i,s,e,n,r,o,h,l,a,c){return t}function E(t,i){return y(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function T(t,i){return y(S(w(t)),i)}function V(t,i){return function(t,i){const s=C(t,i);if(s)return s;const e=k(t);return e[i]=function(){const t=new class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}},{promise:i,reject:s,resolve:e}=t;return i.catch((()=>{})),{obj:null,promise:i,resolve:e,reject:s,context:null,ctor:null}}(),e[i].promise}(S(t),i)}function R(t,i){return C(S(t),i)}function w(t){return t.nodeType?(i=t,s=(i.ownerDocument||i).defaultView,E(s,"ampdoc")).getAmpDoc(t):t;var i,s}function S(t){const i=w(t);return i.isSingleDoc()?i.win:i}function y(t,i){x(z(t,i));const s=k(t)[i];return s.obj||(x(s.ctor),x(s.context),s.obj=new s.ctor(s.context),x(s.obj),s.context=null,s.resolve&&s.resolve(s.obj)),s.obj}function C(t,i){const s=k(t)[i];return s?s.promise?s.promise:(y(t,i),s.promise=Promise.resolve(s.obj)):null}function k(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function z(t,i){const s=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!s||!s.ctor)}var N,L=t=>function(t,i){const s=S(w(t));return z(s,i)?y(s,i):null}(t,"action"),O=t=>function(t,i,s,e){const n=R(t,i);if(n)return n;const r=w(t);return r.whenExtensionsKnown().then((()=>{const t=r.getExtensionVersion(s);return t?E(r.win,"extensions").waitForExtension(s,t):null})).then((s=>s?e?R(t,i):V(t,i):null))}(t,"amp-analytics-instrumentation","amp-analytics"),B=t=>T(t,"owners");function j(t,i,s={},e=!0){O(t).then((n=>{n&&n.triggerEventForTarget(t,i,s,e)}))}function U(t,i,s,e){let n=t,r=s,o=t=>{try{return r(t)}catch(t){var i,s;throw null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t),t}};const h=function(){if(void 0!==N)return N;N=!1;try{const t={get capture(){return N=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return N}(),l=!(null==e||!e.capture);return n.addEventListener(i,o,h?e:l),()=>{null==n||n.removeEventListener(i,o,h?e:l),r=null,n=null,o=null}}function $(t,i,s,e){const n={detail:s};return Object.assign(n,e),new t.CustomEvent(i,n)}function H(t,i,s,e){return U(t,i,s,e)}function W(t){return t.detail}function F(t,i,s,e){let n=s;const r=U(t,i,(t=>{try{n(t)}finally{n=null,r()}}),e);return r}function D(t,i){return t>0&&i>0?t%i:(t%i+i)%i}function Z(t,i,s){return r(i<=s),Math.min(Math.max(t,i),s)}var q="amp-carousel:indexchange",Q="amp-carousel:scrollstart",X="amp-carousel:scrollpositionchange",G="start";function J(t,i){const{bottom:s,height:e,left:n,right:r,top:o,width:h}=i.getBoundingClientRect();return{start:0==t?n:o,end:0==t?r:s,length:0==t?h:e}}function K(t,i){const{end:s,start:e}=J(t,i);return(e+s)/2}function Y(t,i){const{start:s}=J(t,i);return s}function tt(t,i,s){return i==G?Y(t,s):K(t,s)}function it(t,i,s){m(i,0==t?"width":"height",`${s}px`)}function st(t,i,s){const{end:e,start:n}=J(t,i);return n<=s&&s<e}function et(t,i,s,e){const n=tt(t,i,e),r=tt(t,i,s),{length:o}=J(t,e);return(n-r)/o}function nt(t,i,s){!function(t,i,s){0==t?i.scrollLeft=s:i.scrollTop=s}(t,i,function(t,i){return 0==t?i.scrollLeft:i.scrollTop}(t,i)+s)}var rt="i-amphtml-carousel-spacer";function ot(t,i){const s=function(t,i,s){const e=p(t.style,"scrollBehavior",void 0);if(e)return f(e)?t.style.getPropertyValue(e):t.style[e]}(t);m(t,"scrollBehavior","auto"),i(),m(t,"scrollBehavior",s)}function ht(t){return t.reduce(((t,i)=>t+i),0)}var lt="__AMP_CAROUSEL_NEAR_VIEWPORT",at="__AMP_CAROUSEL_IN_VIEWPORT",ct=100,ut=.01,dt=['<div class=i-amphtml-carousel-content><div class=i-amphtml-carousel-scroll></div><div class=i-amphtml-carousel-arrows><div tabindex=0 class="amp-carousel-button amp-carousel-button-prev"></div><div tabindex=0 class="amp-carousel-button amp-carousel-button-next"></div></div></div>'],pt="carousel",_t="slides",mt=class extends t.BaseElement{static prerenderAllowed(){return!0}xX(){this.registerAction("goToSlide",(t=>{const{args:i,trust:s}=t,e=Number(i.index||0);var n,r,o,h,l,a,c,u,d,p,_;n=!isNaN(e),r="Unexpected slide index for goToSlide action: %s. %s",o=i.index,h=this.element,(I.user||(I.user=M()),void I.user.win?I.userForEmbed||(I.userForEmbed=M()):I.user).assert(n,r,o,h,l,a,c,u,d,p,_),this.uG.goToSlide(e,{actionSource:this.RQ(s)})}),1),this.registerAction("toggleAutoplay",(t=>{const{args:i}=t,s=i?i.toggleOn:void 0;this.t0(s)}),1),this.fc.addToAllowlist("AMP-CAROUSEL","goToSlide",["email"])}constructor(t){var i,s;super(t),this.mD=(s=this.win,E(s,"platform")).isIos(),this.uG=null,this.oQ=null,this.fQ=[],this.cS=null,this.TT="carousel",this.hj=!1,this.Ym=null,this.Lm=null,this.gQ=!1,this.fc=null,this.PQ=null,this.i0=!1,this.s0=(i=t,T(i,"viewer")).isEmbedded()}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}buildCallback(){this.fc=L(this.element);const{element:t,win:i}=this,s=function(t){return function(t,i){const s=[];for(let i=t.firstElementChild;i;i=i.nextElementSibling)!(function(t){let i;var s;return"string"==typeof t?i=t:1==(null==(s=t)?void 0:s.nodeType)&&(i=t.tagName),!!i&&i.toLowerCase().startsWith("i-")}(e=i)||e.nodeType===Node.ELEMENT_NODE&&(e.hasAttribute("placeholder")||e.hasAttribute("fallback")||e.hasAttribute("overflow")))&&s.push(i);var e;return s}(t)}(this.element);t.appendChild(this.yY()),this.oQ=this.element.querySelector(".i-amphtml-carousel-scroll"),this.Lm=this.element.querySelector(".amp-carousel-button-prev"),this.Ym=this.element.querySelector(".amp-carousel-button-next"),this.uG=new class{constructor(t){const{element:i,initialIndex:s,runMutate:e,scrollContainer:n,win:r}=t;this.i=r,this.jQ=e,this.yf=i,this.oQ=n,this.zQ=new class{constructor(t){const{advanceable:i,element:s,scrollContainer:e,win:n}=t;this.i=n,this.oQ=e,this.LQ=i,this.NQ=0,this.zQ=!1,this.BQ=1,this.$Q=1e3,this.WQ=!1,this.UQ=!1,this.HQ=null,this.QQ=Number.POSITIVE_INFINITY,this.Ci=s.getAmpDoc(),this.DQ(this.$Q),this.oQ.addEventListener("scroll",(()=>this.FQ()),!0),H(this.oQ,"touchstart",(()=>this.GQ()),{capture:!0,passive:!0}),H(s,q,(t=>{this.ZQ(t)}))}stop(){this.UQ=!0}pause(){this.WQ=!0}resume(){this.WQ=!1,this.XQ()}updateAutoAdvance(t){this.zQ=t,this.XQ()}updateAutoAdvanceCount(t){this.BQ=t,this.XQ()}updateAutoAdvanceInterval(t){this.$Q=Math.max(t,1e3),this.DQ(this.$Q),this.XQ()}updateMaxAdvances(t){this.QQ=t}DQ(t){const i=v(this.i,(()=>{i==this.HQ&&this.qQ()}),t);this.HQ=i}GQ(){this.pause(),F(window,"touchend",(()=>{this.resume()}),{capture:!0,passive:!0})}JQ(){return this.zQ&&this.Ci.isVisible()&&!this.WQ&&!this.UQ&&this.NQ<this.QQ}FQ(){this.XQ()}ZQ(t){const i=W(t).actionSource;i&&4!==i&&this.stop()}qQ(){this.JQ()&&(this.LQ.advance(this.BQ,{actionSource:4,allowWrap:!0}),this.NQ+=this.BQ)}XQ(){this.JQ()&&this.HQ()}}({win:r,element:i,scrollContainer:n,advanceable:this}),this.KQ=new class{constructor(t){const{element:i,runMutate:s,scrollContainer:e,stoppable:n,win:r}=t;this.i=r,this.oQ=e,this.jQ=s,this.fQ=[],this.YQ=1,this.xZ=!1,this.wZ=!1,this.Se=0,i.addEventListener("focus",(()=>{n.stop()}),!0),i.addEventListener(q,(t=>{this.SQ(t)}))}updateMixedLength(t){this.xZ=t}updateUi(){this.wZ||(this.wZ=!0,this.jQ((()=>{this.wZ=!1,this.TZ(),this.VZ()})))}updateSlides(t){this.fQ=t,this.updateUi()}updateVisibleCount(t){this.YQ=t,this.updateUi()}SZ(){return this.xZ||this.YQ>=2}TZ(){this.SZ()?(this.oQ.removeAttribute("aria-live"),this.oQ.setAttribute("role","list"),this.fQ.forEach((t=>{t.setAttribute("role","listitem")}))):(this.oQ.setAttribute("aria-live","polite"),this.oQ.removeAttribute("role"),this.fQ.forEach((t=>{t.removeAttribute("role")})))}VZ(){this.fQ.forEach(((t,i)=>{const s=!this.SZ()&&i!==this.Se;t.setAttribute("aria-hidden",s)}))}SQ(t){const i=W(t).index;this.Se=i,this.jQ((()=>{this.VZ()}))}}({win:r,element:i,scrollContainer:n,runMutate:e,stoppable:this.zQ}),this.CZ=v(r,(()=>this.kZ()),200),this.OZ=1,this.jZ=Number.POSITIVE_INFINITY,this.xZ=!1,this.fQ=[],this.zZ=!0,this.wZ=!1,this.LZ=[],this.NZ=[],this.BZ=[],this.$Z=[],this.WZ=!1,this.UZ=!1,this.HZ=0,this.QZ=null,this.DZ=NaN,this.FZ=!1,this.GZ=!1,this.ZZ=void 0,this.XZ=G,this.qZ=0,this.JZ=!0,this.KZ=!0,this.cS=s||0,this._d=!1,this.$B=!0,this.YZ=1,this.YQ=1,this.oQ.addEventListener("scroll",(()=>this.FQ()),!0),this.oQ.addEventListener("scrollend",(()=>this.BX()),!0),H(this.oQ,"touchstart",(()=>this.GQ()),{capture:!0,passive:!0}),H(this.oQ,"wheel",(()=>this.WX()),{capture:!0,passive:!0})}next(t){this.advance(this.OZ,{actionSource:t})}prev(t){this.advance(-this.OZ,{actionSource:t})}advance(t,i={}){const{cS:s,QZ:e,fQ:n}=this,{actionSource:r,allowWrap:o=!1}=i,h=null!==e?e:s,l=h+t,a=n.length-1,c=0===h,u=h===a,d=l<0,p=l>a,_=t>0&&this.HX(h)&&this.HX(l);let m;m=this.isLooping()?D(l,a+1):o?_?0:d&&c||p&&!u?a:d&&!c||p&&u?0:l:_?h:Z(l,0,a),this.goToSlide(m,{actionSource:r})}pauseLayout(){this.WZ=!0,this.zQ.pause()}resumeLayout(){this.WZ=!1,this.updateUi(),this.zQ.resume()}getCurrentIndex(){return this.cS}getVisibleCount(){return this.YQ}isLooping(){return this._d&&this.fQ.length/this.YQ>=3}goToSlide(t,i={}){const{actionSource:s,smoothScroll:e=!0}=i;t<0||t>this.fQ.length-1||isNaN(t)||t!==this.cS&&(this.FZ||this.QX()||(this.UZ=!1,this.QZ=t,this.ZZ=s,this.DX(this.fQ[t],{smoothScroll:e})))}updateAdvanceCount(t){this.OZ=t}updateAlignment(t){this.XZ="start"===t?G:"center",this.updateUi()}updateAutoAdvance(t){this.zQ.updateAutoAdvance(t)}updateAutoAdvanceCount(t){this.zQ.updateAutoAdvanceCount(t)}updateAutoAdvanceInterval(t){this.zQ.updateAutoAdvanceInterval(t)}updateAutoAdvanceLoops(t){this.jZ=t,this.updateUi()}updateForwards(t){this.JZ=t,this.updateUi()}updateHideScrollbar(t){this.KZ=t,this.updateUi()}updateHorizontal(t){this.qZ=t?0:1,this.updateUi()}updateLoop(t){this._d=t,this.updateUi()}updateMixedLength(t){this.xZ=t,this.KQ.updateMixedLength(t),this.updateUi()}updateSlides(t){const{length:i}=t;i?(this.fQ=t,this.cS=this.isLooping()?D(this.cS,i):Z(this.cS,0,i-1)||0,this.KQ.updateSlides(t),this.updateUi()):this.yf.tagName.toUpperCase()}updateSnap(t){this.$B=t,this.updateUi()}updateSnapBy(t){this.YZ=Math.max(1,t),this.updateUi()}updateUserScrollable(t){this.zZ=t,this.updateUi()}updateUi(){this.wZ||this.WZ||(this.wZ=!0,this.jQ((()=>{this.wZ=!1,this.oQ.setAttribute("mixed-length",this.xZ),this.oQ.setAttribute("user-scrollable",this.zZ),this.oQ.setAttribute("hide-scrollbar",this.KZ),this.oQ.setAttribute("horizontal",0===this.qZ),this.oQ.setAttribute("loop",this.isLooping()),this.oQ.setAttribute("snap",this.$B),_(this.oQ,{"--visible-count":this.YQ}),this.fQ.length&&(this.zQ.updateMaxAdvances(this.jZ*this.fQ.length-1),this.FX(),this.GX(),this.ZX(),this.kZ(!0))})))}updateVisibleCount(t){this.YQ=Math.max(1,t),this.KQ.updateVisibleCount(t),this.updateUi()}XX(t,i){this.DZ!==t&&(this.DZ=t,this.yf.dispatchEvent($(this.i,q,{"index":t,"total":this.fQ.length,"actionSource":i,"slides":this.fQ},{bubbles:!0})))}qX(t,i){this.cS=t,this.HZ=i,this.yf.dispatchEvent($(this.i,"amp-carousel:offsetchange",{"index":t,"total":this.fQ.length,"offset":this.JZ?-i:i,"slides":this.fQ},{bubbles:!0}))}notifyScrollStart(){this.yf.dispatchEvent($(this.i,Q,null))}JX(){this.yf.dispatchEvent($(this.i,X,null))}GQ(){this.FZ=!0,this.ZZ=3,this.QZ=null,this.UZ=!1,F(window,"touchend",(()=>{this.FZ=!1,this.CZ()}),{capture:!0,passive:!0})}WX(){this.ZZ=2,this.QZ=null,this.UZ=!1}FQ(){this.UZ?this.UZ=!1:(this.GZ=!0,this.KX(),this.notifyScrollStart(),this.CZ())}BX(){null===this.QZ&&this.kZ()}QX(){return this.GZ&&(3===this.ZZ||2===this.ZZ)}YX(t,i,s){const e=i*s*(this.JZ?1:-1);!function(t,i,s){const e=0==t?s:0,n=0==t?0:s;m(i,"transform",`translate(${e}px, ${n}px)`),_(i,{"--content-transform":`translate(${e}px, ${n}px)`})}(this.qZ,t,e),t._revolutions=i}dY(t){this.fQ.forEach((i=>{this.YX(i,0,t)}))}_Y(){return this.fQ.map((t=>J(this.qZ,t).length))}isAtEnd(){return!this.isLooping()&&this.AY()}isAtStart(){return!this.isLooping()&&this.fY()}AY(){const t=this.oQ,i=t.getBoundingClientRect().width*(this.JZ?1:-1),s=this.JZ?Math.ceil(i):Math.floor(i),e=t.scrollLeft+s,n=t.scrollWidth;return this.JZ?e>=n:e<=-n}fY(){const t=this.oQ.scrollLeft;return this.JZ?t<=0:t>=0}gY(t){const i=[];for(let s=0;s<t;s++){const t=document.createElement("div");t.className=rt,i.push(t)}return i}FX(){const{qZ:t,fQ:i}=this,s=this._Y(),e=ht(s),n=this.isLooping()?i.length:0;this.LZ.forEach((t=>{this.oQ.removeChild(t)})),this.LZ=this.gY(n),this.LZ.forEach(((e,n)=>{it(t,e,s[n]),this.oQ.insertBefore(e,i[0])})),this.NZ.forEach((t=>{this.oQ.removeChild(t)})),this.NZ=this.gY(n),this.NZ.forEach(((i,n)=>{it(t,i,s[n]),this.YX(i,-1,e),this.oQ.appendChild(i)})),this.BZ.forEach((t=>{this.oQ.removeChild(t)})),this.BZ=this.gY(n),this.BZ.forEach(((i,n)=>{it(t,i,s[n]),this.YX(i,-1,e),this.oQ.appendChild(i)})),this.$Z=this.LZ.concat(this.NZ,this.BZ)}GX(){const t=this.fQ.length,i=this.XZ===G,s=1===D(this.YQ,2),e=i||s?"0%":"50%";!function(t,i){const{length:s}=t;for(let e=0;e<s;e++)i(t[e],e)}(this.oQ.children,((i,s)=>{const n=D(s,t),r=0===D(n,this.YZ);!i.classList.contains(rt)&&this.isLooping()||function(t,i){for(const s in i)m(t,s,i[s])}(i,{"scroll-snap-align":r?this.XZ:"none","scroll-snap-coordinate":r?e:"none"})}))}ZX(){const{BZ:t,LZ:i,cS:s,fQ:e}=this,n=Math.max(0,e.length-s-1),r=Math.max(0,s-1);i.forEach(((t,r)=>{const o=function(t,i,s){const{length:e}=s;return t===i?e:D(t-i,e)}(s,r,i)>e.length-1;t.hidden=o||r<e.length-n})),t.forEach(((i,n)=>{const o=function(t,i,s){const{length:e}=s;return t===i?e:D(i-t,e)}(s,n,t)>e.length-1;i.hidden=o||n>r}))}KX(){const{XZ:t,$Z:i,qZ:s,cS:e,oQ:n,fQ:r}=this,o=ht(this._Y()),h=!!i.length,l=h?i:r,a=function(t,i,s,e,n){const r=tt(t,i,s);if(st(t,e[n],r))return n;for(let i=1;i<=e.length/2;i++){const s=D(n+i,e.length),o=D(n-i,e.length);if(st(t,e[s],r))return s;if(st(t,e[o],r))return o}}(s,t,n,l,h?e+r.length:e);if(void 0===a)return;const c=l[a],u=a%r.length,d=et(s,t,n,c);this.qX(u,d),u!==e&&this.jQ((()=>{this.PY(o)}))}kZ(t=!1){const{ZZ:i}=this;if(this.FZ)return;if(this.ZZ=void 0,this.GZ=!1,this.jQ((()=>{this.JX()})),this.DZ===this.cS&&null===this.QZ&&!t)return;null!==this.QZ&&(this.cS=this.QZ,this.QZ=null,this.HZ=0);const s=ht(this._Y());this.jQ((()=>{this.XX(this.cS,i),this.qX(this.cS,this.HZ),this.dY(s),this.ZX(),this.PY(s),this.vY()}))}vY(){const{XZ:t,qZ:i,HZ:s,cS:e,oQ:n,fQ:r}=this,o=r[e],h=et(i,t,n,o)-s,{length:l}=J(i,o),a=h*l;a&&(this.UZ=!0,ot(n,(()=>{nt(i,n,a)})))}DX(t,i){const{smoothScroll:s}=i;(s?(t,i)=>i():ot)(this.oQ,(()=>{!function(t,i,s,e,n=0){const r=i==G,{length:o}=J(t,e);nt(t,s,(r?Y(t,e):K(t,e))-(r?Y(t,s):K(t,s))-n*o)}(this.qZ,this.XZ,this.oQ,t)}))}xY(t,i,s){const{cS:e,DZ:n,fQ:r}=this,o=r[e]._revolutions||0,h=s?1:-1;for(let l=1;l<=i;l++){const i=D(e+l*h,r.length);if(i===n&&e!==n)break;const a=r[i],c=i>e!==s?o+h:o;this.YX(a,c,t)}}PY(t){if(!this.isLooping())return;const{XZ:i,fQ:s,YQ:e}=this,n=i===G?e-1:0,r=(s.length-1-n)/2,o=(s.length-1+n)/2;this.xY(t,Math.round(r),!1),this.xY(t,Math.round(o),!0)}HX(t){const{XZ:i,fQ:s,YQ:e}=this,n=i===G?e:e/2;return t>=s.length-n}}({win:i,element:t,scrollContainer:this.oQ,initialIndex:Number(this.element.getAttribute("slide")||"0"),runMutate:t=>this.mutateElement(t)}),this.e0(s),this.xX(),this.element.addEventListener(q,(t=>{this.SQ(t)})),this.element.addEventListener(Q,(()=>{this.CQ()})),this.element.addEventListener(X,(()=>{this.kQ()})),this.setupButtonInteraction(this.Ym,(()=>this.interactionNext())),this.setupButtonInteraction(this.Lm,(()=>this.interactionPrev())),this.n0();const e=B(t);return this.PQ=new class{constructor(t){const{ampElement:i,intersectionElement:s,intersectionThreshold:e=ut,nearbyMarginInPercent:n=ct,viewportIntersectionThreshold:r=e,viewportIntersectionCallback:o=(()=>{})}=t;this.OY=i,this.zT=B(i.element),this.jY=s,this.zY=e,this.LY=n,this.NY=r,this.BY=o,this.$Y=!1,this.xL=[],this.WY=null,this.UY=null,this.Ep=null,this.HY=!1}setQueueChanges(t){this.$Y=t}QY(t,i){i?this.zT.scheduleLayout(this.OY.element,t):this.zT.scheduleUnlayout(this.OY.element,t)}DY(t,i){this.BY(t,i)}Wr(){if(this.WY&&this.UY&&this.Ep)return;const{win:t}=this.OY;this.WY=new t.IntersectionObserver((t=>this.FY(t)),{root:this.jY,rootMargin:`${this.LY}%`,threshold:this.zY}),this.UY=new t.IntersectionObserver((t=>this.GY(t)),{root:this.jY,rootMargin:`${this.LY+10}%`,threshold:this.zY}),this.Ep=new t.IntersectionObserver((t=>this.ZY(t)),{root:this.jY,rootMargin:"0%",threshold:this.NY})}FY(t){t.filter((t=>{const{isIntersecting:i}=t;return i})).forEach((t=>{const{target:i}=t;i[lt]=0})),this.$Y||this.XY()}GY(t){t.filter((t=>{const{isIntersecting:i}=t;return!i})).forEach((t=>{const{target:i}=t;i[lt]=1})),this.$Y||this.qY()}ZY(t){t.forEach((t=>{const{isIntersecting:i,target:s}=t;s[at]=i?0:1})),this.$Y||this.JY()}flushChanges(){this.XY(),this.qY(),this.JY()}XY(){for(let t=0;t<this.xL.length;t++){const i=this.xL[t];0==i[lt]&&(this.QY(i,!0),i[lt]=null)}}qY(){for(let t=0;t<this.xL.length;t++){const i=this.xL[t];1==i[lt]&&(this.QY(i,!1),i[lt]=null)}}JY(){for(let t=0;t<this.xL.length;t++){const i=this.xL[t];0==i[at]?(this.QY(i,!0),this.DY(i,!0)):1==i[at]&&this.DY(i,!1),i[at]=null}}KY(t){if("IntersectionObserver"in this.OY.win){if(this.Wr(),!t)return this.WY.disconnect(),this.UY.disconnect(),void this.Ep.disconnect();for(let t=0;t<this.xL.length;t++)this.WY.observe(this.xL[t]),this.UY.observe(this.xL[t]),this.Ep.observe(this.xL[t])}}updateChildren(t){if(this.xL=t,"IntersectionObserver"in this.OY.win){for(let t=0;t<this.xL.length;t++)this.zT.setOwner(this.xL[t],this.OY.element);this.KY(!1),this.KY(this.HY)}}wasLaidOut(){this.HY=!0,this.KY(this.HY)}wasUnlaidOut(){this.HY=!1,this.KY(this.HY);for(let t=0;t<this.xL.length;t++)this.QY(this.xL[t],!1),this.DY(this.xL[t],!1)}}({ampElement:this,intersectionElement:this.oQ,nearbyMarginInPercent:this.mD?200:100,viewportIntersectionCallback:(t,i)=>{i?e.scheduleResume(this.element,t):e.schedulePause(this.element,t)}}),this.PQ.setQueueChanges(this.mD),this.PQ.updateChildren(this.fQ),this.uG.updateSlides(this.fQ),this.uG.goToSlide(Number(this.element.getAttribute("slide")||"0")),this.element.hasAttribute("controls")?this.i0=!0:(t=>E(t,"input"))(this.win).onMouseDetected((t=>{t&&(this.i0=!0,this.MY())}),!0),this.mutateElement((()=>{}))}setupButtonInteraction(t,i){t.addEventListener("click",i),t.addEventListener("keydown",(t=>{t.defaultPrevented||"Enter"!=t.key&&" "!=t.key||(t.preventDefault(),i())}))}isRelayoutNeeded(){return!0}layoutCallback(){var t;return"[i-amphtml-scale-animation]",((t=this.element).closest?t.closest("[i-amphtml-scale-animation]"):function(t,i,s){let e;for(e=t;e&&void 0!==e;e=e.parentElement)if(i(e))return e;return null}(t,(t=>function(t,i){const s=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!s&&s.call(t,"[i-amphtml-scale-animation]")}(t))))||(this.PQ.wasLaidOut(),this.uG.updateUi()),i||(i=Promise.resolve(void 0))}unlayoutCallback(){return this.PQ.wasUnlaidOut(),!0}pauseCallback(){this.uG.pauseLayout()}resumeCallback(){this.uG.resumeLayout()}mutatedAttributesCallback(t){void 0!==t.slide&&this.uG.goToSlide(Number(t.slide))}goToSlide(t){this.uG.goToSlide(t,{smoothScroll:!1})}interactionNext(){this.TT!=pt?this.uG.next(0):this.r0(!0)}interactionPrev(){this.TT!=pt?this.uG.prev(0):this.r0(!1)}r0(t){const i=x(this.oQ),{direction:s}=A(this.win,i),e=t?1:-1,n="rtl"==s?-1:1;i.scrollLeft+=i.offsetWidth*e*n}yY(){return function(t){const i=t.ownerDocument||t;return o&&o.ownerDocument===i||(o=i.createElement("div")),a}(this.element)(dt)}RQ(t){return t>=2?0:1}e0(t){const i=this.element.getAttribute("dir")||A(this.win,this.element).direction,s=this.element.hasAttribute("loop"),e=this.element.getAttribute("autoplay"),n=this.element.getAttribute("delay"),r=this.element.getAttribute("type"),o=null!=e,h=e?Number(e):Number.POSITIVE_INFINITY,l=Math.max(Number(n)||5e3,1e3);this.uG.updateForwards("rtl"!=i),this.uG.updateLoop(s||o),this.uG.updateAutoAdvanceLoops(h),this.uG.updateAutoAdvanceInterval(l),this.mutateElement((()=>{this.Lm.setAttribute("dir",i),this.Ym.setAttribute("dir",i)})),this.t0(o),this.o0(r,t),this.MY()}h0(t){return t-1>=0?t-1:this.element.hasAttribute("loop")?this.fQ.length-1:null}l0(t){return t+1<this.fQ.length?t+1:this.element.hasAttribute("loop")?0:null}a0(){return this.element.getAttribute("data-next-button-aria-label")||"Next item in carousel"}c0(){return this.element.getAttribute("data-prev-button-aria-label")||"Previous item in carousel"}u0(){return this.element.getAttribute("data-button-count-format")||"(%s of %s)"}d0(t){const i=String(t+1),s=String(this.fQ.length);return" "+this.u0().replace("%s",i).replace("%s",s)}p0(t){const i=this.h0(t),s=null==i?0:i;return this.c0()+this.d0(s)}_0(t){const i=this.l0(t),s=null==i?this.fQ.length-1:i;return this.a0()+this.d0(s)}MY(){const t=this.uG.getCurrentIndex(),i=this.gQ&&!this.i0,s=i||this.uG.isAtStart(),e=i||this.uG.isAtEnd();this.Lm.classList.toggle("amp-disabled",s),this.Lm.setAttribute("aria-disabled",s),this.Lm.title=this.p0(t),this.Lm.tabIndex=s?-1:0,this.Ym.classList.toggle("amp-disabled",e),this.Ym.setAttribute("aria-disabled",e),this.Ym.title=this._0(t),this.Ym.tabIndex=e?-1:0}o0(t,i){const s=t==_t;this.TT=s?_t:pt,this.uG.updateAlignment(s?"center":"start"),this.uG.updateHideScrollbar(s),this.uG.updateMixedLength(!s),this.uG.updateSnap(s);const e=s?"button":"presentation";this.Lm.setAttribute("role",e),this.Ym.setAttribute("role",e),this.fQ=i.map((t=>{if(t.classList.add("amp-carousel-slide"),s){const i=document.createElement("div");return i.classList.add("i-amphtml-carousel-slotted","i-amphtml-carousel-wrapper"),i.appendChild(t),i}return t})),this.fQ.forEach((t=>{this.oQ.appendChild(t),s?t.classList.add("i-amphtml-carousel-slide-item"):t.classList.add("amp-scrollable-carousel-slide")}))}YY(t,i){const s=this.cS;if(this.cS=t,null==s)return;const e={"index":t},n="slideChange",o=this.CY(i)?3:1,h={"index":t,"actionTrust":o},a=$(this.win,`slidescroll.${n}`,e);this.fc.trigger(this.element,n,a,o),function(t,i,s,e){const n=s||{};r(t.ownerDocument);const o=t.ownerDocument.createEvent("Event");o.data=n;const{bubbles:h,cancelable:a}=l;o.initEvent("slideChange",h,a),t.dispatchEvent(o)}(this.element,0,h),this.FU(s,t)}m0(t){return null==t?"null":this.fQ[t].getAttribute("data-slide-id")||String(t)}FU(t,i){const s=i-t,e=this.fQ.length,n=(this.uG.isLooping()?s>0&&s/e<.5||s<0&&s/e<-.5:s>0)?"amp-carousel-next":"amp-carousel-prev",r={"fromSlide":this.m0(t),"toSlide":this.m0(i)};j(this.element,"amp-carousel-change",r),j(this.element,n,r)}CY(t){return 2==t||3==t||0==t}n0(){this.s0&&H(this.oQ,"touchmove",(t=>{t.shouldViewerCancelPropagation=!0}))}t0(t){this.hj=void 0!==t?t:!this.hj,this.uG.updateAutoAdvance(this.hj)}CQ(){this.PQ.setQueueChanges(this.mD)}kQ(){this.PQ.flushChanges(),this.PQ.setQueueChanges(!1),this.MY()}SQ(t){const i=W(t),s=i.index,e=i.actionSource;this.gQ=this.gQ||3==e,this.MY(),this.TT!=pt&&this.YY(s,e)}};t.registerElement("amp-carousel",mt,'.i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{visibility:hidden;z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}amp-carousel .i-amphtml-carousel-scroll[horizontal=true]{padding-bottom:0!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-scroll{display:block!important;white-space:nowrap!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-content{position:static}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px;margin-inline-start:8px;margin-inline-end:0}.amp-scrollable-carousel-slide.i-amphtml-layout-responsive{width:100%}.amp-scrollable-carousel-slide:first-child{margin-left:0px;margin-inline-start:0;margin-inline-end:0}.i-amphtml-carousel-arrows{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;pointer-events:none}.amp-carousel-button[dir=rtl]{transform:scaleX(-1)}.amp-carousel-button{position:relative;box-sizing:border-box;height:34px;width:34px;margin:16px;border-style:none;border-radius:2px;background-color:rgba(0,0,0,.5);background-position:50% 50%;background-repeat:no-repeat;z-index:10;pointer-events:all}.amp-carousel-button:focus{border:1px solid #000;outline:1px solid #fff}.amp-carousel-button.amp-disabled{animation:none;pointer-events:none;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;white-space:nowrap;width:1px}.amp-carousel-button-prev{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/></svg>\');background-size:18px 18px}.amp-carousel-button-next{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="%23fff"><path d="M9 3 7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z"/></svg>\');background-size:18px 18px}.i-amphtml-carousel-slide-item{position:relative!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-carousel-slide-item>*{width:100%;height:100%;overflow:hidden!important}.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-carousel/0.2/amp-carousel.css*/')})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-carousel-0.2.mjs.map