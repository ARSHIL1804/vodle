{"version":3,"file":"amp-iframely-0.1.mjs","mappings":"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","names":["intersectionDeferreds","intersectionObservers","propertyNameCache","isArray","Array","hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","shouldBeTruthy","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","element","opt_replacedContent","classList","add","WeakMap","optsSupported","vendorPrefixes","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","getUserLogger","win","assert","url","params","paramString","opt_addToFront","mainAndFragment","split","mainAndQuery","newUrl","appendEncodedParamStringToUrl","s","k","v","arrayOrSingleItem","i","length","push","key","value","encodeURIComponent","join","serializeQueryString","Set","TAG","AmpIframely","AMP","BaseElement","constructor","super","this","src_","iframe_","widgetId_","base_","url_","key_","options_","isLayoutSupported","layout","isLayoutSizeDefined","buildCallback","parseOptions_","domain","requestedDomain","isValidDomain_","parseAttributes_","preconnectCallback","opt_onLayout","preconnect","createPlaceholderCallback","getLayout","hasAttribute","attributes","src","addParamsToUrl","constructSrc_","loading","placeholder","attr","setAttribute","addAttributesToElement","ownerDocument","createElement","applyFillContent","layoutCallback","property","opt_units","opt_bypassCache","propertyName","style","camelCase","startsWith","create","undefined","titleCase","charAt","toUpperCase","slice","camelCaseToTitleCase","prefixedPropertyName","getVendorJsPropertyName_","getVendorJsPropertyName","styleValue","setProperty","hyphenated","replace","match","toLowerCase","some","prefix","camelCaseToHyphenCase","setStyle","appendChild","unlistener_","eventType","listener","opt_evtListenerOpts","localElement","localListener","wrapped","event","e","__AMP_REPORT_ERROR","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","internalListenImplementation","source","contentWindow","handleEvent_","loadPromise","data","json","opt_onFailed","JSON","parse","parseJson","tryParseJson","getData","method","height","attemptChangeHeight","catch","media","el","deferred","_intersectionDeferred2","get","inOb","devAssert","observer","ioCallback","opts","needsRootBounds","rootMargin","threshold","root","parent","isIframed","IntersectionObserver","createViewportObserver","entries","seen","target","has","unobserve","resolve","delete","set","getInOb","node","defaultView","observe","promise","Promise","res","rej","reject","measureIntersection","then","box","boundingClientRect","width","Math","round","abs","attemptCollapse","slug","amp","userAssert","o","dataset","props","keys","reduce","acc","includes","unlayoutCallback","_element$parentElemen","parentElement","removeChild","unlisten_","domainName","allowed","re","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/types/array.js","src/core/dom/layout/intersection.js","src/core/dom/style.js","src/core/types/object/index.js","src/core/assert/dev.js","src/core/dom/layout/index.js","src/core/dom/layout/viewport-observer.js","src/core/dom/event-helper-listen.js","src/config.js","src/utils/log.js","src/url.js","extensions/amp-iframely/0.1/amp-iframely.js","src/core/dom/index.js","src/utils/event-helper.js","src/core/types/object/json.js","src/core/window/index.js","src/core/data-structures/promise.js"]}
