{"version":3,"file":"amp-fx-flying-carpet-0.1.mjs","mappings":"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","names":["resolved","propertyNameCache","isArray","Array","hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","node","nodeOrTagName","tagName","value","nodeType","toLowerCase","startsWith","isInternalElement","Node","ELEMENT_NODE","hasAttribute","vendorPrefixes","env","self","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","getUserLogger","win","assert","elementOrAmpDoc","id","getServiceInternal","nodeOrDoc","ampdoc","getAmpdoc","isSingleDoc","getAmpdocServiceHolder","ownerDocument","defaultView","__AMP_TOP","getTopWindow","getService","getAmpDoc","holder","devAssert","service","__AMP_SERVICES","ctor","isServiceRegistered","s","services","getServices","obj","context","resolve","Services","getServiceForDoc","AmpFlyingCarpet","AMP","BaseElement","constructor","element","super","this","children_","totalChildren_","container_","initialPositionChecked_","isLayoutSupported","layout","isRelayoutNeeded","buildCallback","doc","container","createElement","parent","callback","children","child","firstElementChild","nextElementSibling","isInternalOrServiceNode","push","childElements","childNodes","nodes","firstChild","nextSibling","visibileChildren_","length","owners","forEach","setOwner","clip","setAttribute","appendChild","getViewport","addToFixedLayer","assertPosition_","layoutBox","getLayoutBox","viewport","viewportHeight","getHeight","minTop","maxTop","getScrollHeight","userAssert","top","layoutCallback","e","collapse","width","getLayoutSize","property","opt_units","opt_bypassCache","propertyName","style","camelCase","create","undefined","titleCase","charAt","toUpperCase","slice","camelCaseToTitleCase","prefixedPropertyName","i","getVendorJsPropertyName_","getVendorJsPropertyName","styleValue","setProperty","hyphenated","replace","match","some","prefix","camelCaseToHyphenCase","setStyle","scheduleLayout","observeNewChildren_","forceClipDraw_","Promise","IntersectionObserver","entries","last","classList","toggle","isIntersecting","threshold","observe","MutationObserver","changes","addedNodes","n","signals","whenSignal","then","layoutBuiltChild_","bind","childList","subtree","getOwner","collapsedCallback","index","indexOf","splice","attemptCollapse","catch","getChildren","filter","textContent","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["src/core/data-structures/promise.js","src/core/dom/style.js","src/core/types/array.js","src/core/types/object/index.js","src/core/dom/query.js","src/core/types/index.js","src/core/types/string/index.js","src/config.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.js","src/core/dom/layout/index.js","src/core/constants/common-signals.js","build/amp-fx-flying-carpet-0.1.css.js"]}
