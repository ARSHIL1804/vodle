;
(self.AMP=self.AMP||[]).push({m:1,v:"2203281422000",n:"amp-action-macro",ev:"0.1",l:!0,f:function(t,n){(()=>{var{hasOwnProperty:n,toString:e}=Object.prototype;var r=self.AMP_CONFIG||{},i=("string"==typeof r.thirdPartyFrameRegex?new RegExp(r.thirdPartyFrameRegex):r.thirdPartyFrameRegex,("string"==typeof r.cdnProxyRegex?new RegExp(r.cdnProxyRegex):r.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function o(t){if(!self.document||!self.document.head)return null;if(self.location&&i.test(self.location.origin))return null;const n=self.document.head.querySelector(`meta[name="${t}"]`);return n&&n.getAttribute("content")||null}r.thirdPartyUrl,r.thirdPartyFrameHost,r.cdnUrl||o("runtime-host"),r.errorReportingUrl,r.betaErrorReportingUrl,r.localDev,r.geoApiUrl||o("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var s=self.__AMP_LOG;function u(t){return function(t,n){throw new Error("failed to call initLogConstructor")}()}function c(t,n,e,r,i,o,s,u,c,l,a){return t}function l(t,n,e,r,i,o,c,l,a,f,h){return(s.user||(s.user=u()),void s.user.win?s.userForEmbed||(s.userForEmbed=u()):s.user).assert(t,n,e,r,i,o,c,l,a,f,h)}function a(t,n){const e=function(t){const n=f(t);return n.isSingleDoc()?n.win:n}(f(t));return d(e,n)?h(e,n):null}function f(t){return t.nodeType?(n=t,e=(n.ownerDocument||n).defaultView,function(t,n){return h(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}(e,"ampdoc")).getAmpDoc(t):t;var n,e}function h(t,n){c(d(t,n));const e=function(t){let n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}(t)[n];return e.obj||(c(e.ctor),c(e.context),e.obj=new e.ctor(e.context),c(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function d(t,n){const e=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!e||!e.ctor)}var m="amp-action-macro",p=class extends t.BaseElement{constructor(t){super(t),this.A_=null,this.Lx=[]}buildCallback(){const{element:t}=this;this.A_=(t=>a(t,"action"))(t);const n=t.getAttribute("arguments");n&&(this.Lx=n.split(",").map((t=>t.trim()))),this.registerAction("execute",this.os.bind(this))}getLayoutPriority(){return 1}os(t){const{actionEventType:n,args:e,event:r,trust:i}=t;if(e&&this.Lx.length>0)for(const t in e)l(this.Lx.includes(t),'Variable argument name "%s" is not defined in %s',t,this.element);t.caller.tagName.toLowerCase()===m&&l(this.Ox(t.caller),'Action macro with ID "%s" cannot reference itself or macros defined after it',this.element.getAttribute("id")),this.A_.trigger(this.element,`${n}`,r,i,e)}renderOutsideViewport(){return!0}isLayoutSupported(t){return!0}Ox(t){return!!(this.element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING)}};t.registerElement(m,p)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-action-macro-0.1.mjs.map