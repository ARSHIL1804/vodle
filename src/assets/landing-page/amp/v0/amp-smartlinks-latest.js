;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-smartlinks",ev:"0.1",l:!0,f:function(n,t){!function(){function t(n,i){return(t=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,i)}function i(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&t(n,i)}function r(n){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function u(n,t){if(t&&("object"===e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function o(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var i,e=r(n);if(t){var o=r(this).constructor;i=Reflect.construct(e,arguments,o)}else i=e.apply(this,arguments);return u(this,i)}}var s="load-start",f=Array.isArray;function c(n,t){(null==t||t>n.length)&&(t=n.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=n[i];return r}var a=Object.prototype;function h(n){return(n.ownerDocument||n).defaultView}function l(n,t,i){return function(n,t){for(var i in t)n.setAttribute(i,t[i]);return n}(n.createElement(t),i)}a.hasOwnProperty,a.toString;var v=self.AMP_CONFIG||{},p=("string"==typeof v.thirdPartyFrameRegex?new RegExp(v.thirdPartyFrameRegex):v.thirdPartyFrameRegex,("string"==typeof v.cdnProxyRegex?new RegExp(v.cdnProxyRegex):v.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function d(n){if(!self.document||!self.document.head)return null;if(self.location&&p.test(self.location.origin))return null;var t=self.document.head.querySelector('meta[name="'.concat(n,'"]'));return t&&t.getAttribute("content")||null}v.thirdPartyUrl,v.thirdPartyFrameHost,v.cdnUrl||d("runtime-host"),v.errorReportingUrl,v.betaErrorReportingUrl,v.localDev,v.geoApiUrl||d("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var m,b=self.__AMP_LOG;function y(n,t){throw new Error("failed to call initLogConstructor")}function w(n){return y()}function k(){return b.dev||(b.dev=y())}function g(n,t,i,r,e,u,o,s,f,c,a){return n}function _(){return m||(m=Promise.resolve(void 0))}var j=function(){var n=this;this.promise=new Promise((function(t,i){n.resolve=t,n.reject=i}))};function S(n,t){return x(n=function(n){return n.__AMP_TOP||(n.__AMP_TOP=n)}(n),t)}function E(n,t){return x(T(I(n)),t)}function N(n,t){return function(n,t){var i=R(n,t);if(i)return i;var r,e,u,o,s=A(n);return s[t]=(e=(r=new j).promise,u=r.reject,o=r.resolve,e.catch((function(){})),{obj:null,promise:e,resolve:o,reject:u,context:null,ctor:null}),s[t].promise}(T(n),t)}function O(n,t){return R(T(n),t)}function I(n){return n.nodeType?(t=h(n),S(t,"ampdoc")).getAmpDoc(n):n;var t}function T(n){var t=I(n);return t.isSingleDoc()?t.win:t}function x(n,t){g(function(n,t){var i=n.__AMP_SERVICES&&n.__AMP_SERVICES[t];return!(!i||!i.ctor)}(n,t));var i=A(n)[t];return i.obj||(g(i.ctor),g(i.context),i.obj=new i.ctor(i.context),g(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function R(n,t){var i=A(n)[t];return i?i.promise?i.promise:(x(n,t),i.promise=Promise.resolve(i.obj)):null}function A(n){var t=n.__AMP_SERVICES;return t||(t=n.__AMP_SERVICES={}),t}var P=function(n){return I(n)},C=function(n){return function(n,t,i,r){var e=O(n,t);if(e)return e;var u=I(n);return u.whenExtensionsKnown().then((function(){var n=u.getExtensionVersion(i);return n?S(u.win,"extensions").waitForExtension(i,n):null})).then((function(i){return i?N(n,t):null}))}(n,"amp-analytics-instrumentation","amp-analytics")},D=function(n){return S(n,"extensions")};function U(n){return n.data}var L="https://api.narrativ.com/api",z={PAGE_IMPRESSION_ENDPOINT:"".concat(L,"/v1/events/impressions/page_impression/"),NRTV_CONFIG_ENDPOINT:"".concat(L,"/v0/publishers/.nrtv_slug./amp_config/"),LINKMATE_ENDPOINT:"".concat(L,"/v1/publishers/.pub_id./linkmate/smart_links/")},M=function(n,t){this.syncResponse=n,this.asyncResponse=t},$=function(){function n(n,t,i,r){this.Sr=t,this.I_=i.exclusiveLinks,this.C_=i.publisherID,this.D_=i.linkAttribute,this.hN=null,this.U_=null,this.t=r}var t=n.prototype;return t.runLinkmate=function(n){var t=this,i=null,r=this.hN&&!function(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!isFinite(i)||i<0)throw new Error("Invalid depth: "+i);if(n===t)return!0;for(var r=[{a:n,b:t,depth:i}];r.length>0;){var u=r.shift(),o=u.a,s=u.b,c=u.depth;if(c>0){if(e(o)!==e(s))return!1;if(f(o)&&f(s)){if(o.length!==s.length)return!1;for(var a=0;a<o.length;a++)r.push({a:o[a],b:s[a],depth:c-1});continue}if(o&&s&&"object"===e(o)&&"object"===e(s)){var h=Object.keys(o),l=Object.keys(s);if(h.length!==l.length)return!1;for(var v=0,p=h;v<p.length;v++){var d=p[v];r.push({a:o[d],b:s[d],depth:c-1})}continue}}if(o!==s)return!1}return!0}(this.hN,n);if(this.U_&&r&&(i=this.M_()),!this.U_||r){var u=this.q_(n).then((function(i){return t.U_=U(i)[0].smart_links,t.hN=n,t.M_()}));return new M(i,u)}return this.hN=n,new M(i,null)},t.q_=function(n){var t=this.G_(n),i={"article":this.B_(),"links":t},r=z.LINKMATE_ENDPOINT.replace(".pub_id.",this.C_.toString()),e={method:"POST",ampCors:!1,headers:{"Content-Type":"application/json"},body:i};return this.Sr.fetchJson(r,e).then((function(n){return n.json()}))},t.G_=function(n){var t=this,i=[];return n.forEach((function(n){var r=n.getAttribute(t.D_);if(/shop-links.co/.test(r))/\?amp=true$/.test(r)||(n[t.D_]="".concat(n[t.D_],"?amp=true"));else if(!/#donotlink$/.test(r)){var e={"raw_url":r,"exclusive_match_requested":t.I_||/#locklink$/.test(r),"link_source":"linkmate"};i.push(e)}})),i},t.B_=function(){return{"name":this.F_(),"url":this.K_()}},t.F_=function(){var n=null;return this.t.document.getElementsByTagName("title").length>0&&(n=this.t.document.getElementsByTagName("title")[0].text),n},t.K_=function(){return this.t.location.href},t.M_=function(){var n=this,t=[];return this.hN.forEach((function(i){n.U_.forEach((function(r){i.getAttribute(n.D_)===r.url&&r.auction_id&&t.push({anchor:i,replacementUrl:"https://shop-links.co/".concat(r.auction_id,"/?amp=true")})}))})),t},n}();function q(n){return n.getAttribute("nrtv-account-name").toLowerCase()}function G(n){return!!n.hasAttribute("linkmate")}function B(n){return!!n.hasAttribute("exclusive-links")}function F(n){var t=n.getAttribute("link-attribute");return t?t.toLowerCase():"href"}function K(n){var t=n.getAttribute("link-selector");return t?t.toLowerCase():"a"}var Z=function(){function n(n,t){var i=this;for(var r in g(t.triggers),this.Ei=n.getResourceId(),this.ei=n,this.IN=t,t.triggers){var e=t.triggers[r].on;g(e);var u=this.UN(e);t.triggers[r].on=u}this.ei.signals().whenSignal(s).then((function(){!function(n,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],e=n.ownerDocument,u=l(e,"amp-analytics",{"sandbox":"true","trigger":r?"":"immediate"}),o=l(e,"script",{"type":"application/json"});if(o.textContent=JSON.stringify(t),u.appendChild(o),u.CONFIG=t,i){var s=D(h(n)),f=P(n);s.installExtensionForDoc(f,"amp-analytics")}else C(n).then((function(n){g(n)}));n.appendChild(u)}(i.ei,t,!0)}))}var t=n.prototype;return t.trigger=function(n,t){g(this.IN.triggers[n]),function(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];C(n).then((function(e){e&&e.triggerEventForTarget(n,t,i,r)}))}(this.ei,this.UN(n),t,!1)},t.UN=function(n){return"sandbox-".concat(this.Ei,"-").concat(n)},n}(),H=function(){function n(n){this.ei=n,this.IN={"requests":{},"triggers":{}}}var t=n.prototype;return t.setTransportConfig=function(n){this.IN.transport=n},t.setExtraUrlParams=function(n){this.IN.extraUrlParams=n},t.track=function(n,t){t=f(t)?t:[t],g(!this.IN.triggers[n]);for(var i=[],r=0;r<t.length;r++){var e="".concat(n,"-request-").concat(r);this.IN.requests[e]=t[r],i.push(e)}return this.IN.triggers[n]={"on":n,"request":i},this},t.build=function(){g(this.IN);var n=new Z(this.ei,this.IN);return this.IN=null,n},n}();var J,V=function(){function n(){this.ve=[]}var t,i=n.prototype;return i.peek=function(){var n=this.length;return n?this.ve[n-1].item:null},i.enqueue=function(n,t){if(isNaN(t))throw new Error("Priority must not be NaN.");var i=this.de(t);this.ve.splice(i,0,{item:n,priority:t})},i.de=function(n){for(var t=-1,i=0,r=this.length;i<=r&&(t=Math.floor((i+r)/2))!==this.length;)if(this.ve[t].priority<n)i=t+1;else{if(!(t>0&&this.ve[t-1].priority>=n))break;r=t-1}return t},i.forEach=function(n){for(var t=this.length;t--;)n(this.ve[t].item)},i.dequeue=function(){var n=this.ve.pop();return n?n.item:null},(t=[{key:"length",get:function(){return this.ve.length}}])&&function(n,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}(n.prototype,t),n}(),W=(new Set(["c","v","a","ad"]),0),Q="data-link-rewriter-original-url",X=function(){function n(){this.vt=null}var t=n.prototype;return t.add=function(n){var t=this;return this.vt||(this.vt=[]),this.vt.push(n),function(){t.remove(n)}},t.remove=function(n){var t,i,r;this.vt&&(i=n,-1!=(r=(t=this.vt).indexOf(i))&&t.splice(r,1))},t.removeAll=function(){this.vt&&(this.vt.length=0)},t.fire=function(n){if(this.vt)for(var t,i=function(n,t){var i="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(i)return(i=i.call(n)).next.bind(i);if(Array.isArray(n)||(i=function(n,t){if(n){if("string"==typeof n)return c(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);return"Object"===i&&n.constructor&&(i=n.constructor.name),"Map"===i||"Set"===i?Array.from(n):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(n,t):void 0}}(n))||n&&"number"==typeof n.length){i&&(n=i);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.vt.slice());!(t=i()).done;)(0,t.value)(n)},t.getHandlerCount=function(){var n,t;return null!==(n=null===(t=this.vt)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n}(),Y=function(){function n(){this.hN=[],this.lN=[]}var t=n.prototype;return t.updateLinkList=function(n){this.lN=n.map(this.getReplacementUrlForAnchor.bind(this)),this.hN=n},t.updateReplacementUrls=function(n){var t=this;n.forEach((function(n){var i=n.anchor,r=n.replacementUrl,e=t.hN.indexOf(i);-1!==e&&(t.lN[e]=r)}))},t.getReplacementUrlForAnchor=function(n){var t=this.hN.indexOf(n);return-1!==t?this.lN[t]:null},t.isInCache=function(n){return-1!==this.hN.indexOf(n)},t.getAnchorReplacementList=function(){var n=this;return this.hN.map((function(t){return{anchor:t,replacementUrl:n.getReplacementUrlForAnchor(t)}}))},n}(),nn=["Webkit","webkit","Moz","moz","ms","O","o"];function tn(n,t,i,r,e){var u=function(n,t,i){if(t.startsWith("--"))return t;var r;J||(r=Object.create(null),J=r);var e=J[t];if(!e||i){if(e=t,void 0===n[t]){var u=function(n){return n.charAt(0).toUpperCase()+n.slice(1)}(t),o=function(n,t){for(var i=0;i<nn.length;i++){var r=nn[i]+t;if(void 0!==n[r])return r}return""}(n,u);void 0!==n[o]&&(e=o)}i||(J[t]=e)}return e}(n.style,t,e);if(u){var o,s=r?i+r:i;n.style.setProperty((o=u.replace(/[A-Z]/g,(function(n){return"-"+n.toLowerCase()})),nn.some((function(n){return o.startsWith(n+"-")}))?"-".concat(o):o),s)}}var rn=!1,en="CHUNK",un=/nochunking=1/.test(self.location.hash),on=_();var sn="not_run",fn=function(){function n(n){this.state=sn,this.pe=n}var t=n.prototype;return t.be=function(n){if("run"!=this.state){this.state="run";try{this.pe(n)}catch(n){throw this.ge(n),n}}},t.ye=function(){return this.pe.displayName||this.pe.name},t.ge=function(n){},t.we=function(){return!1},t.Ae=function(){return!1},n}(),cn=function(n){i(r,n);var t=o(r);function r(n,i,r){var e;return(e=t.call(this,n)).Ee=r,e}var e=r.prototype;return e.ge=function(n){var t;g((t=self.document).defaultView),rn||(rn=!0,function(n){!function(n,t){for(var i in t)tn(n,i,t[i])}(n.body,{opacity:1,visibility:"visible","animation":"none"})}(t))},e.we=function(){return this.xe()},e.Ae=function(){return this.Ee.Oe},e.xe=function(){return this.Ee.ampdoc.isVisible()},r}(fn),an=function(){function n(n){var t,i=this;this.ampdoc=n,this.t=n.win,this.Te=new V,this.Ie=this.Pe.bind(this),this.Se=0,this.Me=!(!this.t.navigator.scheduling||!this.t.navigator.scheduling.isInputPending),this.ke=!1,this.me=this.t.document.documentElement.hasAttribute("i-amphtml-no-boilerplate"),this.t.addEventListener("message",(function(n){"amp-macro-task"==U(n)&&i.Pe(null)})),this.Oe=!1,(t=n,N(t,"viewer")).then((function(){i.Oe=!0})),n.onVisibilityChanged((function(){n.isVisible()&&i._e()}))}var t=n.prototype;return t.run=function(n,t){var i=new fn(n);this.Re(i,t)},t.runForStartup=function(n){var t=new cn(n,this.t,this);this.Re(t,Number.POSITIVE_INFINITY)},t.Re=function(n,t){this.Te.enqueue(n,t),this._e()},t.Ne=function(n){for(var t=this.Te.peek();t&&t.state!==sn;)this.Te.dequeue(),t=this.Te.peek();return t&&n&&this.Te.dequeue(),t},t.Pe=function(n){var t,i=this,r=this.Ne(!0);if(!r)return this.ke=!1,this.Se=0,!1;try{t=Date.now(),r.be(n)}finally{on.then().then().then().then().then().then().then().then().then((function(){i.ke=!1,i.Se+=Date.now()-t,k().fine(en,r.ye(),"Chunk duration",Date.now()-t,i.Se),i._e()}))}return!0},t.Ce=function(n){var t=this;if(this.me&&(this.Me?this.t.navigator.scheduling.isInputPending():this.Se>5))return this.Se=0,void this.je();on.then((function(){t.Ie(n)}))},t._e=function(){if(!this.ke){var n=this.Ne();if(n)return n.we()?(this.ke=!0,void this.Ce(null)):void(n.Ae()&&this.t.requestIdleCallback?(t=this.t,i=2e3,r=this.Ie,e=Date.now(),t.requestIdleCallback((function n(u){if(u.timeRemaining()<15){var o=i-(Date.now()-e);o<=0||u.didTimeout?(k().fine(en,"Timed out",i,u.didTimeout),r(u)):(k().fine(en,"Rescheduling with",o,u.timeRemaining()),t.requestIdleCallback(n,{timeout:o}))}else k().fine(en,"Running idle callback with ",15),r(u)}),{timeout:i})):this.je())}var t,i,r,e},t.je=function(){this.t.postMessage("amp-macro-task","*")},n}(),hn=function(){function n(n,t,i,r){this.events=new X,this.id=t,this.Nu=n,this.vN=i,this.dN=r.linkSelector||"a",this.pN=300,this.mN=new Y}var t=n.prototype;return t.getReplacementUrl=function(n){return this.isWatchingLink(n)?this.mN.getReplacementUrlForAnchor(n):null},t.getAnchorReplacementList=function(){return this.mN.getAnchorReplacementList()},t.isWatchingLink=function(n){return this.mN.isInCache(n)},t.rewriteAnchorUrl=function(n){var t=this.getReplacementUrl(n);return!(!t||t===n.href||(n.setAttribute(Q,n.href),n.href=t,setTimeout((function(){n.href=n.getAttribute(Q),n.removeAttribute(Q)}),this.pN),0))},t.onDomUpdated=function(){var n=this;return new Promise((function(t){!function(n,t,i){if(un)on.then(t);else{var r=function(n){return t="chunk",i=an,function(n,t,i,r,e,u){var o=A(n),s=o[i];s||(s=o[i]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),s.ctor||(s.ctor=r,s.context=t,s.sharedInstance=!1,s.resolve&&x(n,i))}(T(r=I(n)),r,t,i),E(n,"chunk");var t,i,r}(n);r.run(t,i)}}(n.Nu.nodeType==Node.DOCUMENT_NODE?n.Nu.documentElement:n.Nu,(function(){return n.bN().then((function(){n.events.fire({type:"PAGE_SCANNED"}),t()}))}),10)}))},t.bN=function(){var n=this,t=this.wN(),i=this.oN(t);if(this.mN.updateLinkList(t),!i.length)return _();this.mN.updateReplacementUrls(i.map((function(n){return{anchor:n,replacementUrl:null}})));var r,e=this.vN(i);return r=e instanceof M,'Invalid response from provided "resolveUnknownLinks" function."resolveUnknownLinks" should return an instance of TwoStepsResponse',(b.user||(b.user=w()),void b.user.win?b.userForEmbed||(b.userForEmbed=w()):b.user).assert(r,'Invalid response from provided "resolveUnknownLinks" function."resolveUnknownLinks" should return an instance of TwoStepsResponse',undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined),e.syncResponse&&this.mN.updateReplacementUrls(e.syncResponse),e.asyncResponse?e.asyncResponse.then((function(t){n.mN.updateReplacementUrls(t)})):_()},t.oN=function(n){var t=this,i=[];return n.forEach((function(n){t.isWatchingLink(n)||i.push(n)})),i},t.wN=function(){var n=this.Nu.querySelectorAll(this.dN);return[].slice.call(n)},n}(),ln=function(){function n(n){var t;this.Nu=n.getRootNode(),this.yN=this.kN(n),this.gN=[],this.jN(this.Nu),(t=n,E(t,"navigation")).registerAnchorMutator(this.maybeRewriteLink.bind(this),W)}var t=n.prototype;return t.registerLinkRewriter=function(n,t,i){var r=new hn(this.Nu,n,t,i);return this.ON(this.gN,r,this.yN),r.onDomUpdated(),r},t.maybeRewriteLink=function(n,t){var i=this.SN(n);if(i.length){for(var r=null,e=0;e<i.length;e++)if(i[e].rewriteAnchorUrl(n)){r=i[e];break}var u={linkRewriterId:r?r.id:null,anchor:n,clickType:t.type};i.forEach((function(n){var t={type:"CLICK",eventData:u};n.events.fire(t)}))}},t.kN=function(n){var t=n.getMetaByName("amp-link-rewriter-priorities");return t?t.trim().split(/\s+/):[]},t.jN=function(n){n.addEventListener("amp:dom-update",this.NN.bind(this))},t.NN=function(){this.gN.forEach((function(n){n.onDomUpdated()}))},t.xN=function(n){var t=n.hasAttribute("data-link-rewriters")?n.getAttribute("data-link-rewriters").trim():null;return t?t.split(/\s+/):[]},t.ON=function(n,t,i){return n.push(t),n.sort((function(n,t){var r=i.indexOf(n.id),e=i.indexOf(t.id);return-1===r&&-1===e?0:-1===r?1:-1===e?-1:r>e?1:-1})),n},t.SN=function(n){var t=this,i=this.xN(n);return this.gN.reduce((function(r,e){return e.isWatchingLink(n)&&t.ON(r,e,i),r}),[])},n}(),vn=function(n){i(r,n);var t=o(r);function r(n){var i;return(i=t.call(this,n)).Sr=null,i.LN=null,i.MN=null,i.Z_=null,i.H_=null,i.J_=null,i.FN=null,i}var e=r.prototype;return e.buildCallback=function(){var n=this;this.LN=this.getAmpDoc(),this.Sr=S(this.LN.win,"xhr");var t,i=E(this.LN,"viewer");return this.H_={nrtvSlug:q(t=this.element),linkmateEnabled:G(t),exclusiveLinks:B(t),linkAttribute:F(t),linkSelector:K(t)},this.MN=new ln(this.LN),this.LN.whenReady().then((function(){return i.getReferrerUrl()})).then((function(t){n.FN=t,n.LN.whenFirstVisible().then((function(){n.V_()}))}))},e.V_=function(){var n=this;this.W_().then((function(t){t&&(n.H_.linkmateExpected=t.linkmate_enabled,n.H_.publisherID=t.publisher_id,n.Q_(),n.J_=new $(n.LN,n.Sr,n.H_,n.win),n.Z_=n.X_(),n.H_.linkmateEnabled&&n.H_.linkmateExpected&&n.Z_.getAnchorReplacementList())}))},e.W_=function(){var n=z.NRTV_CONFIG_ENDPOINT.replace(".nrtv_slug.",this.H_.nrtvSlug);try{return this.Sr.fetchJson(n,{method:"GET",ampCors:!1}).then((function(n){return n.json()})).then((function(n){return U(n)[0].amp_config}))}catch(n){return null}},e.Q_=function(){this.signals().signal(s);var n=this.Y_(),t=new H(this.element);t.track("page-impression",z.PAGE_IMPRESSION_ENDPOINT),t.setTransportConfig({"beacon":!0,"image":!1,"xhrpost":!0,"useBody":!0}),t.setExtraUrlParams(n),t.build().trigger("page-impression")},e.X_=function(){var n=this,t={linkSelector:this.H_.linkSelector};return this.MN.registerLinkRewriter("amp-smartlinks",(function(t){return n.J_.runLinkmate(t)}),t)},e.Y_=function(){return{"events":[{"is_amp":!0}],"organization_id":this.H_.publisherID,"organization_type":"publisher","user":{"page_session_uuid":this.VN(),"source_url":this.K_(),"previous_url":this.FN,"user_agent":this.LN.win.navigator.userAgent}}},e.K_=function(){return this.win.location.href},e.VN=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(n){return(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)}))},r}(n.BaseElement);n.registerElement("amp-smartlinks",vn)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-smartlinks-0.1.js.map