{"version":3,"file":"video-iframe-integration-v0.mjs","mappings":";MAAe,WAAyBA,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,QACAG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,WAAiBQ,EAAQC,GACvB,IAAIC,EAAOP,OAAOO,KAAKF,GAEvB,GAAIL,OAAOQ,sBAAuB,CAChC,IAAIC,EAAUT,OAAOQ,sBAAsBH,GAEvCC,IACFG,EAAUA,EAAQC,QAAO,SAAUC,GACjC,OAAOX,OAAOY,yBAAyBP,EAAQM,GAAKT,eAIxDK,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EChBT,ICIIQ,GDJGC,eAAgBC,EAASC,SAAUC,GAAanB,OAAOoB,UEavD,WAAcC,GACnB,IAAIC,GAAY,EAEZC,EAAW,KACXC,EAAWH,EAEf,MAAO,IAAII,KACJH,IACHC,EAAWC,EAASV,MAAMY,KAAMD,GAChCH,GAAY,EACME,EAAY,MAEzBD,GCoCJ,WAAsBI,EAAMC,GACjC,IACE,OAfG,SAAmBD,GACxB,OAAmCE,KAAKC,MAAMH,GAcrCI,CAAUJ,SACVK,GAEP,OADAJ,WAAeI,GACR,MC5DX,IAAMC,EAAMP,KAAKQ,YAAc,GAOzBC,GAJmC,iBAA/BF,EAAI,qBACR,IAAIG,OAAOH,EAAI,sBACfA,EAAI,sBAGwB,iBAAxBA,EAAI,cACR,IAAIG,OAAOH,EAAI,eACfA,EAAI,gBACR,uDAYF,WAAoBI,GAElB,IAAKX,KAAKY,WAAaZ,KAAKY,SAASC,KACnC,OAAO,KAIT,GAAIb,KAAKc,UAAYL,EAAcM,KAAKf,KAAKc,SAASE,QACpD,OAAO,KAGT,MAAMC,EAASjB,KAAKY,SAASC,KAAYK,cACtC,cAAaP,OAEhB,OAAQM,GAAUA,EAAOE,aAAa,YAAe,KCIhD,WAAgBC,EAASC,EAAWC,EAAUC,GACnD,OJbK,SACLH,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAeJ,EACfK,EAAgBH,EAEhBI,EAAWC,IACb,IACE,OAAOF,EAAcE,SACdrB,GAAG,QAGV,MADA,mBAAKsB,0BAAL,gBAA0BtB,GACpBA,IAGV,MAAMjB,EA2BD,WAEL,QAAsBwC,IAAlBxC,EACF,OAAOA,EAGTA,GAAgB,EAChB,IAEE,MAAMyC,EAAU,CACVC,cAEF,OADA1C,GAAgB,GACT,IAGXW,KAAKgC,iBACH,eAEoB,KAEpBF,GAEF9B,KAAKiC,oBACH,eAEoB,KAEpBH,SAEKI,IAGT,OAAO7C,EA3De8C,GAChBJ,IAAYR,YAAqBQ,SAOvC,OALAP,EAAaQ,iBACXX,EACAK,EACArC,EAAgBkC,EAAsBQ,GAEjC,KACLP,WAAcS,oBACZZ,EACAK,EACArC,EAAgBkC,EAAsBQ,GAGtBN,EAAiB,KACjBD,EAAgB,KAClCE,EAAU,MItBLU,CACLhB,EACAC,EACAC,EACAC,GDUUhB,EAAI,cACKA,EAAI,oBAGvBA,EAAI,QAAa8B,EAAW,gBAO5B9B,EAAI,kBAGJA,EAAI,sBAEIA,EAAI,SAeNA,EAAI,WAAgB8B,EAAW,eEuZzCrC,KAAKsC,UAAYtC,KAAKsC,WAAa,CACjCC,KAAM,KACNC,IAAK,KACLC,aAAc,MAGHzC,KAAKsC,UC9elB,IAEMI,EAAU,wBAoBhB,WAAoBC,KAAoB5C,GACtC,IAAK4C,EACH,MAAM,IAAIC,MAAO,wBAAW7C,EAAK8C,KAAK,8CAExC,OAAOF,EAGT,IAAMG,EAAe,CACnB,QACA,OACA,OACA,SACA,kBACA,iBACA,eACA,iBAwXK,SAAeC,GACpBC,GACGD,EAAOL,GACR,gEAGFK,EAAOL,IAAW,EAGlBK,EAAOnB,mBAAqBqB,QAAQC,MAAMC,KAAKF,SAG/C,MAAMG,EAAc,IAnXf,MAELC,YAAYC,GAKVC,KAAKC,GAAyB,EAG9BD,KAAKE,EAAe,EAGpBF,KAAKG,EAAa,GAGlBH,KAAKI,EAAOL,EAGZC,KAAKK,EAAW,GAGhBL,KAAKM,EAAgBC,GAAK,MAgU9B,SAAkBR,EAAKS,GACrBC,EAAOV,EAAK,WAAYhD,IACtB,MAAM2D,EAAUC,EAAqB5D,EF5VmB6D,ME6VnDF,GAILF,EAAUE,MAtURG,CAASb,KAAKI,GAAOrD,GAAMiD,KAAKc,EAAW/D,QAI7CiD,KAAKe,GAAS,EAGdf,KAAKgB,GAAsB,EAM3BhB,KAAKiB,EAAmBV,GAAK,IAAMI,EAAaX,KAAKI,EAAKhD,QAI5D8D,cACE,OAAOlB,KAAKiB,IAOdE,OAAO/D,EAAMb,GACXkD,EAAWF,EAAa6B,QAAQhE,IAAQ,EAAK,kBAAiBA,MAE9D,MAAMiE,EACI,QAARjE,GAA0B,SAARA,EACd4C,KAAKsB,EAAiB/E,GACtBA,EAENyD,KAAKK,EAASjD,GAAQiE,EACtBrB,KAAKM,IAOPQ,EAAWF,GACT,MAAMW,EAAKX,EAAK,GC9Gb,IAAwB9F,EACL,iBADKA,ED+GRyG,IC9GeC,SAAS1G,ID8GjBkF,KAAKG,EAAWoB,GACxCvB,KAAKyB,EAAgBF,EAAIX,EAAK,MAIX,UAAjBA,EAAK,OACPZ,KAAK0B,EAAcd,EAAK,QAS5Ba,EAAgBF,EAAI/E,IAElBD,EADiByD,KAAKG,EAAWoB,IACxB/E,UACFwD,KAAKG,EAAWoB,GAOzBG,EAAcP,GACNA,KAAUnB,KAAKK,GAGrBL,KAAKK,EAASc,KAUhBN,SAASc,EAAMC,EAASC,GACtBpC,GACGO,KAAKgB,EACN,iDAEF,MAAMc,EAAQ,CACZC,WAAY,KACVtC,GACGoC,EACD,oEAEF7B,KAAKgC,EAAkBhC,KAAKiC,EAAaL,KAE3CM,UAAW,KACTlC,KAAKmC,EACH1C,EACEmC,EACA,0DAEFC,KAINpC,EACEqC,EAAMH,EAAKS,eACV,0BAAyBT,MACzB,oBAAmB5G,OAAOO,KAAKwG,GAAOxC,KAAK,SAH9CG,GAKAO,KAAKgB,GAAsB,EAQ7BiB,EAAaI,GACX,OAAIA,GACF5C,EACE4C,EAAWC,GACX,iEACA,mBAEKD,GAEF5C,EACLO,KAAKI,EAAK2B,SACV,8DAFKtC,GAUTuC,EAAkBO,GAChB,CAAC,QAAS,cAAcC,SAASzF,IAC/BwF,EAAOD,GAAGvF,GAAG,KACX0C,EAAW5D,MAAM,KAAM,EAAC,GAAO4G,OAAOC,YACtC1C,KAAK2C,UAAU,eAInB,CAAC,YAAa,aAAc,WAAWH,SAASzF,IAC9CwF,EAAOD,GAAGvF,GAAG,IAAMiD,KAAK2C,UAAU,eAGpCJ,EAAOD,GAAG,aAAa,IAAMtC,KAAK2C,UAAU,cAE5C,MAAMC,EAAe,CACnBC,OAAQ,UACRC,QAAS,UACTC,QAAS,SAGXhI,OAAOO,KAAKsH,GAAcJ,SAASzF,IACjCwF,EAAOD,GAAGvF,GAAG,IAAMiD,KAAK2C,UAAUC,EAAa7F,SAGjDwF,EAAOD,GAAG,UAAWvF,GAAMiD,KAAKgD,EAAgBjG,EAAEkG,UAElDjD,KAAKmB,OAAO,QAAQ,IAAMoB,EAAOM,SACjC7C,KAAKmB,OAAO,SAAS,IAAMoB,EAAOQ,UAClC/C,KAAKmB,OAAO,QAAQ,IAAMoB,EAAOW,SAAQ,KACzClD,KAAKmB,OAAO,UAAU,IAAMoB,EAAOW,SAAQ,KAC3ClD,KAAKmB,OAAO,gBAAgB,IAAMoB,EAAOY,aAAY,KACrDnD,KAAKmB,OAAO,gBAAgB,IAAMoB,EAAOY,aAAY,KACrDnD,KAAKmB,OAAO,mBAAmB,IAAMoB,EAAOa,eAAc,KAC1DpD,KAAKmB,OAAO,kBAAkB,IAAMoB,EAAOa,eAAc,KAQ3DjB,EAAiBtE,EAASgE,GACxB,MAAMwB,EAlNH,SAAoBtD,EAAK8B,GAC9B,OAAOpC,EACLoC,GAA8C9B,EAAImC,QAClD,mDA+MoBoB,CAAWtD,KAAKI,EAAMyB,GACpCU,EAASc,EAAYxF,GAE3B0E,EAAOO,OAAM,KACX,MAAMS,EAAU,UAEhB,CAAC,UAAW,QAAS,SAASf,SAASzF,IACrCwF,EAAOD,GAAGvF,GAAG,IAAMiD,KAAK2C,UAAU5F,QAIhCwF,EAAOiB,cAAuC,EAChDxD,KAAK2C,UAAUY,GAEfhB,EAAOD,GAAGiB,GAAS,IAAMvD,KAAK2C,UAAUY,KAG1C9C,EAAO5C,EAAS,gBAAgB,IAC9BmC,KAAKgD,EAAgBT,EAAOU,YAG9BjD,KAAKmB,OAAO,QAAQ,IAAMoB,EAAOM,SACjC7C,KAAKmB,OAAO,SAAS,IAAMoB,EAAOQ,UAClC/C,KAAKmB,OAAO,QAAQ,IAAMoB,EAAOkB,OAAM,KACvCzD,KAAKmB,OAAO,UAAU,IAAMoB,EAAOkB,OAAM,KACzCzD,KAAKmB,OAAO,gBAAgB,IAAMoB,EAAOmB,UAAS,KAClD1D,KAAKmB,OAAO,gBAAgB,IAAMoB,EAAOmB,UAAS,KAClD1D,KAAKmB,OAAO,mBAAmB,IAAMoB,EAAOoB,sBAC5C3D,KAAKmB,OAAO,kBAAkB,IAAMoB,EAAOqB,sBAQ/CZ,EAAgBa,GACd,GAAIA,EAAY,IAGd,OAFA7D,KAAKe,GAAS,OACdf,KAAK2C,UAAU,SAGb3C,KAAKe,IACPf,KAAKe,GAAS,EACdf,KAAK2C,UAAU,YASnBrB,EAAiB/E,GACf,MAAO,KACL,IEpQqBH,EFqQR,IAAMG,IEpQhB,IAAIuH,SAASC,IAClBA,EAAQ3H,QFmQaG,MACVQ,IEtQR,IAAoBX,GFgRzBuG,UAAUvE,GACR4B,KAAKgE,GAAc,CAAC5F,QAASA,IAQ/B6F,mBAAmBnG,EAAWoG,GAC5BlE,KAAKgE,GAAc,CACjB5F,QAAS,YACT+F,YAAa,CACXrG,YAAaA,EACbsG,OAAQF,KAWdF,GAAcpD,EAAMyD,GAClB,MAAM9C,EAAKvB,KAAKE,IACVoE,ERvVK,SAAwBC,GACrC,QAASC,EAAI,EAAGA,EAAI9B,UAAU+B,OAAQD,IAAK,CACzC,IAAIE,EAAyB,MAAhBhC,UAAU8B,GAAa9B,UAAU8B,GAAK,GAE/CA,EAAI,EACNG,EAAQ5J,OAAO2J,IAAS,GAAMlC,SAAQ,SAAU3H,GAC9CG,EAAeuJ,EAAQ1J,EAAK6J,EAAO7J,OAE5BE,OAAO6J,0BAChB7J,OAAO8J,iBAAiBN,EAAQxJ,OAAO6J,0BAA0BF,IAEjEC,EAAQ5J,OAAO2J,IAASlC,SAAQ,SAAU3H,GACxCE,OAAOC,eAAeuJ,EAAQ1J,EAAKE,OAAOY,yBAAyB+I,EAAQ7J,OAKjF,OAAO0J,EQsUaO,EAAIvD,MAAOX,GAS7B,OAPgCZ,KAAKI,EAAK2E,QACxC/E,KAAKI,EAAK2E,OAAcC,YAAYV,EAAc,KAGhDD,IACFrE,KAAKG,EAAWoB,GAAM8C,GAEjB9C,EAOT0D,gBAAgB1I,GACdyD,KAAKkF,GAAuB,kBAAmB3I,GAOjD4I,eAAe5I,GACbyD,KAAKkF,GAAuB,iBAAkB3I,GAWhD2I,GAAuB/D,EAAQ5E,GAE7B,OADAyD,KAAKM,IACEN,KAAKgE,GAAc,CAAC7C,SAAUA,GAAS5E,KAqCJiD,GAItC4F,EAAa5F,EAAO6F,eAAiB7F,EAAO6F,gBAAkB,GAGpED,EAAUxJ,KAAQW,GAAaA,EAASsD,GAGxCuF,EAAU5C,QAAQ4C,EAAUxJ,MAI5B0J,CAAM7I","names":["obj","key","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","optsSupported","hasOwnProperty","hasOwn_","toString","toString_","prototype","fn","evaluated","retValue","callback","args","self","json","opt_onFailed","JSON","parse","parseJson","e","env","AMP_CONFIG","cdnProxyRegex","RegExp","name","document","head","location","test","origin","metaEl","querySelector","getAttribute","element","eventType","listener","opt_evtListenerOpts","localElement","localListener","wrapped","event","__AMP_REPORT_ERROR","undefined","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","internalListenImplementation","getMetaUrl","__AMP_LOG","user","dev","userForEmbed","__AMP__","shouldBeTrueish","Error","join","validMethods","global","userAssert","console","error","bind","integration","constructor","win","this","isAmpVideoIntegration_","callCounter_","callbacks_","win_","methods_","listenToOnce_","once","onMessage","listen","message","tryParseJson","data","listenTo","onMessage_","muted_","usedListenToHelper_","getMetadataOnce_","getMetadata","method","indexOf","wrappedCallback","safePlayOrPause_","id","isFinite","handleResponse_","maybeExecute_","type","opt_obj","opt_initializer","types","jwplayer","listenToJwPlayer_","getJwplayer_","videojs","listenToVideoJs_","toLowerCase","opt_player","on","player","forEach","concat","arguments","postEvent","redispatchAs","play","ready","pause","onVolumeChange_","volume","setMute","setControls","setFullscreen","initializer","getVideoJs","canplay","readyState","muted","controls","requestFullscreen","exitFullscreen","newVolume","Promise","resolve","postToParent_","postAnalyticsEvent","opt_vars","analytics","vars","opt_callback","completeData","target","i","length","source","ownKeys","getOwnPropertyDescriptors","defineProperties","_objectSpread2","parent","postMessage","getIntersection","getFromHostForTesting_","getConsentData","callbacks","AmpVideoIframe","adopt"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2203281422000/","sources":["node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/object/index.js","src/core/dom/event-helper-listen.js","src/core/types/function/index.js","src/core/types/object/json.js","src/config.js","src/utils/event-helper.js","src/utils/log.js","src/video-iframe-integration.js","src/core/types/index.js","src/core/data-structures/promise.js"]}
