"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[186],{186:(kn,v,p)=>{p.r(v),p.d(v,{PollPage:()=>J,PollPageModule:()=>Un});var f=p(6362),P=p(587),Z=p(8139),a=p(3926),m=p(1951),w=p(4929),U=p(2340),Q=p(2459),L=p(2122),H=p(1353),n=p(260),k=p(6301);const D=["expandWrapper"],q=["*"];let G=(()=>{class o{constructor(t){this.renderer=t}ngAfterViewInit(){this.renderer.setStyle(this.expandWrapper.nativeElement,"height",this.expandHeight+"px")}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.Qsj))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-expandable"]],viewQuery:function(t,e){if(1&t&&n.Gf(D,5,n.SBq),2&t){let i;n.iGM(i=n.CRH())&&(e.expandWrapper=i.first)}},inputs:{expanded:"expanded",expandHeight:"expandHeight"},ngContentSelectors:q,decls:3,vars:2,consts:[[1,"expand-wrapper"],["expandWrapper",""]],template:function(t,e){1&t&&(n.F$t(),n.TgZ(0,"div",0,1),n.Hsn(2),n.qZA()),2&t&&n.ekj("collapsed",!e.expanded)},styles:["app-expandable[_ngcontent-%COMP%]   .expand-wrapper[_ngcontent-%COMP%]{transition:height 1s ease}app-expandable[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{display:none;height:0!important}"]}),o})();function M(o,s){1&o&&(n._UZ(0,"ion-text",10),n.ALo(1,"translate")),2&o&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.-page-title"),n.oJD)}function I(o,s){if(1&o&&(n.TgZ(0,"ion-text")(1,"b"),n._UZ(2,"i",11),n.qZA()()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("innerHtml",t.p.title,n.oJD)}}function N(o,s){1&o&&(n.ynx(0),n._UZ(1,"ion-icon",12)(2,"ion-icon",13),n.BQk())}function Y(o,s){1&o&&n._UZ(0,"ion-spinner",14)}function E(o,s){1&o&&(n._UZ(0,"span",11),n.ALo(1,"translate")),2&o&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.delegate-button"),n.oJD)}function R(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"ion-button",15),n.NdJ("click",function(i){return n.CHM(t),n.oxw().delegate_dialog(i)}),n.YNc(1,E,2,3,"span",16),n._uU(2,"\xa0"),n.TgZ(3,"ion-button",17),n._UZ(4,"ion-icon",18),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",t.scroll_position<70)}}function B(o,s){if(1&o&&(n.TgZ(0,"small"),n._UZ(1,"br"),n._uU(2),n.qZA()),2&o){const t=n.oxw().$implicit;n.xp6(2),n.hij(" ",t.body," ")}}function F(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"ion-card")(1,"ion-card-content",34)(2,"ion-item",35),n._uU(3," \xa0\xa0 "),n.TgZ(4,"ion-label",34),n._uU(5),n.YNc(6,B,3,1,"small",5),n.qZA(),n.TgZ(7,"ion-button",36),n.NdJ("click",function(){const l=n.CHM(t).$implicit,r=n.oxw(2);return r.news.delete(l),r.G.N.dismiss(l.key)}),n._UZ(8,"ion-icon",37),n.qZA()()()()}if(2&o){const t=s.$implicit;n.xp6(5),n.hij(" ",t.title," "),n.xp6(1),n.Q6J("ngIf",t.body)}}const O=function(o){return{language:o}};function S(o,s){if(1&o&&(n.TgZ(0,"small"),n._UZ(1,"p",11),n.ALo(2,"translate"),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.Q6J("innerHtml",n.xi3(2,1,"poll.different-language",n.VKq(4,O,t.G.S.language_names[t.p.language])),n.oJD)}}function z(o,s){if(1&o&&n._UZ(0,"i",11),2&o){const t=n.oxw(2);n.Q6J("innerHtml",t.p.desc,n.oJD)}}function V(o,s){1&o&&(n.TgZ(0,"span"),n._uU(1,"\xa0"),n.qZA())}function j(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"small"),n._uU(1," ("),n.TgZ(2,"ion-text",38),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return i.G.open_url_in_new_tab(i.G.D.fix_url(i.p.url))}),n.ALo(3,"translate"),n.qZA(),n._uU(4,") "),n.qZA()}2&o&&(n.xp6(2),n.Q6J("innerHtml",n.lcZ(3,1,"read-more"),n.oJD))}function W(o,s){1&o&&n._UZ(0,"br")}function $(o,s){1&o&&(n._UZ(0,"ion-badge",39),n.ALo(1,"translate")),2&o&&n.Q6J("innerHtml",n.lcZ(1,1,"badges.closing-soon"),n.oJD)}function K(o,s){1&o&&(n._UZ(0,"span",11),n.ALo(1,"translate")),2&o&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.closes"),n.oJD)}function X(o,s){1&o&&(n._UZ(0,"span",11),n.ALo(1,"translate")),2&o&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.closed"),n.oJD)}function nn(o,s){1&o&&(n.TgZ(0,"ion-item",42)(1,"small")(2,"p"),n._UZ(3,"span",43),n.ALo(4,"translate"),n._uU(5,"\xa0 "),n._UZ(6,"span",11),n.ALo(7,"translate"),n.qZA()()()),2&o&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.hint-abstaining-1"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(7,4,"poll.hint-abstaining-2"),n.oJD))}function tn(o,s){1&o&&(n.TgZ(0,"ion-item",44)(1,"small")(2,"p"),n._UZ(3,"span",43),n.ALo(4,"translate"),n._uU(5,"\xa0 "),n._UZ(6,"span",11),n.ALo(7,"translate"),n.qZA()()()),2&o&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.hint-only1positive-1"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(7,4,"poll.hint-only1positive-2"),n.oJD))}function en(o,s){1&o&&(n.TgZ(0,"ion-item",45)(1,"small")(2,"p"),n._UZ(3,"span",43),n.ALo(4,"translate"),n._uU(5,"\xa0 "),n._UZ(6,"span",11),n.ALo(7,"translate"),n.qZA()()()),2&o&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.hint-only1approved-1"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(7,4,"poll.hint-only1approved-2"),n.oJD))}function on(o,s){1&o&&(n.TgZ(0,"ion-item",46)(1,"small")(2,"p"),n._UZ(3,"span",43),n.ALo(4,"translate"),n._uU(5,"\xa0 "),n._UZ(6,"span",11),n.ALo(7,"translate"),n.qZA()()()),2&o&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.hint-mostapproved-1"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(7,4,"poll.hint-mostapproved-2"),n.oJD))}function ln(o,s){if(1&o&&(n.ynx(0),n.YNc(1,nn,8,6,"ion-item",40),n.YNc(2,tn,8,6,"ion-item",32),n.YNc(3,en,8,6,"ion-item",41),n.YNc(4,on,8,6,"ion-item",31),n.BQk()),2&o){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",t.p.am_abstaining),n.xp6(1),n.Q6J("ngIf",1==t.p.my_n_rated_positive),n.xp6(1),n.Q6J("ngIf",1!=t.p.my_n_rated_positive&&1==t.p.my_n_approved),n.xp6(1),n.Q6J("ngIf",t.p.my_n_approved>1&&!t.p.T.approvals_map.get(t.oidsorted[0]).get(t.p.myvid))}}function rn(o,s){if(1&o&&(n.ynx(0),n.TgZ(1,"ion-item",46)(2,"p"),n._uU(3," Results: "),n.qZA()(),n.TgZ(4,"ion-item",42)(5,"p")(6,"b"),n._uU(7,"The winner is "),n._UZ(8,"i",11),n.qZA()()(),n.TgZ(9,"ion-item",46)(10,"p")(11,"small"),n._UZ(12,"span",11),n.ALo(13,"translate"),n.qZA()()(),n.BQk()),2&o){const t=n.oxw(2);n.xp6(8),n.Q6J("innerHtml",t.p.options[t.oidsorted[0]].name,n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(13,2,"poll.final-ratings"),n.oJD)}}const sn=function(o){return{n_others:o}};function an(o,s){if(1&o&&(n._UZ(0,"span",11),n.ALo(1,"translate")),2&o){const t=n.oxw(3);n.Q6J("innerHtml",n.xi3(1,1,1==t.n_indirect_clients?"poll.also-for-other":"poll.also-for-others",n.VKq(4,sn,t.n_indirect_clients))+" ",n.oJD)}}function _n(o,s){if(1&o&&(n._UZ(0,"span",11),n.ALo(1,"translate")),2&o){const t=n.oxw(3);n.Q6J("innerHtml",n.lcZ(1,1,0==t.n_indirect_clients?"poll.declined-all":"poll.declined-some"),n.oJD)}}function dn(o,s){if(1&o&&(n.TgZ(0,"ion-chip",53),n._UZ(1,"ion-icon",54),n.TgZ(2,"small"),n._uU(3),n.qZA()()),2&o){const t=s.$implicit;n.Q6J("routerLink",t.url),n.xp6(3),n.Oqu(t.from)}}function cn(o,s){if(1&o&&(n.TgZ(0,"ion-row")(1,"ion-col",51)(2,"small"),n._UZ(3,"span",11),n.ALo(4,"translate"),n.YNc(5,dn,4,2,"ion-chip",52),n.qZA()()()),2&o){const t=n.oxw(3);n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.have-accepted"),n.oJD),n.xp6(2),n.Q6J("ngForOf",t.accepted_requests)}}function pn(o,s){if(1&o&&(n.TgZ(0,"ion-chip",53),n._UZ(1,"ion-icon",54),n.TgZ(2,"small"),n._uU(3),n.qZA()()),2&o){const t=s.$implicit;n.Q6J("routerLink",t.url),n.xp6(3),n.Oqu(t.from)}}function gn(o,s){if(1&o&&(n.TgZ(0,"ion-row")(1,"ion-col",51)(2,"small"),n._UZ(3,"span",11),n.ALo(4,"translate"),n.YNc(5,pn,4,2,"ion-chip",52),n.qZA()()()),2&o){const t=n.oxw(3);n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.have-declined"),n.oJD),n.xp6(2),n.Q6J("ngForOf",t.declined_requests)}}function un(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"ion-item",46)(1,"ion-grid",23)(2,"ion-row",47)(3,"ion-col",48)(4,"small"),n.YNc(5,an,2,6,"span",16),n.YNc(6,_n,2,3,"span",16),n._uU(7," \xa0 "),n.TgZ(8,"ion-button",49),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return i.incoming_delegation_expanded=!i.incoming_delegation_expanded}),n._UZ(9,"ion-icon",50),n.qZA()()()(),n.YNc(10,cn,6,4,"ion-row",5),n.YNc(11,gn,6,4,"ion-row",5),n.qZA()()}if(2&o){const t=n.oxw(2);n.xp6(5),n.Q6J("ngIf",t.accepted_requests.length>0),n.xp6(1),n.Q6J("ngIf",t.declined_requests.length>0),n.xp6(4),n.Q6J("ngIf",t.incoming_delegation_expanded&&t.accepted_requests.length>0),n.xp6(1),n.Q6J("ngIf",t.incoming_delegation_expanded&&t.declined_requests.length>0)}}function hn(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"ion-item",44)(1,"ion-grid",23)(2,"ion-row",55)(3,"ion-col",48)(4,"small")(5,"p")(6,"span",56),n._uU(7),n.qZA(),n._uU(8,"\xa0 "),n._UZ(9,"span",11),n.ALo(10,"translate"),n.qZA()()(),n.TgZ(11,"ion-col",57)(12,"ion-button",58),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).revoke_delegation_dialog()}),n._UZ(13,"ion-icon",59),n.qZA()()()()()}if(2&o){const t=n.oxw(2);n.xp6(7),n.Oqu(t.delegate),n.xp6(2),n.Q6J("innerHtml",n.lcZ(10,3,"poll.delegate-not-responded"),n.oJD),n.xp6(3),n.Q6J("disabled",!t.running)}}function mn(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"ion-item",44)(1,"ion-grid",23)(2,"ion-row",55)(3,"ion-col",48)(4,"small")(5,"p")(6,"span",56),n._uU(7),n.qZA(),n._uU(8,"\xa0 "),n._UZ(9,"span",11),n.ALo(10,"translate"),n.qZA()()(),n.TgZ(11,"ion-col",57)(12,"ion-button",60),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).revoke_delegation_dialog()}),n._UZ(13,"ion-icon",59),n.qZA(),n._uU(14,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),n.qZA(),n.TgZ(15,"ion-col",61)(16,"small")(17,"p"),n._UZ(18,"span",11),n.ALo(19,"translate"),n._uU(20,"\xa0 "),n._UZ(21,"ion-icon",62),n.qZA()()()()()()}if(2&o){const t=n.oxw(2);n.xp6(7),n.Oqu(t.delegate),n.xp6(2),n.Q6J("innerHtml",n.lcZ(10,3,"poll.delegate-controls-"+(t.n_delegated==t.oidsorted.length?"all":2*t.n_delegated>t.oidsorted.length?"most":t.n_delegated>0?"some":"none")),n.oJD),n.xp6(9),n.Q6J("innerHtml",n.lcZ(19,5,"poll.choose-whose-ratings"),n.oJD)}}const xn=function(o){return{delegate:o}};function fn(o,s){if(1&o){const t=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"ion-col",92),n._uU(1,"\xa0\xa0\xa0 "),n.TgZ(2,"ion-toggle",93),n.NdJ("ionChange",function(){n.CHM(t);const i=n.oxw().index,l=n.oxw(2);return l.on_rate_yourself_toggle_change(l.oidsorted[i])})("ngModelChange",function(i){n.CHM(t);const l=n.oxw().index,r=n.oxw(2);return r.rate_yourself_toggle[r.oidsorted[l]]=i}),n.qZA(),n.TgZ(3,"div",94),n._UZ(4,"small",11),n.ALo(5,"translate"),n.ALo(6,"translate"),n.qZA()()}if(2&o){const t=n.oxw().index,e=n.oxw(2);n.xp6(2),n.Q6J("id","rate_yourself_toggle_"+e.oidsorted[t])("disabled",!e.running)("ngModel",e.rate_yourself_toggle[e.oidsorted[t]]),n.xp6(2),n.Q6J("innerHtml",e.rate_yourself_toggle[e.oidsorted[t]]?n.lcZ(5,4,"poll.my-own"):n.xi3(6,6,"poll.delegate-s",n.VKq(9,xn,e.delegate)),n.oJD)}}const Pn=function(o){return{average:o}};function Zn(o,s){if(1&o&&(n.TgZ(0,"span",95),n._uU(1,", "),n._UZ(2,"span",86),n.ALo(3,"translate"),n.qZA()),2&o){const t=n.oxw().index,e=n.oxw(2);n.xp6(2),n.Q6J("innerHtml",n.xi3(3,1,"poll.average-rating",n.VKq(4,Pn,e.Math.round(e.p.T.total_effective_ratings_map.get(e.oidsorted[t])/e.Math.max(1,e.p.T.n_not_abstaining)*10)/10)),n.oJD)}}const y=function(o){return{percentage:o}};function wn(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"ion-item",63)(1,"ion-grid",23)(2,"ion-row",23)(3,"ion-col",64),n.O4$(),n.TgZ(4,"svg",65),n._UZ(5,"circle",66)(6,"path",67),n.qZA()(),n.kcU(),n.TgZ(7,"ion-col")(8,"ion-grid",23)(9,"ion-row",68),n.NdJ("click",function(){const l=n.CHM(t).index,r=n.oxw(2);return r.expand(r.oidsorted[l])}),n.TgZ(10,"ion-col",23)(11,"ion-label",23),n._UZ(12,"ion-icon",69),n.TgZ(13,"b")(14,"i"),n._uU(15,"\xa0"),n._UZ(16,"span",11),n._uU(17,"\xa0"),n.qZA()()()()(),n.TgZ(18,"ion-row",23)(19,"ion-col",70),n.NdJ("click",function(i){const r=n.CHM(t).index,_=n.oxw(2);return _.onRatingColClick(_.oidsorted[r],i)})("pointerdown",function(i){const r=n.CHM(t).index,_=n.oxw(2);return _.onRatingColPointerdown(_.oidsorted[r],i)})("touchstart",function(i){const r=n.CHM(t).index,_=n.oxw(2);return _.onRatingColTouchstart(_.oidsorted[r],i)})("touchup",function(i){const r=n.CHM(t).index,_=n.oxw(2);return _.onRatingColTouchup(_.oidsorted[r],i)})("pointerup",function(i){const r=n.CHM(t).index,_=n.oxw(2);return _.onRatingColPointerup(_.oidsorted[r],i)}),n.TgZ(20,"ion-range",71),n.NdJ("ionFocus",function(){const l=n.CHM(t).index,r=n.oxw(2);return r.onRatingSliderFocus(r.oidsorted[l])})("ionChange",function(){const l=n.CHM(t).index,r=n.oxw(2);return r.onRatingSliderChange(r.oidsorted[l])})("ionBlur",function(){const l=n.CHM(t).index,r=n.oxw(2);return r.onRatingSliderBlur(r.oidsorted[l])}),n.TgZ(21,"ion-label",72)(22,"div",73),n.O4$(),n.TgZ(23,"svg",74),n._UZ(24,"rect",75)(25,"line",76)(26,"rect",77),n.qZA()(),n.kcU(),n.TgZ(27,"div",78),n.O4$(),n.TgZ(28,"svg",79),n._UZ(29,"line",80)(30,"circle",81),n.qZA()()()()(),n.YNc(31,fn,7,11,"ion-col",82),n.qZA()()()(),n.kcU(),n.TgZ(32,"ion-row",23)(33,"ion-col",23)(34,"ion-grid",23)(35,"app-expandable",83)(36,"ion-row",84)(37,"ion-col",23)(38,"b")(39,"span",85),n._UZ(40,"span",86),n.ALo(41,"translate"),n.TgZ(42,"small"),n._uU(43,"\x14"),n._UZ(44,"span",87),n.ALo(45,"translate"),n._uU(46,", "),n.qZA()(),n.TgZ(47,"small"),n._uU(48,"\x14"),n.qZA(),n.TgZ(49,"span",88),n._UZ(50,"span",11),n.ALo(51,"translate"),n.qZA(),n.TgZ(52,"small"),n._UZ(53,"span",89),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"small"),n.YNc(56,Zn,4,6,"span",90),n._uU(57,"\xa0 "),n.TgZ(58,"span",88),n._uU(59," ("),n.TgZ(60,"a",91),n.NdJ("click",function(){const l=n.CHM(t).index,r=n.oxw(2);return r.explain_approval_dialog(r.oidsorted[l])}),n.ALo(61,"translate"),n.qZA(),n._uU(62,") "),n.qZA()()(),n.TgZ(63,"span"),n._UZ(64,"br"),n.qZA(),n.TgZ(65,"span")(66,"i"),n._UZ(67,"span",11),n._uU(68,"\xa0\xa0"),n.qZA()(),n.TgZ(69,"span")(70,"small"),n._uU(71," ("),n.TgZ(72,"ion-text",38),n.NdJ("click",function(){const l=n.CHM(t).index,r=n.oxw(2);return r.G.open_url_in_new_tab(r.G.D.fix_url(r.p.options[r.oidsorted[l]].url))}),n.ALo(73,"translate"),n.qZA(),n._uU(74,") "),n.qZA()()()()()()()()()()}if(2&o){const t=s.index,e=n.oxw(2);n.xp6(6),n.Q6J("id","pie_"+e.oidsorted[t]),n.xp6(6),n.Q6J("name",e.expanded[e.oidsorted[t]]?"chevron-down-outline":"chevron-forward-outline"),n.xp6(4),n.Q6J("innerHtml",e.p.options[e.oidsorted[t]].name,n.oJD),n.xp6(3),n.Q6J("id","_slider_"+e.oidsorted[t]+"_"+e.sortingcounter),n.xp6(1),n.Akn("--bar-background: rgba(0,0,0,0);"+(e.rate_yourself_toggle[e.oidsorted[t]]||"agreed"!=e.delegation_status?"pointer-events:; --bar-height: 7px; --knob-size: 35px":"pointer-events: none; --bar-height: 5px; --knob-size: 17px")),n.Q6J("disabled",!e.running)("id","slider_"+e.oidsorted[t]+"_"+e.sortingcounter)("color",e.slidercolor[e.oidsorted[t]])("value",e.p.get_my_proxy_rating(e.oidsorted[t])),n.xp6(4),n.Q6J("id","bar_"+e.oidsorted[t]),n.xp6(3),n.Udp("display","agreed"==e.delegation_status&&e.rate_yourself_toggle[e.oidsorted[t]]?"inline":"none"),n.xp6(2),n.Q6J("id","del_needle_"+e.oidsorted[t]),n.xp6(1),n.Q6J("id","del_knob_"+e.oidsorted[t]),n.xp6(1),n.Q6J("ngIf","agreed"==e.delegation_status),n.xp6(4),n.Q6J("id","expander_"+e.oidsorted[t]+"_"+e.sortingcounter)("expanded",e.expanded[e.oidsorted[t]]),n.xp6(5),n.Q6J("innerHtml",n.xi3(41,36,"winner"==e.p.type?e.running?"poll.chance-to-win":"poll.final-chance-to-win":e.running?"poll.of-the-budget":"poll.final-budget",n.VKq(50,y,e.Math.round(1e3*e.p.T.shares_map.get(e.oidsorted[t]))/10)),n.oJD),n.xp6(4),n.Udp("display",e.votedfor==e.oidsorted[t]?"inline":"none"),n.Q6J("innerHtml",n.lcZ(45,39,"poll.including-your-share"),n.oJD),n.xp6(6),n.Q6J("innerHtml",n.xi3(51,41,"poll.approved-by",n.VKq(52,y,e.Math.round(e.p.T.approval_scores_map.get(e.oidsorted[t])/e.Math.max(1,e.p.T.n_not_abstaining)*1e3)/10)),n.oJD),n.xp6(3),n.Udp("display",e.approved[e.oidsorted[t]]?"inline":"none"),n.Q6J("innerHtml",n.lcZ(54,44,"poll.including-you"),n.oJD),n.xp6(3),n.Q6J("ngIf",t>0&&e.p.T.approval_scores_map.get(e.oidsorted[t-1])==e.p.T.approval_scores_map.get(e.oidsorted[t])||t<e.oidsorted.length-1&&e.p.T.approval_scores_map.get(e.oidsorted[t+1])==e.p.T.approval_scores_map.get(e.oidsorted[t])),n.xp6(4),n.Q6J("innerHtml",n.lcZ(61,46,"poll.explain"),n.oJD),n.xp6(3),n.Udp("display",e.p.options[e.oidsorted[t]].desc||e.p.options[e.oidsorted[t]].url?"inline":"none"),n.xp6(2),n.Udp("display",""!=e.p.options[e.oidsorted[t]].desc?"inline":"none"),n.xp6(2),n.Q6J("innerHtml",e.p.options[e.oidsorted[t]].desc,n.oJD),n.xp6(2),n.Udp("display",""!=e.p.options[e.oidsorted[t]].url?"inline":"none"),n.xp6(3),n.Q6J("innerHtml",n.lcZ(73,48,"read-more"),n.oJD)}}function Tn(o,s){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"ion-item",96)(2,"ion-fab-button",97),n.NdJ("click",function(i){return n.CHM(t),n.oxw(2).add_option(i)}),n._UZ(3,"ion-icon",98),n.qZA(),n.TgZ(4,"ion-button",99),n.NdJ("click",function(i){return n.CHM(t),n.oxw(2).add_option(i)}),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"ion-item",100),n._UZ(7,"small",11),n.ALo(8,"translate"),n.qZA(),n.BQk()}2&o&&(n.xp6(4),n.Q6J("innerHtml",n.lcZ(5,2,"poll.add-option"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(8,4,"poll.add-option-info"),n.oJD))}function vn(o,s){if(1&o){const t=n.EpF();n.ynx(0),n._UZ(1,"ion-item"),n.TgZ(2,"ion-item",101)(3,"ion-col")(4,"small")(5,"p",102),n._uU(6),n.qZA()()(),n.TgZ(7,"ion-buttons",6)(8,"ion-toggle",103),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw(2).running=i}),n.qZA()()(),n.BQk()}if(2&o){const t=n.oxw(2);n.xp6(6),n.gL8(" Debugging info: state=",t.p.state,", vid=",t.p.myvid,", oids=",t.p.oids,", oidsorted=",t.oidsorted,"/",t.p.T.oids_descending,", scores_map=",t.G.map2str(t.p.T.scores_map),". Simulate state (off:closed, on:running): "),n.xp6(2),n.Q6J("ngModel",t.running)}}const yn=function(){return[]};function Jn(o,s){if(1&o){const t=n.EpF();n.TgZ(0,"ion-content",19),n.NdJ("pointerup",function(i){return n.CHM(t),n.oxw().onBodyPointerup(i)})("ionScroll",function(i){return n.CHM(t),n.oxw().onScroll(i)}),n.TgZ(1,"ion-list",20),n.YNc(2,F,9,2,"ion-card",21),n.TgZ(3,"ion-item",22)(4,"ion-grid",23)(5,"ion-row",23)(6,"ion-col",23),n.YNc(7,S,3,6,"small",5),n.TgZ(8,"h3")(9,"b"),n._UZ(10,"i",11),n.qZA()(),n.YNc(11,z,1,1,"i",16),n.YNc(12,V,2,0,"span",5),n.YNc(13,j,5,3,"small",5),n.YNc(14,W,1,0,"br",5),n.TgZ(15,"p")(16,"small")(17,"span",24),n.YNc(18,$,2,3,"ion-badge",25),n.YNc(19,K,2,3,"span",16),n.YNc(20,X,2,3,"span",16),n._uU(21,"\xa0"),n._UZ(22,"b",11),n.qZA(),n._uU(23,"\xa0\xa0\xa0\xa0 "),n.TgZ(24,"span",24),n._UZ(25,"ion-icon",26),n._uU(26,"\xa0"),n._UZ(27,"span",11),n.ALo(28,"translate"),n.qZA()(),n._UZ(29,"br"),n.TgZ(30,"span",24),n._UZ(31,"ion-icon",27),n.TgZ(32,"small",24)(33,"b"),n._uU(34),n.qZA(),n._uU(35,"%\xa0"),n._UZ(36,"span",11),n.ALo(37,"translate"),n.qZA()(),n._uU(38,"\xa0\xa0\xa0 "),n.TgZ(39,"span",24),n._UZ(40,"ion-icon",28),n._uU(41,"\xa0"),n.TgZ(42,"small",24)(43,"b"),n._uU(44),n.qZA(),n._uU(45,"\xa0"),n._UZ(46,"span",11),n.ALo(47,"translate"),n._uU(48,"\xa0 "),n.qZA(),n.TgZ(49,"ion-button",29),n._UZ(50,"ion-icon",30),n.qZA()()()()()()(),n.YNc(51,ln,5,4,"ng-container",5),n.YNc(52,rn,14,4,"ng-container",5),n.YNc(53,un,12,4,"ion-item",31),n.YNc(54,hn,14,5,"ion-item",32),n.YNc(55,mn,22,7,"ion-item",32),n.YNc(56,wn,75,54,"ion-item",33),n.YNc(57,Tn,9,6,"ng-container",5),n.YNc(58,vn,9,7,"ng-container",5),n.qZA()()}if(2&o){const t=n.oxw();n.Q6J("scrollEvents",!0),n.xp6(2),n.Q6J("ngForOf",t.news),n.xp6(5),n.Q6J("ngIf",!!t.p.language&&t.p.language!=t.G.S.language),n.xp6(3),n.Q6J("innerHtml",t.p.title,n.oJD),n.xp6(1),n.Q6J("ngIf",""!=(t.p.desc||"")),n.xp6(1),n.Q6J("ngIf",""!=(t.p.desc||"")&&""!=(t.p.url||"")),n.xp6(1),n.Q6J("ngIf",""!=(t.p.url||"")),n.xp6(1),n.Q6J("ngIf",""!=(t.p.desc||"")||""!=(t.p.url||"")),n.xp6(4),n.Q6J("ngIf",t.running&&t.p.is_closing_soon),n.xp6(1),n.Q6J("ngIf",t.running&&!t.p.is_closing_soon),n.xp6(1),n.Q6J("ngIf",!t.running),n.xp6(2),n.Q6J("innerHtml",t.G.D.format_date(t.p.due),n.oJD),n.xp6(3),n.Q6J("name","share"==t.p.type?"cut-outline":"trophy-outline"),n.xp6(2),n.Q6J("innerHtml",n.lcZ(28,28,"share"==t.p.type?"poll.type-share":"poll.type-winner"),n.oJD),n.xp6(4),n.Q6J("name",1==t.p.agreement_level?"checkmark-done-outline":"analytics-outline"),n.xp6(3),n.hij("\xa0",t.Math.round(1e3*t.p.agreement_level)/10,""),n.xp6(2),n.Q6J("innerHtml",n.lcZ(37,30,"level-of-agreement"),n.oJD),n.xp6(8),n.Oqu(t.p.T.n_not_abstaining),n.xp6(2),n.Q6J("innerHtml",n.lcZ(47,32,"non-abstaining-voters"),n.oJD),n.xp6(3),n.Q6J("routerLink","/inviteto/"+t.p.pid),n.xp6(2),n.Q6J("ngIf",t.running),n.xp6(1),n.Q6J("ngIf",!t.running),n.xp6(1),n.Q6J("ngIf",t.accepted_requests.length>0||t.declined_requests.length>0),n.xp6(1),n.Q6J("ngIf","pending"==t.delegation_status),n.xp6(1),n.Q6J("ngIf","agreed"==t.delegation_status),n.xp6(1),n.Q6J("ngForOf",n.DdM(34,yn).constructor(t.oidsorted.length)),n.xp6(1),n.Q6J("ngIf",t.running),n.xp6(1),n.Q6J("ngIf",!t.environment.production)}}let J=(()=>{class o{constructor(t,e,i,l,r,_,d,u,g,c){this.changeDetector=t,this.router=e,this.route=i,this.routerOutlet=l,this.loadingController=r,this.alertCtrl=_,this.popover=d,this.modalController=u,this.translate=g,this.G=c,this.Array=Array,this.Math=Math,this.Object=Object,this.window=window,this.environment=U.N,this.page="previewpoll",this.running=!0,this.delegation_status="none",this.incoming_delegation_expanded=!1,this.n_indirect_clients=1,this.accepted_requests=[],this.declined_requests=[],this.oidsorted=[],this.sortingcounter=0,this.approved={},this.votedfor=null,this.expanded={},this.pieradius=20,this.two_pi=2*Math.PI,this.slidercolor={},this.refresh_paused=!1,this.needs_refresh=!1,this.scroll_position=0,this.rate_yourself_toggle={},this.n_delegated=0,this.news=new Set,this.ready=!1,this.listeners=new Map,this.final_rand=0,this.dragged_oid=void 0,this.G.L.entry("PollsPage.constructor"),this.route.params.subscribe(x=>{this.pid=x.pid})}ngOnInit(){this.G.L.entry("PollsPage.ngOnInit")}ionViewWillEnter(){this.G.L.entry("PollPage.ionViewWillEnter"),this.G.D.page=this;const t=e=>{this.changeDetector.detectChanges()};window.addEventListener("offline",t),window.addEventListener("online",t)}ionViewDidEnter(){this.G.L.entry("PollPage.ionViewDidEnter"),this.G.D.ready&&this.onDataReady(),this.G.L.debug("PollPage.ready:",this.ready)}onDataReady(){if(this.G.L.entry("PollPage.onDataReady"),!(this.pid in this.G.P.polls))return this.G.L.warn("PollPage unknown pid ignored, redirecting to mypolls page",this.pid,this.G.P.polls),void this.router.navigate(["/mypolls"]);this.p=this.G.P.polls[this.pid],"draft"==this.p.state?(this.G.L.error("PollPage not showing draft poll, redirecting to mypolls page",this.pid),this.router.navigate(["/mypolls"])):this.G.L.info("PollPage showing poll",this.pid),this.p.tally_all(),this.oidsorted=[...this.p.T.oids_descending],this.ready=!0,this.update_order(!0);for(let t of this.oidsorted)this.expanded[t]=!1;window.setTimeout(()=>{this.update_order.bind(this)(!0),this.show_stats.bind(this)()},200),this.update_delegation_info(),this.on_delegate_toggle_change(),this.p.have_seen=!0,this.G.L.exit("PollPage.onDataReady")}onDataChange(){this.G.L.entry("PollPage.onDataChange"),this.p.tally_all(),this.update_order(),this.update_delegation_info(),this.news=this.G.N.filter({pid:this.pid}),this.changeDetector.detectChanges(),this.G.L.exit("PollPage.onDataChange")}update_delegation_info(){this.n_indirect_clients=this.p.get_n_indirect_clients(this.p.myvid);const t=this.G.D.incoming_dids_caches[this.pid];if(this.accepted_requests=[],this.declined_requests=[],t)for(let[i,[l,r,_]]of t)"agreed"==_?this.accepted_requests.push({from:l,url:r}):_.startsWith("declined")&&this.declined_requests.push({from:l,url:r});const e=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*");if(this.G.L.trace("PollPage.update_delegation_info did",e),e){this.delegate=this.G.Del.get_delegate_nickname(this.pid,e);const i=this.G.Del.get_agreement(this.pid,e);this.G.L.trace("PollPage.update_delegation_info agreement",i),this.delegation_status=i.status}this.update_delegation_toggles()}update_delegation_toggles(){for(let t of this.oidsorted){let e=this.G.Del.get_my_outgoing_dids_cache(this.pid).get(t);if(e||(e=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*")),e){const i=this.G.Del.get_agreement(this.pid,e);this.G.L.trace("PollPage found did, agreement",t,e,i,[...i.accepted_oids],[...i.active_oids]),this.rate_yourself_toggle[t]=!i.active_oids.has(t)}else this.G.L.trace("PollPage found no did for",t),this.rate_yourself_toggle[t]=!0}}ionViewWillLeave(){for(let t of this.oidsorted)(!this.delegate||this.rate_yourself_toggle[t])&&this.p.set_my_own_rating(t,Math.round(this.get_slider_value(t)),!0);for(const t of this.news)t.auto_dismiss&&this.G.N.dismiss(t.key)}ionViewDidLeave(){this.G.L.entry("PollPage.ionViewDidLeave"),this.G.D.save_state(),this.G.L.exit("PollPage.ionViewDidLeave")}onScroll(t){return(0,w.mG)(this,void 0,void 0,function*(){yield this.content.getScrollElement(),this.scroll_position=t.detail.scrollTop})}on_rate_yourself_toggle_change(t){this.G.Del.update_my_delegation(this.pid,t,!this.rate_yourself_toggle[t]),this.on_delegate_toggle_change()}on_delegate_toggle_change(){let t=0;for(let[e,i]of Object.entries(this.rate_yourself_toggle))i||t++;this.n_delegated=t}show_stats(){if(!this.ready)return;this.G.L.entry("PollPage.show_stats");const t=this.p,e=t.T,i=t.myvid,l=e.approval_scores_map,r=e.shares_map,_=e.approvals_map;this.votedfor=e.votes_map.get(this.p.myvid);for(const d of t.oids){const u=l.get(d)/e.n_not_abstaining||0,g=r.get(d),c=document.getElementById("bar_"+d),x=document.getElementById("pie_"+d),h=this.pieradius,Qn=h*Math.sin(this.two_pi*g),Ln=h*(1-Math.cos(this.two_pi*g)),Hn=g>.5?1:0;if(this.approved[d]=_.get(d).get(i),c?(c.width.baseVal.valueAsString=(100*u).toString()+"%",c.x.baseVal.valueAsString=(100*(1-u)).toString()+"%"):this.G.L.warn("PollPage.show_stats couldn't change slider bar",d),x?x.setAttribute("d",g<1?"M 21,25 l 0,-"+h+" a "+h+" "+h+" 0 "+Hn+" 1 "+Qn+" "+Ln+" Z":"M 21,25 l 0,-20 a 20 20 0 1 1 0 "+2*h+" a 20 20 0 1 1 0 "+-2*h+" Z"):this.G.L.warn("PollPage.show_stats couldn't change pie piece",d),this.set_slider_color(d,t.get_my_proxy_rating(d)),this.rate_yourself_toggle[d]){const A=document.getElementById("del_needle_"+d),b=document.getElementById("del_knob_"+d),C=this.G.Del.get_potential_effective_delegate(this.pid,d);if(C){const T=(this.p.proxy_ratings_map.get(d)||new Map).get(C)||0;this.G.L.trace("PollPage.show_stats rating",T),A&&(A.x2.baseVal.valueAsString=T.toString()+"%"),b&&(b.cx.baseVal.valueAsString=T.toString()+"%")}}}}update_order(t=!1){return(0,w.mG)(this,void 0,void 0,function*(){if(this.final_rand=this.p.make_final_rand("umewgfwgemfzgwezfgwefugwfxewgofxiwemhfeoifuhewfiewfumwehxfewmgfgmewfzuwegxzugwef"),this.oidsorted.length!=this.p.oids.length)this.needs_refresh=!0;else for(let e in this.oidsorted)if(this.oidsorted[e]!=this.p.T.oids_descending[e]){this.needs_refresh=!0;break}if(t||this.needs_refresh&&!this.refresh_paused){const e=yield this.loadingController.create({message:this.translate.instant("poll.sorting"),spinner:"crescent",duration:100});yield e.present(),yield e.onDidDismiss(),this.oidsorted=[...this.p.T.oids_descending],this.sortingcounter++,this.needs_refresh=!1,setTimeout(()=>{this.show_stats.bind(this)();for(let i in this.oidsorted){const l=this.oidsorted[i],r=document.getElementById("_slider_"+this.oidsorted[i]+"_"+this.sortingcounter),_=c=>{this.onRatingColPointerdown.bind(this)(l,c)},d=c=>{this.onRatingColPointerup.bind(this)(l,c)},u=c=>{this.onRatingColTouchstart.bind(this)(l,c)},g=c=>{this.onRatingColTouchup.bind(this)(l,c)};if(r){if(this.listeners.has(r)){this.G.L.trace("PollPage.update_order removing old event listeners");const c=this.listeners.get(r);r.removeEventListener("pointerdown",c[0],!0),r.removeEventListener("pointerup",c[1],!0),r.removeEventListener("touchstart",c[2],!0),r.removeEventListener("touchup",c[3],!0)}r.addEventListener("pointerdown",_,!0),r.addEventListener("pointerup",d,!0),r.addEventListener("touchstart",u,!0),r.addEventListener("touchup",g,!0),this.listeners.set(r,[_,d,u,g])}}this.G.L.trace("PollPage.update_order registered event listeners",this.sortingcounter)},100)}})}set_slider_color(t,e){this.slidercolor[t]=0==e?"vodlered":this.votedfor==t?"vodledarkgreen":e+100*(this.p.T.approval_scores_map.get(t)/this.p.T.n_not_abstaining||0)<=100?"vodleblue":"vodlegreen"}expand(t){this.expanded[t]=!this.expanded[t]}get_slider(t){return this.G.L.trace("PollPage.get_slider ",this.sortingcounter),document.getElementById("slider_"+t+"_"+this.sortingcounter)}set_slider_values(){for(let t of this.p.oids)this.get_slider(t).value=this.p.proxy_ratings_map.get(t).get(this.p.myvid).toString()}get_slider_value(t){const e=this.get_slider(t);return e?Number(e.value):0}apply_sliders_rating(t){(!this.delegate||this.rate_yourself_toggle[t])&&this.p.set_my_own_rating(t,Math.round(this.get_slider_value(t)),!1),this.show_stats()}onRatingSliderFocus(t){return this.G.L.entry("PollPage.onRatingSliderFocus"),!0}onRatingSliderChange(t){var e=this.get_slider(t),i=Number(e.value);return this.set_slider_color(t,i),this.apply_sliders_rating(t),!0}onRatingSliderBlur(t){return this.G.L.entry("PollPage.onRatingSliderBlur"),this.rating_change_ended(t),!0}rating_change_ended(t){this.G.L.entry("PollPage.rating_change_ended"),(!this.delegate||this.rate_yourself_toggle[t])&&this.p.set_my_own_rating(t,Math.round(this.get_slider_value(t)),!0),this.update_order(),this.G.D.save_state()}onRatingColPointerdown(t,e){if(!this.running)return!1;this.dragged_oid=t;const i=this.get_knob_pos(t),l=e?e instanceof PointerEvent?e.clientX:e.touches[0].clientX:0;return this.G.L.entry("onRatingColPointerdown",this.sortingcounter,t,this.p.options[t].name,l,i),!(l<i.left||l>i.right)||(this.swallow_event(e),!1)}onRatingColTouchstart(t,e){if(!this.running)return!1;this.dragged_oid=t;const i=this.get_knob_pos(t),l=e?e instanceof PointerEvent?e.clientX:e.touches[0].clientX:0;return this.G.L.entry("onRatingColTouchstart",t,l,i),!(l<i.left||l>i.right)||(this.swallow_event(e),!1)}onRatingColPointerup(t,e){return!!this.running&&(this.G.L.entry("onRatingColPointerup",t,this.dragged_oid),t!=this.dragged_oid?(this.swallow_event(e),this.dragged_oid=null,!1):(this.rating_change_ended(t),this.dragged_oid=null,!0))}onRatingColTouchup(t,e){return!!this.running&&(this.G.L.entry("onRatingColTouchup",t,this.dragged_oid),t!=this.dragged_oid?(this.swallow_event(e),this.dragged_oid=null,!1):(this.rating_change_ended(t),this.dragged_oid=null,!0))}onRatingColClick(t,e){if(!this.running)return!1;const i=this.get_knob_pos(t),l=e.clientX;return this.G.L.entry("onRatingColClick",t,this.p.options[t].name,l,i),!(l<i.left||l>i.right)||(this.swallow_event(e),!1)}onBodyPointerup(t){return!!this.running&&(this.dragged_oid&&(this.G.L.entry("onBodyPointerup"),this.onRatingColPointerup(this.dragged_oid,t)),!0)}onBodyTouchup(t){return!!this.running&&(this.dragged_oid&&(this.G.L.entry("onBodyTouchup"),this.onRatingColTouchup(this.dragged_oid,t)),!0)}get_knob_pos(t){const e=this.get_slider(t),i=this.get_screen_coords(e),l=this.get_slider_value(t),r=i.left+(i.right-i.left)*l/100;return this.G.L.trace("pointer slider value",l),{left:r-20,right:r+20}}get_screen_coords(t){return t?t.getBoundingClientRect():new DOMRect}swallow_event(t){this.G.L.trace("swallowing event",t),t&&(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault())}delegate_dialog(t){this.popover.create({event:t,component:Q.DelegationDialogPage,translucent:!0,showBackdrop:!0,componentProps:{parent:this}}).then(e=>{e.present()})}explain_approval_dialog(t){this.modalController.create({component:H.ExplainApprovalPage,cssClass:"explain-approval",showBackdrop:!0,componentProps:{parent:this,oid:t},swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl}).then(e=>{e.present()})}revoke_delegation_dialog(){return(0,w.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({message:this.translate.instant("poll.revoke_delegation",{nickname:this.delegate}),buttons:[{text:this.translate.instant("cancel"),role:"Cancel",handler:()=>{console.log("Confirm Cancel.")}},{text:this.translate.instant("OK"),role:"Ok",handler:()=>{this.G.Del.revoke_delegation(this.pid,this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*"),"*"),this.delegate=null,this.delegation_status="none",this.update_delegation_info(),this.G.D.save_state()}}]})).present()})}add_option(t){this.popover.create({component:L.AddoptionDialogPage,translucent:!0,showBackdrop:!0,cssClass:"add-option-class",componentProps:{parent:this}}).then(e=>{e.present()})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.sBO),n.Y36(m.F0),n.Y36(m.gz),n.Y36(a.jP),n.Y36(a.HT),n.Y36(a.Br),n.Y36(a.Dh),n.Y36(a.IN),n.Y36(Z.sK),n.Y36(k.U))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-poll"]],viewQuery:function(t,e){if(1&t&&n.Gf(a.W2,5),2&t){let i;n.iGM(i=n.CRH())&&(e.content=i.first)}},decls:11,vars:6,consts:[[3,"pointerup","touchup"],[2,"padding-right","11px","padding-left","16px"],["slot","start",2,"margin-right","0px","margin-left","0px","padding-left","0px","padding-right","0px"],[2,"padding-left","0px!important","padding-right","0px!important","position","relative","left","-9px"],["style","font-weight: bold; font-size: larger; padding-left: 0px;",3,"innerHtml",4,"ngIf"],[4,"ngIf"],["slot","end"],["name","crescent","color","grey",4,"ngIf"],["shape","round","size","large","color","primary",3,"click",4,"ngIf"],[3,"scrollEvents","pointerup","ionScroll",4,"ngIf"],[2,"font-weight","bold","font-size","larger","padding-left","0px",3,"innerHtml"],[3,"innerHtml"],["name","cloud-offline-outline","color","grey",2,"position","relative","bottom","-1px"],["name","alert-outline","color","grey"],["name","crescent","color","grey"],["shape","round","size","large","color","primary",3,"click"],[3,"innerHtml",4,"ngIf"],["shape","round","fill","solid","color","primary"],["src","assets/icon/delegate-simple.svg"],[3,"scrollEvents","pointerup","ionScroll"],["lines","full",1,"ion-no-margin","ion-no-padding"],[4,"ngFor","ngForOf"],["color","primary",1,"ion-no-margin"],[1,"ion-no-padding","ion-no-margin"],[2,"white-space","nowrap"],["class","ion-no-margin","style","position: relative; bottom: -6px;","color","danger",3,"innerHtml",4,"ngIf"],["color","light",2,"position","relative","top","2px",3,"name"],["color","light",2,"position","relative","top","3px",3,"name"],["color","light","name","people-outline",2,"position","relative","top","3px"],["fill","clear","size","small",1,"ion-no-padding","ion-no-margin",3,"routerLink"],["name","share-social-outline","color","light",1,"ion-no-padding","ion-no-margin"],["color","light",4,"ngIf"],["color","warning",4,"ngIf"],["style","align-items:flex-start",4,"ngFor","ngForOf"],[1,"ion-no-margin","ion-no-padding"],["lines","none","color","warning",1,"ion-no-margin","ion-no-padding","item-text-wrap"],["slot","end","fill","clear","size","small",1,"ion-no-margin","ion-no-padding",3,"click"],["slot","icon-only","name","close-outline",2,"color","gray!important"],[1,"externallink",3,"innerHtml","click"],["color","danger",1,"ion-no-margin",2,"position","relative","bottom","-6px",3,"innerHtml"],["color","danger",4,"ngIf"],["color","secondary",4,"ngIf"],["color","danger"],[2,"font-size","medium",3,"innerHtml"],["color","warning"],["color","secondary"],["color","light"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","5px","padding-bottom","6px"],[1,"ion-no-margin","ion-padding-right"],["fill","clear","size","small",1,"ion-no-padding","ion-no-margin",2,"position","relative","top","-4px",3,"click"],["name","ellipsis-vertical",1,"ion-no-padding","ion-no-margin"],[1,"ion-text-right"],["outline","true",3,"routerLink",4,"ngFor","ngForOf"],["outline","true",3,"routerLink"],["name","mail-open-outline","size","small",2,"color","grey"],[1,"ion-no-padding","ion-no-margin","ion-align-items-center"],[2,"font-size","medium"],["size","auto",1,"ion-no-margin"],["fill","clear",3,"disabled","click"],["name","trash-outline",2,"color","black"],["fill","clear",3,"click"],["size","auto",1,"ion-no-padding","ion-no-margin","ion-padding-left","ion-text-right",2,"padding-bottom","3px"],["name","arrow-down-outline",2,"position","relative","top","3px"],[2,"align-items","flex-start"],["size","auto",1,"ion-no-padding","ion-no-margin"],["xmlns","http://www.w3.org/2000/svg","width","60px","height","50px",2,"position","relative","top","12px"],["cx","21","cy","25","r","20","fill","#bce4e5","stroke","none"],["d","M 21,25 l 0,-20 a 20 20 0 0 1 0 0 Z","fill","#9abcbd",3,"id"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","8px","cursor","pointer","position","relative","left","-6px","z-index","20",3,"click"],["size","small",1,"ion-no-margin",2,"color","black","position","relative","top","3px",3,"name"],[1,"ion-no-padding","ion-no-margin",3,"id","click","pointerdown","touchstart","touchup","pointerup"],["pin","true","min","0","max","100",1,"ion-no-padding","ion-no-margin",3,"disabled","id","color","value","ionFocus","ionChange","ionBlur"],["slot","end",1,"ion-no-padding","ion-no-margin",2,"margin-right","12px"],[2,"position","absolute","bottom","0px","right","11px","z-index","-10","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","35px"],["x","100%","width","0%","y","8","height","18","fill","#bce4e5","stroke","none",3,"id"],["x1","100%","y1","0","x2","100%","y2","34","fill","none","stroke","#bce4e5","stroke-width","3"],["x","0%","width","100%","y","16","height","2","fill","#b4dbdb","stroke","none"],[2,"position","absolute","top","-2px","right","11px","z-index","-5","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","15px"],["x1","0","y1","8","x2","50%","y2","8","fill","none","stroke","#9abcbd","stroke-width","2","stroke-dasharray","3 2",3,"id"],["cx","50%","cy","8","r","5","fill","#9abcbd","stroke","none",3,"id"],["class","ion-no-margin ion-no-padding","size","auto",4,"ngIf"],[3,"id","expanded"],[1,"ion-no-padding","ion-padding-bottom","ion-no-margin"],[2,"color","#769596"],[2,"white-space","nowrap",3,"innerHtml"],[2,"color","#4c822e",3,"innerHtml"],[2,"color","#9abcbd","white-space","nowrap"],[2,"color","#62a73b",3,"innerHtml"],["style","color:#9abcbd",4,"ngIf"],[3,"innerHtml","click"],["size","auto",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding","ion-padding-bottom","ion-padding-top",2,"position","relative","top","-8px",3,"id","disabled","ngModel","ionChange","ngModelChange"],[2,"position","absolute","z-index","10","top","22px","right","1px","text-align","right"],[2,"color","#9abcbd"],["lines","none",1,"ion-no-padding",2,"padding-left","10px","padding-top","10px"],["size","small","fill","clear","color","primary",3,"click"],["name","add"],["fill","clear",1,"ion-no-padding","ion-no-margin",3,"innerHtml","click"],["lines","none"],["lines","none",1,"ion-text-right"],[2,"color","grey"],["color","light",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-header",0),n.NdJ("pointerup",function(l){return e.onBodyPointerup(l)})("touchup",function(l){return e.onBodyTouchup(l)}),n.TgZ(1,"ion-toolbar",1)(2,"ion-buttons",2),n._UZ(3,"ion-menu-button",3),n.qZA(),n.YNc(4,M,2,3,"ion-text",4),n.YNc(5,I,3,1,"ion-text",5),n.TgZ(6,"ion-buttons",6),n.YNc(7,N,3,0,"ng-container",5),n.YNc(8,Y,1,0,"ion-spinner",7),n.YNc(9,R,5,1,"ion-button",8),n.qZA()()(),n.YNc(10,Jn,59,35,"ion-content",9)),2&t&&(n.xp6(4),n.Q6J("ngIf",e.scroll_position<70),n.xp6(1),n.Q6J("ngIf",e.scroll_position>=70),n.xp6(2),n.Q6J("ngIf",!e.window.navigator.onLine),n.xp6(1),n.Q6J("ngIf",!!e.p&&e.p.syncing&&e.window.navigator.onLine),n.xp6(1),n.Q6J("ngIf","agreed"!=e.delegation_status&&e.running),n.xp6(1),n.Q6J("ngIf",e.ready))},directives:[a.Gu,a.sr,a.Sm,a.fG,f.O5,a.yW,a.gu,a.PQ,a.YG,a.W2,a.q_,f.sg,a.PM,a.FN,a.Ie,a.Q$,a.jY,a.Nd,a.wI,a.yp,a.YI,m.rH,a.hM,a.I_,a.QI,a.ho,a.w,P.JJ,P.On,G,a.W4],pipes:[Z.X$],styles:[""]}),o})();const An=[{path:"",component:J}];let bn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[m.Bz.forChild(An)],m.Bz]}),o})();var Cn=p(4496);let Un=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[f.ez,P.u5,a.Pc,bn,Cn.m,Z.aw.forChild()]]}),o})()}}]);
//# sourceMappingURL=186.638b4e9a88825358.js.map